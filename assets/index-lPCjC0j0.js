function Wv(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var bT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Hv={exports:{}},Zu={},Gv={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $a=Symbol.for("react.element"),jT=Symbol.for("react.portal"),UT=Symbol.for("react.fragment"),BT=Symbol.for("react.strict_mode"),$T=Symbol.for("react.profiler"),zT=Symbol.for("react.provider"),qT=Symbol.for("react.context"),WT=Symbol.for("react.forward_ref"),HT=Symbol.for("react.suspense"),GT=Symbol.for("react.memo"),QT=Symbol.for("react.lazy"),Qm=Symbol.iterator;function KT(t){return t===null||typeof t!="object"?null:(t=Qm&&t[Qm]||t["@@iterator"],typeof t=="function"?t:null)}var Qv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Kv=Object.assign,Yv={};function Qo(t,e,n){this.props=t,this.context=e,this.refs=Yv,this.updater=n||Qv}Qo.prototype.isReactComponent={};Qo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Qo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Jv(){}Jv.prototype=Qo.prototype;function Uf(t,e,n){this.props=t,this.context=e,this.refs=Yv,this.updater=n||Qv}var Bf=Uf.prototype=new Jv;Bf.constructor=Uf;Kv(Bf,Qo.prototype);Bf.isPureReactComponent=!0;var Km=Array.isArray,Xv=Object.prototype.hasOwnProperty,$f={current:null},Zv={key:!0,ref:!0,__self:!0,__source:!0};function e_(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Xv.call(e,r)&&!Zv.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:$a,type:t,key:o,ref:s,props:i,_owner:$f.current}}function YT(t,e){return{$$typeof:$a,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function zf(t){return typeof t=="object"&&t!==null&&t.$$typeof===$a}function JT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ym=/\/+/g;function fh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?JT(""+t.key):e.toString(36)}function Wl(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case $a:case jT:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+fh(s,0):r,Km(i)?(n="",t!=null&&(n=t.replace(Ym,"$&/")+"/"),Wl(i,e,n,"",function(u){return u})):i!=null&&(zf(i)&&(i=YT(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Ym,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Km(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+fh(o,a);s+=Wl(o,e,n,l,i)}else if(l=KT(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+fh(o,a++),s+=Wl(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function _l(t,e,n){if(t==null)return t;var r=[],i=0;return Wl(t,r,"","",function(o){return e.call(n,o,i++)}),r}function XT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Gt={current:null},Hl={transition:null},ZT={ReactCurrentDispatcher:Gt,ReactCurrentBatchConfig:Hl,ReactCurrentOwner:$f};ve.Children={map:_l,forEach:function(t,e,n){_l(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return _l(t,function(){e++}),e},toArray:function(t){return _l(t,function(e){return e})||[]},only:function(t){if(!zf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ve.Component=Qo;ve.Fragment=UT;ve.Profiler=$T;ve.PureComponent=Uf;ve.StrictMode=BT;ve.Suspense=HT;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZT;ve.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Kv({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=$f.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Xv.call(e,l)&&!Zv.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:$a,type:t.type,key:i,ref:o,props:r,_owner:s}};ve.createContext=function(t){return t={$$typeof:qT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:zT,_context:t},t.Consumer=t};ve.createElement=e_;ve.createFactory=function(t){var e=e_.bind(null,t);return e.type=t,e};ve.createRef=function(){return{current:null}};ve.forwardRef=function(t){return{$$typeof:WT,render:t}};ve.isValidElement=zf;ve.lazy=function(t){return{$$typeof:QT,_payload:{_status:-1,_result:t},_init:XT}};ve.memo=function(t,e){return{$$typeof:GT,type:t,compare:e===void 0?null:e}};ve.startTransition=function(t){var e=Hl.transition;Hl.transition={};try{t()}finally{Hl.transition=e}};ve.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ve.useCallback=function(t,e){return Gt.current.useCallback(t,e)};ve.useContext=function(t){return Gt.current.useContext(t)};ve.useDebugValue=function(){};ve.useDeferredValue=function(t){return Gt.current.useDeferredValue(t)};ve.useEffect=function(t,e){return Gt.current.useEffect(t,e)};ve.useId=function(){return Gt.current.useId()};ve.useImperativeHandle=function(t,e,n){return Gt.current.useImperativeHandle(t,e,n)};ve.useInsertionEffect=function(t,e){return Gt.current.useInsertionEffect(t,e)};ve.useLayoutEffect=function(t,e){return Gt.current.useLayoutEffect(t,e)};ve.useMemo=function(t,e){return Gt.current.useMemo(t,e)};ve.useReducer=function(t,e,n){return Gt.current.useReducer(t,e,n)};ve.useRef=function(t){return Gt.current.useRef(t)};ve.useState=function(t){return Gt.current.useState(t)};ve.useSyncExternalStore=function(t,e,n){return Gt.current.useSyncExternalStore(t,e,n)};ve.useTransition=function(){return Gt.current.useTransition()};ve.version="18.2.0";Gv.exports=ve;var L=Gv.exports;const t_=jf(L),eI=Wv({__proto__:null,default:t_},[L]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tI=L,nI=Symbol.for("react.element"),rI=Symbol.for("react.fragment"),iI=Object.prototype.hasOwnProperty,oI=tI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sI={key:!0,ref:!0,__self:!0,__source:!0};function n_(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)iI.call(e,r)&&!sI.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:nI,type:t,key:o,ref:s,props:i,_owner:oI.current}}Zu.Fragment=rI;Zu.jsx=n_;Zu.jsxs=n_;Hv.exports=Zu;var R=Hv.exports,sd={},r_={exports:{}},cn={},i_={exports:{}},o_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,re){var ie=G.length;G.push(re);e:for(;0<ie;){var Ee=ie-1>>>1,Ne=G[Ee];if(0<i(Ne,re))G[Ee]=re,G[ie]=Ne,ie=Ee;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var re=G[0],ie=G.pop();if(ie!==re){G[0]=ie;e:for(var Ee=0,Ne=G.length,dn=Ne>>>1;Ee<dn;){var ht=2*(Ee+1)-1,rn=G[ht],wt=ht+1,Ln=G[wt];if(0>i(rn,ie))wt<Ne&&0>i(Ln,rn)?(G[Ee]=Ln,G[wt]=ie,Ee=wt):(G[Ee]=rn,G[ht]=ie,Ee=ht);else if(wt<Ne&&0>i(Ln,ie))G[Ee]=Ln,G[wt]=ie,Ee=wt;else break e}}return re}function i(G,re){var ie=G.sortIndex-re.sortIndex;return ie!==0?ie:G.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,h=null,f=3,v=!1,A=!1,I=!1,E=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(G){for(var re=n(u);re!==null;){if(re.callback===null)r(u);else if(re.startTime<=G)r(u),re.sortIndex=re.expirationTime,e(l,re);else break;re=n(u)}}function x(G){if(I=!1,w(G),!A)if(n(l)!==null)A=!0,Bt(F);else{var re=n(u);re!==null&&Ae(x,re.startTime-G)}}function F(G,re){A=!1,I&&(I=!1,y(j),j=-1),v=!0;var ie=f;try{for(w(re),h=n(l);h!==null&&(!(h.expirationTime>re)||G&&!Y());){var Ee=h.callback;if(typeof Ee=="function"){h.callback=null,f=h.priorityLevel;var Ne=Ee(h.expirationTime<=re);re=t.unstable_now(),typeof Ne=="function"?h.callback=Ne:h===n(l)&&r(l),w(re)}else r(l);h=n(l)}if(h!==null)var dn=!0;else{var ht=n(u);ht!==null&&Ae(x,ht.startTime-re),dn=!1}return dn}finally{h=null,f=ie,v=!1}}var T=!1,D=null,j=-1,q=5,z=-1;function Y(){return!(t.unstable_now()-z<q)}function Fe(){if(D!==null){var G=t.unstable_now();z=G;var re=!0;try{re=D(!0,G)}finally{re?De():(T=!1,D=null)}}else T=!1}var De;if(typeof m=="function")De=function(){m(Fe)};else if(typeof MessageChannel<"u"){var ct=new MessageChannel,Kt=ct.port2;ct.port1.onmessage=Fe,De=function(){Kt.postMessage(null)}}else De=function(){E(Fe,0)};function Bt(G){D=G,T||(T=!0,De())}function Ae(G,re){j=E(function(){G(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){A||v||(A=!0,Bt(F))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(G){switch(f){case 1:case 2:case 3:var re=3;break;default:re=f}var ie=f;f=re;try{return G()}finally{f=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,re){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ie=f;f=G;try{return re()}finally{f=ie}},t.unstable_scheduleCallback=function(G,re,ie){var Ee=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?Ee+ie:Ee):ie=Ee,G){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=ie+Ne,G={id:c++,callback:re,priorityLevel:G,startTime:ie,expirationTime:Ne,sortIndex:-1},ie>Ee?(G.sortIndex=ie,e(u,G),n(l)===null&&G===n(u)&&(I?(y(j),j=-1):I=!0,Ae(x,ie-Ee))):(G.sortIndex=Ne,e(l,G),A||v||(A=!0,Bt(F))),G},t.unstable_shouldYield=Y,t.unstable_wrapCallback=function(G){var re=f;return function(){var ie=f;f=re;try{return G.apply(this,arguments)}finally{f=ie}}}})(o_);i_.exports=o_;var aI=i_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_=L,ln=aI;function b(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a_=new Set,sa={};function $i(t,e){Do(t,e),Do(t+"Capture",e)}function Do(t,e){for(sa[t]=e,t=0;t<e.length;t++)a_.add(e[t])}var gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ad=Object.prototype.hasOwnProperty,lI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jm={},Xm={};function uI(t){return ad.call(Xm,t)?!0:ad.call(Jm,t)?!1:lI.test(t)?Xm[t]=!0:(Jm[t]=!0,!1)}function cI(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function hI(t,e,n,r){if(e===null||typeof e>"u"||cI(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ct[t]=new Qt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ct[e]=new Qt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ct[t]=new Qt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ct[t]=new Qt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ct[t]=new Qt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ct[t]=new Qt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ct[t]=new Qt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ct[t]=new Qt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ct[t]=new Qt(t,5,!1,t.toLowerCase(),null,!1,!1)});var qf=/[\-:]([a-z])/g;function Wf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(qf,Wf);Ct[e]=new Qt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(qf,Wf);Ct[e]=new Qt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(qf,Wf);Ct[e]=new Qt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ct[t]=new Qt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ct.xlinkHref=new Qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ct[t]=new Qt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Hf(t,e,n,r){var i=Ct.hasOwnProperty(e)?Ct[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(hI(e,n,i,r)&&(n=null),r||i===null?uI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ir=s_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wl=Symbol.for("react.element"),io=Symbol.for("react.portal"),oo=Symbol.for("react.fragment"),Gf=Symbol.for("react.strict_mode"),ld=Symbol.for("react.profiler"),l_=Symbol.for("react.provider"),u_=Symbol.for("react.context"),Qf=Symbol.for("react.forward_ref"),ud=Symbol.for("react.suspense"),cd=Symbol.for("react.suspense_list"),Kf=Symbol.for("react.memo"),Dr=Symbol.for("react.lazy"),c_=Symbol.for("react.offscreen"),Zm=Symbol.iterator;function gs(t){return t===null||typeof t!="object"?null:(t=Zm&&t[Zm]||t["@@iterator"],typeof t=="function"?t:null)}var He=Object.assign,ph;function Ms(t){if(ph===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ph=e&&e[1]||""}return`
`+ph+t}var mh=!1;function gh(t,e){if(!t||mh)return"";mh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{mh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ms(t):""}function dI(t){switch(t.tag){case 5:return Ms(t.type);case 16:return Ms("Lazy");case 13:return Ms("Suspense");case 19:return Ms("SuspenseList");case 0:case 2:case 15:return t=gh(t.type,!1),t;case 11:return t=gh(t.type.render,!1),t;case 1:return t=gh(t.type,!0),t;default:return""}}function hd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case oo:return"Fragment";case io:return"Portal";case ld:return"Profiler";case Gf:return"StrictMode";case ud:return"Suspense";case cd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case u_:return(t.displayName||"Context")+".Consumer";case l_:return(t._context.displayName||"Context")+".Provider";case Qf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Kf:return e=t.displayName||null,e!==null?e:hd(t.type)||"Memo";case Dr:e=t._payload,t=t._init;try{return hd(t(e))}catch{}}return null}function fI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hd(e);case 8:return e===Gf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Yr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function h_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function pI(t){var e=h_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function El(t){t._valueTracker||(t._valueTracker=pI(t))}function d_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=h_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function lu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function dd(t,e){var n=e.checked;return He({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function eg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Yr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function f_(t,e){e=e.checked,e!=null&&Hf(t,"checked",e,!1)}function fd(t,e){f_(t,e);var n=Yr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?pd(t,e.type,n):e.hasOwnProperty("defaultValue")&&pd(t,e.type,Yr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function tg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function pd(t,e,n){(e!=="number"||lu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ls=Array.isArray;function To(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Yr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function md(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(b(91));return He({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ng(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(b(92));if(Ls(n)){if(1<n.length)throw Error(b(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Yr(n)}}function p_(t,e){var n=Yr(e.value),r=Yr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function rg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function m_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?m_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Tl,g_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Tl=Tl||document.createElement("div"),Tl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Tl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function aa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var qs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mI=["Webkit","ms","Moz","O"];Object.keys(qs).forEach(function(t){mI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),qs[e]=qs[t]})});function y_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||qs.hasOwnProperty(t)&&qs[t]?(""+e).trim():e+"px"}function v_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=y_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var gI=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yd(t,e){if(e){if(gI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(b(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(b(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(b(61))}if(e.style!=null&&typeof e.style!="object")throw Error(b(62))}}function vd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _d=null;function Yf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wd=null,Io=null,So=null;function ig(t){if(t=Wa(t)){if(typeof wd!="function")throw Error(b(280));var e=t.stateNode;e&&(e=ic(e),wd(t.stateNode,t.type,e))}}function __(t){Io?So?So.push(t):So=[t]:Io=t}function w_(){if(Io){var t=Io,e=So;if(So=Io=null,ig(t),e)for(t=0;t<e.length;t++)ig(e[t])}}function E_(t,e){return t(e)}function T_(){}var yh=!1;function I_(t,e,n){if(yh)return t(e,n);yh=!0;try{return E_(t,e,n)}finally{yh=!1,(Io!==null||So!==null)&&(T_(),w_())}}function la(t,e){var n=t.stateNode;if(n===null)return null;var r=ic(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(b(231,e,typeof n));return n}var Ed=!1;if(gr)try{var ys={};Object.defineProperty(ys,"passive",{get:function(){Ed=!0}}),window.addEventListener("test",ys,ys),window.removeEventListener("test",ys,ys)}catch{Ed=!1}function yI(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Ws=!1,uu=null,cu=!1,Td=null,vI={onError:function(t){Ws=!0,uu=t}};function _I(t,e,n,r,i,o,s,a,l){Ws=!1,uu=null,yI.apply(vI,arguments)}function wI(t,e,n,r,i,o,s,a,l){if(_I.apply(this,arguments),Ws){if(Ws){var u=uu;Ws=!1,uu=null}else throw Error(b(198));cu||(cu=!0,Td=u)}}function zi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function S_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function og(t){if(zi(t)!==t)throw Error(b(188))}function EI(t){var e=t.alternate;if(!e){if(e=zi(t),e===null)throw Error(b(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return og(i),t;if(o===r)return og(i),e;o=o.sibling}throw Error(b(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(b(189))}}if(n.alternate!==r)throw Error(b(190))}if(n.tag!==3)throw Error(b(188));return n.stateNode.current===n?t:e}function A_(t){return t=EI(t),t!==null?R_(t):null}function R_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=R_(t);if(e!==null)return e;t=t.sibling}return null}var P_=ln.unstable_scheduleCallback,sg=ln.unstable_cancelCallback,TI=ln.unstable_shouldYield,II=ln.unstable_requestPaint,Ze=ln.unstable_now,SI=ln.unstable_getCurrentPriorityLevel,Jf=ln.unstable_ImmediatePriority,C_=ln.unstable_UserBlockingPriority,hu=ln.unstable_NormalPriority,AI=ln.unstable_LowPriority,x_=ln.unstable_IdlePriority,ec=null,Gn=null;function RI(t){if(Gn&&typeof Gn.onCommitFiberRoot=="function")try{Gn.onCommitFiberRoot(ec,t,void 0,(t.current.flags&128)===128)}catch{}}var kn=Math.clz32?Math.clz32:xI,PI=Math.log,CI=Math.LN2;function xI(t){return t>>>=0,t===0?32:31-(PI(t)/CI|0)|0}var Il=64,Sl=4194304;function Fs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function du(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Fs(a):(o&=s,o!==0&&(r=Fs(o)))}else s=n&~i,s!==0?r=Fs(s):o!==0&&(r=Fs(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-kn(e),i=1<<n,r|=t[n],e&=~i;return r}function kI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function DI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-kn(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=kI(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Id(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function k_(){var t=Il;return Il<<=1,!(Il&4194240)&&(Il=64),t}function vh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function za(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-kn(e),t[e]=n}function NI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-kn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Xf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-kn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ce=0;function D_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var N_,Zf,O_,V_,M_,Sd=!1,Al=[],br=null,jr=null,Ur=null,ua=new Map,ca=new Map,Or=[],OI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ag(t,e){switch(t){case"focusin":case"focusout":br=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":ua.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ca.delete(e.pointerId)}}function vs(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Wa(e),e!==null&&Zf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function VI(t,e,n,r,i){switch(e){case"focusin":return br=vs(br,t,e,n,r,i),!0;case"dragenter":return jr=vs(jr,t,e,n,r,i),!0;case"mouseover":return Ur=vs(Ur,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ua.set(o,vs(ua.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ca.set(o,vs(ca.get(o)||null,t,e,n,r,i)),!0}return!1}function L_(t){var e=_i(t.target);if(e!==null){var n=zi(e);if(n!==null){if(e=n.tag,e===13){if(e=S_(n),e!==null){t.blockedOn=e,M_(t.priority,function(){O_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ad(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);_d=r,n.target.dispatchEvent(r),_d=null}else return e=Wa(n),e!==null&&Zf(e),t.blockedOn=n,!1;e.shift()}return!0}function lg(t,e,n){Gl(t)&&n.delete(e)}function MI(){Sd=!1,br!==null&&Gl(br)&&(br=null),jr!==null&&Gl(jr)&&(jr=null),Ur!==null&&Gl(Ur)&&(Ur=null),ua.forEach(lg),ca.forEach(lg)}function _s(t,e){t.blockedOn===e&&(t.blockedOn=null,Sd||(Sd=!0,ln.unstable_scheduleCallback(ln.unstable_NormalPriority,MI)))}function ha(t){function e(i){return _s(i,t)}if(0<Al.length){_s(Al[0],t);for(var n=1;n<Al.length;n++){var r=Al[n];r.blockedOn===t&&(r.blockedOn=null)}}for(br!==null&&_s(br,t),jr!==null&&_s(jr,t),Ur!==null&&_s(Ur,t),ua.forEach(e),ca.forEach(e),n=0;n<Or.length;n++)r=Or[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Or.length&&(n=Or[0],n.blockedOn===null);)L_(n),n.blockedOn===null&&Or.shift()}var Ao=Ir.ReactCurrentBatchConfig,fu=!0;function LI(t,e,n,r){var i=Ce,o=Ao.transition;Ao.transition=null;try{Ce=1,ep(t,e,n,r)}finally{Ce=i,Ao.transition=o}}function FI(t,e,n,r){var i=Ce,o=Ao.transition;Ao.transition=null;try{Ce=4,ep(t,e,n,r)}finally{Ce=i,Ao.transition=o}}function ep(t,e,n,r){if(fu){var i=Ad(t,e,n,r);if(i===null)Ch(t,e,r,pu,n),ag(t,r);else if(VI(i,t,e,n,r))r.stopPropagation();else if(ag(t,r),e&4&&-1<OI.indexOf(t)){for(;i!==null;){var o=Wa(i);if(o!==null&&N_(o),o=Ad(t,e,n,r),o===null&&Ch(t,e,r,pu,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Ch(t,e,r,null,n)}}var pu=null;function Ad(t,e,n,r){if(pu=null,t=Yf(r),t=_i(t),t!==null)if(e=zi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=S_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return pu=t,null}function F_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(SI()){case Jf:return 1;case C_:return 4;case hu:case AI:return 16;case x_:return 536870912;default:return 16}default:return 16}}var Mr=null,tp=null,Ql=null;function b_(){if(Ql)return Ql;var t,e=tp,n=e.length,r,i="value"in Mr?Mr.value:Mr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Ql=i.slice(t,1<r?1-r:void 0)}function Kl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Rl(){return!0}function ug(){return!1}function hn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Rl:ug,this.isPropagationStopped=ug,this}return He(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Rl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Rl)},persist:function(){},isPersistent:Rl}),e}var Ko={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},np=hn(Ko),qa=He({},Ko,{view:0,detail:0}),bI=hn(qa),_h,wh,ws,tc=He({},qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ws&&(ws&&t.type==="mousemove"?(_h=t.screenX-ws.screenX,wh=t.screenY-ws.screenY):wh=_h=0,ws=t),_h)},movementY:function(t){return"movementY"in t?t.movementY:wh}}),cg=hn(tc),jI=He({},tc,{dataTransfer:0}),UI=hn(jI),BI=He({},qa,{relatedTarget:0}),Eh=hn(BI),$I=He({},Ko,{animationName:0,elapsedTime:0,pseudoElement:0}),zI=hn($I),qI=He({},Ko,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),WI=hn(qI),HI=He({},Ko,{data:0}),hg=hn(HI),GI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=KI[t])?!!e[t]:!1}function rp(){return YI}var JI=He({},qa,{key:function(t){if(t.key){var e=GI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Kl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?QI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rp,charCode:function(t){return t.type==="keypress"?Kl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),XI=hn(JI),ZI=He({},tc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dg=hn(ZI),eS=He({},qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rp}),tS=hn(eS),nS=He({},Ko,{propertyName:0,elapsedTime:0,pseudoElement:0}),rS=hn(nS),iS=He({},tc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),oS=hn(iS),sS=[9,13,27,32],ip=gr&&"CompositionEvent"in window,Hs=null;gr&&"documentMode"in document&&(Hs=document.documentMode);var aS=gr&&"TextEvent"in window&&!Hs,j_=gr&&(!ip||Hs&&8<Hs&&11>=Hs),fg=" ",pg=!1;function U_(t,e){switch(t){case"keyup":return sS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function B_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var so=!1;function lS(t,e){switch(t){case"compositionend":return B_(e);case"keypress":return e.which!==32?null:(pg=!0,fg);case"textInput":return t=e.data,t===fg&&pg?null:t;default:return null}}function uS(t,e){if(so)return t==="compositionend"||!ip&&U_(t,e)?(t=b_(),Ql=tp=Mr=null,so=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return j_&&e.locale!=="ko"?null:e.data;default:return null}}var cS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!cS[t.type]:e==="textarea"}function $_(t,e,n,r){__(r),e=mu(e,"onChange"),0<e.length&&(n=new np("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Gs=null,da=null;function hS(t){Z_(t,0)}function nc(t){var e=uo(t);if(d_(e))return t}function dS(t,e){if(t==="change")return e}var z_=!1;if(gr){var Th;if(gr){var Ih="oninput"in document;if(!Ih){var gg=document.createElement("div");gg.setAttribute("oninput","return;"),Ih=typeof gg.oninput=="function"}Th=Ih}else Th=!1;z_=Th&&(!document.documentMode||9<document.documentMode)}function yg(){Gs&&(Gs.detachEvent("onpropertychange",q_),da=Gs=null)}function q_(t){if(t.propertyName==="value"&&nc(da)){var e=[];$_(e,da,t,Yf(t)),I_(hS,e)}}function fS(t,e,n){t==="focusin"?(yg(),Gs=e,da=n,Gs.attachEvent("onpropertychange",q_)):t==="focusout"&&yg()}function pS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return nc(da)}function mS(t,e){if(t==="click")return nc(e)}function gS(t,e){if(t==="input"||t==="change")return nc(e)}function yS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nn=typeof Object.is=="function"?Object.is:yS;function fa(t,e){if(Nn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ad.call(e,i)||!Nn(t[i],e[i]))return!1}return!0}function vg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _g(t,e){var n=vg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=vg(n)}}function W_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?W_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function H_(){for(var t=window,e=lu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=lu(t.document)}return e}function op(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function vS(t){var e=H_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&W_(n.ownerDocument.documentElement,n)){if(r!==null&&op(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=_g(n,o);var s=_g(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _S=gr&&"documentMode"in document&&11>=document.documentMode,ao=null,Rd=null,Qs=null,Pd=!1;function wg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Pd||ao==null||ao!==lu(r)||(r=ao,"selectionStart"in r&&op(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qs&&fa(Qs,r)||(Qs=r,r=mu(Rd,"onSelect"),0<r.length&&(e=new np("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ao)))}function Pl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var lo={animationend:Pl("Animation","AnimationEnd"),animationiteration:Pl("Animation","AnimationIteration"),animationstart:Pl("Animation","AnimationStart"),transitionend:Pl("Transition","TransitionEnd")},Sh={},G_={};gr&&(G_=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function rc(t){if(Sh[t])return Sh[t];if(!lo[t])return t;var e=lo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in G_)return Sh[t]=e[n];return t}var Q_=rc("animationend"),K_=rc("animationiteration"),Y_=rc("animationstart"),J_=rc("transitionend"),X_=new Map,Eg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ni(t,e){X_.set(t,e),$i(e,[t])}for(var Ah=0;Ah<Eg.length;Ah++){var Rh=Eg[Ah],wS=Rh.toLowerCase(),ES=Rh[0].toUpperCase()+Rh.slice(1);ni(wS,"on"+ES)}ni(Q_,"onAnimationEnd");ni(K_,"onAnimationIteration");ni(Y_,"onAnimationStart");ni("dblclick","onDoubleClick");ni("focusin","onFocus");ni("focusout","onBlur");ni(J_,"onTransitionEnd");Do("onMouseEnter",["mouseout","mouseover"]);Do("onMouseLeave",["mouseout","mouseover"]);Do("onPointerEnter",["pointerout","pointerover"]);Do("onPointerLeave",["pointerout","pointerover"]);$i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$i("onBeforeInput",["compositionend","keypress","textInput","paste"]);$i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TS=new Set("cancel close invalid load scroll toggle".split(" ").concat(bs));function Tg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,wI(r,e,void 0,t),t.currentTarget=null}function Z_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Tg(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Tg(i,a,u),o=l}}}if(cu)throw t=Td,cu=!1,Td=null,t}function be(t,e){var n=e[Nd];n===void 0&&(n=e[Nd]=new Set);var r=t+"__bubble";n.has(r)||(e0(e,t,2,!1),n.add(r))}function Ph(t,e,n){var r=0;e&&(r|=4),e0(n,t,r,e)}var Cl="_reactListening"+Math.random().toString(36).slice(2);function pa(t){if(!t[Cl]){t[Cl]=!0,a_.forEach(function(n){n!=="selectionchange"&&(TS.has(n)||Ph(n,!1,t),Ph(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Cl]||(e[Cl]=!0,Ph("selectionchange",!1,e))}}function e0(t,e,n,r){switch(F_(e)){case 1:var i=LI;break;case 4:i=FI;break;default:i=ep}n=i.bind(null,e,n,t),i=void 0,!Ed||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ch(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=_i(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}I_(function(){var u=o,c=Yf(n),h=[];e:{var f=X_.get(t);if(f!==void 0){var v=np,A=t;switch(t){case"keypress":if(Kl(n)===0)break e;case"keydown":case"keyup":v=XI;break;case"focusin":A="focus",v=Eh;break;case"focusout":A="blur",v=Eh;break;case"beforeblur":case"afterblur":v=Eh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=cg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=UI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=tS;break;case Q_:case K_:case Y_:v=zI;break;case J_:v=rS;break;case"scroll":v=bI;break;case"wheel":v=oS;break;case"copy":case"cut":case"paste":v=WI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=dg}var I=(e&4)!==0,E=!I&&t==="scroll",y=I?f!==null?f+"Capture":null:f;I=[];for(var m=u,w;m!==null;){w=m;var x=w.stateNode;if(w.tag===5&&x!==null&&(w=x,y!==null&&(x=la(m,y),x!=null&&I.push(ma(m,x,w)))),E)break;m=m.return}0<I.length&&(f=new v(f,A,null,n,c),h.push({event:f,listeners:I}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",f&&n!==_d&&(A=n.relatedTarget||n.fromElement)&&(_i(A)||A[yr]))break e;if((v||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,v?(A=n.relatedTarget||n.toElement,v=u,A=A?_i(A):null,A!==null&&(E=zi(A),A!==E||A.tag!==5&&A.tag!==6)&&(A=null)):(v=null,A=u),v!==A)){if(I=cg,x="onMouseLeave",y="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(I=dg,x="onPointerLeave",y="onPointerEnter",m="pointer"),E=v==null?f:uo(v),w=A==null?f:uo(A),f=new I(x,m+"leave",v,n,c),f.target=E,f.relatedTarget=w,x=null,_i(c)===u&&(I=new I(y,m+"enter",A,n,c),I.target=w,I.relatedTarget=E,x=I),E=x,v&&A)t:{for(I=v,y=A,m=0,w=I;w;w=Xi(w))m++;for(w=0,x=y;x;x=Xi(x))w++;for(;0<m-w;)I=Xi(I),m--;for(;0<w-m;)y=Xi(y),w--;for(;m--;){if(I===y||y!==null&&I===y.alternate)break t;I=Xi(I),y=Xi(y)}I=null}else I=null;v!==null&&Ig(h,f,v,I,!1),A!==null&&E!==null&&Ig(h,E,A,I,!0)}}e:{if(f=u?uo(u):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var F=dS;else if(mg(f))if(z_)F=gS;else{F=pS;var T=fS}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(F=mS);if(F&&(F=F(t,u))){$_(h,F,n,c);break e}T&&T(t,f,u),t==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&pd(f,"number",f.value)}switch(T=u?uo(u):window,t){case"focusin":(mg(T)||T.contentEditable==="true")&&(ao=T,Rd=u,Qs=null);break;case"focusout":Qs=Rd=ao=null;break;case"mousedown":Pd=!0;break;case"contextmenu":case"mouseup":case"dragend":Pd=!1,wg(h,n,c);break;case"selectionchange":if(_S)break;case"keydown":case"keyup":wg(h,n,c)}var D;if(ip)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else so?U_(t,n)&&(j="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(j_&&n.locale!=="ko"&&(so||j!=="onCompositionStart"?j==="onCompositionEnd"&&so&&(D=b_()):(Mr=c,tp="value"in Mr?Mr.value:Mr.textContent,so=!0)),T=mu(u,j),0<T.length&&(j=new hg(j,t,null,n,c),h.push({event:j,listeners:T}),D?j.data=D:(D=B_(n),D!==null&&(j.data=D)))),(D=aS?lS(t,n):uS(t,n))&&(u=mu(u,"onBeforeInput"),0<u.length&&(c=new hg("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=D))}Z_(h,e)})}function ma(t,e,n){return{instance:t,listener:e,currentTarget:n}}function mu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=la(t,n),o!=null&&r.unshift(ma(t,o,i)),o=la(t,e),o!=null&&r.push(ma(t,o,i))),t=t.return}return r}function Xi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ig(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=la(n,o),l!=null&&s.unshift(ma(n,l,a))):i||(l=la(n,o),l!=null&&s.push(ma(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var IS=/\r\n?/g,SS=/\u0000|\uFFFD/g;function Sg(t){return(typeof t=="string"?t:""+t).replace(IS,`
`).replace(SS,"")}function xl(t,e,n){if(e=Sg(e),Sg(t)!==e&&n)throw Error(b(425))}function gu(){}var Cd=null,xd=null;function kd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Dd=typeof setTimeout=="function"?setTimeout:void 0,AS=typeof clearTimeout=="function"?clearTimeout:void 0,Ag=typeof Promise=="function"?Promise:void 0,RS=typeof queueMicrotask=="function"?queueMicrotask:typeof Ag<"u"?function(t){return Ag.resolve(null).then(t).catch(PS)}:Dd;function PS(t){setTimeout(function(){throw t})}function xh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ha(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ha(e)}function Br(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Rg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Yo=Math.random().toString(36).slice(2),zn="__reactFiber$"+Yo,ga="__reactProps$"+Yo,yr="__reactContainer$"+Yo,Nd="__reactEvents$"+Yo,CS="__reactListeners$"+Yo,xS="__reactHandles$"+Yo;function _i(t){var e=t[zn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[yr]||n[zn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Rg(t);t!==null;){if(n=t[zn])return n;t=Rg(t)}return e}t=n,n=t.parentNode}return null}function Wa(t){return t=t[zn]||t[yr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function uo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(b(33))}function ic(t){return t[ga]||null}var Od=[],co=-1;function ri(t){return{current:t}}function Be(t){0>co||(t.current=Od[co],Od[co]=null,co--)}function Me(t,e){co++,Od[co]=t.current,t.current=e}var Jr={},jt=ri(Jr),en=ri(!1),Ni=Jr;function No(t,e){var n=t.type.contextTypes;if(!n)return Jr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function tn(t){return t=t.childContextTypes,t!=null}function yu(){Be(en),Be(jt)}function Pg(t,e,n){if(jt.current!==Jr)throw Error(b(168));Me(jt,e),Me(en,n)}function t0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(b(108,fI(t)||"Unknown",i));return He({},n,r)}function vu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Jr,Ni=jt.current,Me(jt,t),Me(en,en.current),!0}function Cg(t,e,n){var r=t.stateNode;if(!r)throw Error(b(169));n?(t=t0(t,e,Ni),r.__reactInternalMemoizedMergedChildContext=t,Be(en),Be(jt),Me(jt,t)):Be(en),Me(en,n)}var ur=null,oc=!1,kh=!1;function n0(t){ur===null?ur=[t]:ur.push(t)}function kS(t){oc=!0,n0(t)}function ii(){if(!kh&&ur!==null){kh=!0;var t=0,e=Ce;try{var n=ur;for(Ce=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ur=null,oc=!1}catch(i){throw ur!==null&&(ur=ur.slice(t+1)),P_(Jf,ii),i}finally{Ce=e,kh=!1}}return null}var ho=[],fo=0,_u=null,wu=0,mn=[],gn=0,Oi=null,hr=1,dr="";function fi(t,e){ho[fo++]=wu,ho[fo++]=_u,_u=t,wu=e}function r0(t,e,n){mn[gn++]=hr,mn[gn++]=dr,mn[gn++]=Oi,Oi=t;var r=hr;t=dr;var i=32-kn(r)-1;r&=~(1<<i),n+=1;var o=32-kn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,hr=1<<32-kn(e)+i|n<<i|r,dr=o+t}else hr=1<<o|n<<i|r,dr=t}function sp(t){t.return!==null&&(fi(t,1),r0(t,1,0))}function ap(t){for(;t===_u;)_u=ho[--fo],ho[fo]=null,wu=ho[--fo],ho[fo]=null;for(;t===Oi;)Oi=mn[--gn],mn[gn]=null,dr=mn[--gn],mn[gn]=null,hr=mn[--gn],mn[gn]=null}var an=null,sn=null,$e=!1,Pn=null;function i0(t,e){var n=_n(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function xg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,an=t,sn=Br(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,an=t,sn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Oi!==null?{id:hr,overflow:dr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=_n(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,an=t,sn=null,!0):!1;default:return!1}}function Vd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Md(t){if($e){var e=sn;if(e){var n=e;if(!xg(t,e)){if(Vd(t))throw Error(b(418));e=Br(n.nextSibling);var r=an;e&&xg(t,e)?i0(r,n):(t.flags=t.flags&-4097|2,$e=!1,an=t)}}else{if(Vd(t))throw Error(b(418));t.flags=t.flags&-4097|2,$e=!1,an=t}}}function kg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;an=t}function kl(t){if(t!==an)return!1;if(!$e)return kg(t),$e=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!kd(t.type,t.memoizedProps)),e&&(e=sn)){if(Vd(t))throw o0(),Error(b(418));for(;e;)i0(t,e),e=Br(e.nextSibling)}if(kg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(b(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){sn=Br(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}sn=null}}else sn=an?Br(t.stateNode.nextSibling):null;return!0}function o0(){for(var t=sn;t;)t=Br(t.nextSibling)}function Oo(){sn=an=null,$e=!1}function lp(t){Pn===null?Pn=[t]:Pn.push(t)}var DS=Ir.ReactCurrentBatchConfig;function Sn(t,e){if(t&&t.defaultProps){e=He({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Eu=ri(null),Tu=null,po=null,up=null;function cp(){up=po=Tu=null}function hp(t){var e=Eu.current;Be(Eu),t._currentValue=e}function Ld(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ro(t,e){Tu=t,up=po=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Zt=!0),t.firstContext=null)}function En(t){var e=t._currentValue;if(up!==t)if(t={context:t,memoizedValue:e,next:null},po===null){if(Tu===null)throw Error(b(308));po=t,Tu.dependencies={lanes:0,firstContext:t}}else po=po.next=t;return e}var wi=null;function dp(t){wi===null?wi=[t]:wi.push(t)}function s0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,dp(e)):(n.next=i.next,i.next=n),e.interleaved=n,vr(t,r)}function vr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Nr=!1;function fp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function a0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $r(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ie&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,vr(t,n)}return i=r.interleaved,i===null?(e.next=e,dp(r)):(e.next=i.next,i.next=e),r.interleaved=e,vr(t,n)}function Yl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xf(t,n)}}function Dg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Iu(t,e,n,r){var i=t.updateQueue;Nr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;s=0,c=u=l=null,a=o;do{var f=a.lane,v=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var A=t,I=a;switch(f=e,v=n,I.tag){case 1:if(A=I.payload,typeof A=="function"){h=A.call(v,h,f);break e}h=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=I.payload,f=typeof A=="function"?A.call(v,h,f):A,f==null)break e;h=He({},h,f);break e;case 2:Nr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else v={eventTime:v,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=v,l=h):c=c.next=v,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Mi|=s,t.lanes=s,t.memoizedState=h}}function Ng(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(b(191,i));i.call(r)}}}var l0=new s_.Component().refs;function Fd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:He({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var sc={isMounted:function(t){return(t=t._reactInternals)?zi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ht(),i=qr(t),o=pr(r,i);o.payload=e,n!=null&&(o.callback=n),e=$r(t,o,i),e!==null&&(Dn(e,t,i,r),Yl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ht(),i=qr(t),o=pr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=$r(t,o,i),e!==null&&(Dn(e,t,i,r),Yl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ht(),r=qr(t),i=pr(n,r);i.tag=2,e!=null&&(i.callback=e),e=$r(t,i,r),e!==null&&(Dn(e,t,r,n),Yl(e,t,r))}};function Og(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!fa(n,r)||!fa(i,o):!0}function u0(t,e,n){var r=!1,i=Jr,o=e.contextType;return typeof o=="object"&&o!==null?o=En(o):(i=tn(e)?Ni:jt.current,r=e.contextTypes,o=(r=r!=null)?No(t,i):Jr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=sc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Vg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&sc.enqueueReplaceState(e,e.state,null)}function bd(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=l0,fp(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=En(o):(o=tn(e)?Ni:jt.current,i.context=No(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Fd(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&sc.enqueueReplaceState(i,i.state,null),Iu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Es(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(b(309));var r=n.stateNode}if(!r)throw Error(b(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===l0&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(b(284));if(!n._owner)throw Error(b(290,t))}return t}function Dl(t,e){throw t=Object.prototype.toString.call(e),Error(b(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Mg(t){var e=t._init;return e(t._payload)}function c0(t){function e(y,m){if(t){var w=y.deletions;w===null?(y.deletions=[m],y.flags|=16):w.push(m)}}function n(y,m){if(!t)return null;for(;m!==null;)e(y,m),m=m.sibling;return null}function r(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function i(y,m){return y=Wr(y,m),y.index=0,y.sibling=null,y}function o(y,m,w){return y.index=w,t?(w=y.alternate,w!==null?(w=w.index,w<m?(y.flags|=2,m):w):(y.flags|=2,m)):(y.flags|=1048576,m)}function s(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,m,w,x){return m===null||m.tag!==6?(m=Fh(w,y.mode,x),m.return=y,m):(m=i(m,w),m.return=y,m)}function l(y,m,w,x){var F=w.type;return F===oo?c(y,m,w.props.children,x,w.key):m!==null&&(m.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Dr&&Mg(F)===m.type)?(x=i(m,w.props),x.ref=Es(y,m,w),x.return=y,x):(x=nu(w.type,w.key,w.props,null,y.mode,x),x.ref=Es(y,m,w),x.return=y,x)}function u(y,m,w,x){return m===null||m.tag!==4||m.stateNode.containerInfo!==w.containerInfo||m.stateNode.implementation!==w.implementation?(m=bh(w,y.mode,x),m.return=y,m):(m=i(m,w.children||[]),m.return=y,m)}function c(y,m,w,x,F){return m===null||m.tag!==7?(m=xi(w,y.mode,x,F),m.return=y,m):(m=i(m,w),m.return=y,m)}function h(y,m,w){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Fh(""+m,y.mode,w),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case wl:return w=nu(m.type,m.key,m.props,null,y.mode,w),w.ref=Es(y,null,m),w.return=y,w;case io:return m=bh(m,y.mode,w),m.return=y,m;case Dr:var x=m._init;return h(y,x(m._payload),w)}if(Ls(m)||gs(m))return m=xi(m,y.mode,w,null),m.return=y,m;Dl(y,m)}return null}function f(y,m,w,x){var F=m!==null?m.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return F!==null?null:a(y,m,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case wl:return w.key===F?l(y,m,w,x):null;case io:return w.key===F?u(y,m,w,x):null;case Dr:return F=w._init,f(y,m,F(w._payload),x)}if(Ls(w)||gs(w))return F!==null?null:c(y,m,w,x,null);Dl(y,w)}return null}function v(y,m,w,x,F){if(typeof x=="string"&&x!==""||typeof x=="number")return y=y.get(w)||null,a(m,y,""+x,F);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case wl:return y=y.get(x.key===null?w:x.key)||null,l(m,y,x,F);case io:return y=y.get(x.key===null?w:x.key)||null,u(m,y,x,F);case Dr:var T=x._init;return v(y,m,w,T(x._payload),F)}if(Ls(x)||gs(x))return y=y.get(w)||null,c(m,y,x,F,null);Dl(m,x)}return null}function A(y,m,w,x){for(var F=null,T=null,D=m,j=m=0,q=null;D!==null&&j<w.length;j++){D.index>j?(q=D,D=null):q=D.sibling;var z=f(y,D,w[j],x);if(z===null){D===null&&(D=q);break}t&&D&&z.alternate===null&&e(y,D),m=o(z,m,j),T===null?F=z:T.sibling=z,T=z,D=q}if(j===w.length)return n(y,D),$e&&fi(y,j),F;if(D===null){for(;j<w.length;j++)D=h(y,w[j],x),D!==null&&(m=o(D,m,j),T===null?F=D:T.sibling=D,T=D);return $e&&fi(y,j),F}for(D=r(y,D);j<w.length;j++)q=v(D,y,j,w[j],x),q!==null&&(t&&q.alternate!==null&&D.delete(q.key===null?j:q.key),m=o(q,m,j),T===null?F=q:T.sibling=q,T=q);return t&&D.forEach(function(Y){return e(y,Y)}),$e&&fi(y,j),F}function I(y,m,w,x){var F=gs(w);if(typeof F!="function")throw Error(b(150));if(w=F.call(w),w==null)throw Error(b(151));for(var T=F=null,D=m,j=m=0,q=null,z=w.next();D!==null&&!z.done;j++,z=w.next()){D.index>j?(q=D,D=null):q=D.sibling;var Y=f(y,D,z.value,x);if(Y===null){D===null&&(D=q);break}t&&D&&Y.alternate===null&&e(y,D),m=o(Y,m,j),T===null?F=Y:T.sibling=Y,T=Y,D=q}if(z.done)return n(y,D),$e&&fi(y,j),F;if(D===null){for(;!z.done;j++,z=w.next())z=h(y,z.value,x),z!==null&&(m=o(z,m,j),T===null?F=z:T.sibling=z,T=z);return $e&&fi(y,j),F}for(D=r(y,D);!z.done;j++,z=w.next())z=v(D,y,j,z.value,x),z!==null&&(t&&z.alternate!==null&&D.delete(z.key===null?j:z.key),m=o(z,m,j),T===null?F=z:T.sibling=z,T=z);return t&&D.forEach(function(Fe){return e(y,Fe)}),$e&&fi(y,j),F}function E(y,m,w,x){if(typeof w=="object"&&w!==null&&w.type===oo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case wl:e:{for(var F=w.key,T=m;T!==null;){if(T.key===F){if(F=w.type,F===oo){if(T.tag===7){n(y,T.sibling),m=i(T,w.props.children),m.return=y,y=m;break e}}else if(T.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Dr&&Mg(F)===T.type){n(y,T.sibling),m=i(T,w.props),m.ref=Es(y,T,w),m.return=y,y=m;break e}n(y,T);break}else e(y,T);T=T.sibling}w.type===oo?(m=xi(w.props.children,y.mode,x,w.key),m.return=y,y=m):(x=nu(w.type,w.key,w.props,null,y.mode,x),x.ref=Es(y,m,w),x.return=y,y=x)}return s(y);case io:e:{for(T=w.key;m!==null;){if(m.key===T)if(m.tag===4&&m.stateNode.containerInfo===w.containerInfo&&m.stateNode.implementation===w.implementation){n(y,m.sibling),m=i(m,w.children||[]),m.return=y,y=m;break e}else{n(y,m);break}else e(y,m);m=m.sibling}m=bh(w,y.mode,x),m.return=y,y=m}return s(y);case Dr:return T=w._init,E(y,m,T(w._payload),x)}if(Ls(w))return A(y,m,w,x);if(gs(w))return I(y,m,w,x);Dl(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,m!==null&&m.tag===6?(n(y,m.sibling),m=i(m,w),m.return=y,y=m):(n(y,m),m=Fh(w,y.mode,x),m.return=y,y=m),s(y)):n(y,m)}return E}var Vo=c0(!0),h0=c0(!1),Ha={},Qn=ri(Ha),ya=ri(Ha),va=ri(Ha);function Ei(t){if(t===Ha)throw Error(b(174));return t}function pp(t,e){switch(Me(va,e),Me(ya,t),Me(Qn,Ha),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:gd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=gd(e,t)}Be(Qn),Me(Qn,e)}function Mo(){Be(Qn),Be(ya),Be(va)}function d0(t){Ei(va.current);var e=Ei(Qn.current),n=gd(e,t.type);e!==n&&(Me(ya,t),Me(Qn,n))}function mp(t){ya.current===t&&(Be(Qn),Be(ya))}var qe=ri(0);function Su(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dh=[];function gp(){for(var t=0;t<Dh.length;t++)Dh[t]._workInProgressVersionPrimary=null;Dh.length=0}var Jl=Ir.ReactCurrentDispatcher,Nh=Ir.ReactCurrentBatchConfig,Vi=0,We=null,ft=null,gt=null,Au=!1,Ks=!1,_a=0,NS=0;function kt(){throw Error(b(321))}function yp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Nn(t[n],e[n]))return!1;return!0}function vp(t,e,n,r,i,o){if(Vi=o,We=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Jl.current=t===null||t.memoizedState===null?LS:FS,t=n(r,i),Ks){o=0;do{if(Ks=!1,_a=0,25<=o)throw Error(b(301));o+=1,gt=ft=null,e.updateQueue=null,Jl.current=bS,t=n(r,i)}while(Ks)}if(Jl.current=Ru,e=ft!==null&&ft.next!==null,Vi=0,gt=ft=We=null,Au=!1,e)throw Error(b(300));return t}function _p(){var t=_a!==0;return _a=0,t}function $n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?We.memoizedState=gt=t:gt=gt.next=t,gt}function Tn(){if(ft===null){var t=We.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var e=gt===null?We.memoizedState:gt.next;if(e!==null)gt=e,ft=t;else{if(t===null)throw Error(b(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},gt===null?We.memoizedState=gt=t:gt=gt.next=t}return gt}function wa(t,e){return typeof e=="function"?e(t):e}function Oh(t){var e=Tn(),n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=t;var r=ft,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Vi&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,s=r):l=l.next=h,We.lanes|=c,Mi|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Nn(r,e.memoizedState)||(Zt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,We.lanes|=o,Mi|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Vh(t){var e=Tn(),n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Nn(o,e.memoizedState)||(Zt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function f0(){}function p0(t,e){var n=We,r=Tn(),i=e(),o=!Nn(r.memoizedState,i);if(o&&(r.memoizedState=i,Zt=!0),r=r.queue,wp(y0.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||gt!==null&&gt.memoizedState.tag&1){if(n.flags|=2048,Ea(9,g0.bind(null,n,r,i,e),void 0,null),yt===null)throw Error(b(349));Vi&30||m0(n,e,i)}return i}function m0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function g0(t,e,n,r){e.value=n,e.getSnapshot=r,v0(e)&&_0(t)}function y0(t,e,n){return n(function(){v0(e)&&_0(t)})}function v0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Nn(t,n)}catch{return!0}}function _0(t){var e=vr(t,1);e!==null&&Dn(e,t,1,-1)}function Lg(t){var e=$n();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:t},e.queue=t,t=t.dispatch=MS.bind(null,We,t),[e.memoizedState,t]}function Ea(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function w0(){return Tn().memoizedState}function Xl(t,e,n,r){var i=$n();We.flags|=t,i.memoizedState=Ea(1|e,n,void 0,r===void 0?null:r)}function ac(t,e,n,r){var i=Tn();r=r===void 0?null:r;var o=void 0;if(ft!==null){var s=ft.memoizedState;if(o=s.destroy,r!==null&&yp(r,s.deps)){i.memoizedState=Ea(e,n,o,r);return}}We.flags|=t,i.memoizedState=Ea(1|e,n,o,r)}function Fg(t,e){return Xl(8390656,8,t,e)}function wp(t,e){return ac(2048,8,t,e)}function E0(t,e){return ac(4,2,t,e)}function T0(t,e){return ac(4,4,t,e)}function I0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function S0(t,e,n){return n=n!=null?n.concat([t]):null,ac(4,4,I0.bind(null,e,t),n)}function Ep(){}function A0(t,e){var n=Tn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function R0(t,e){var n=Tn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function P0(t,e,n){return Vi&21?(Nn(n,e)||(n=k_(),We.lanes|=n,Mi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Zt=!0),t.memoizedState=n)}function OS(t,e){var n=Ce;Ce=n!==0&&4>n?n:4,t(!0);var r=Nh.transition;Nh.transition={};try{t(!1),e()}finally{Ce=n,Nh.transition=r}}function C0(){return Tn().memoizedState}function VS(t,e,n){var r=qr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},x0(t))k0(e,n);else if(n=s0(t,e,n,r),n!==null){var i=Ht();Dn(n,t,r,i),D0(n,e,r)}}function MS(t,e,n){var r=qr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(x0(t))k0(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Nn(a,s)){var l=e.interleaved;l===null?(i.next=i,dp(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=s0(t,e,i,r),n!==null&&(i=Ht(),Dn(n,t,r,i),D0(n,e,r))}}function x0(t){var e=t.alternate;return t===We||e!==null&&e===We}function k0(t,e){Ks=Au=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function D0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xf(t,n)}}var Ru={readContext:En,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useInsertionEffect:kt,useLayoutEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useMutableSource:kt,useSyncExternalStore:kt,useId:kt,unstable_isNewReconciler:!1},LS={readContext:En,useCallback:function(t,e){return $n().memoizedState=[t,e===void 0?null:e],t},useContext:En,useEffect:Fg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Xl(4194308,4,I0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Xl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Xl(4,2,t,e)},useMemo:function(t,e){var n=$n();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=$n();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=VS.bind(null,We,t),[r.memoizedState,t]},useRef:function(t){var e=$n();return t={current:t},e.memoizedState=t},useState:Lg,useDebugValue:Ep,useDeferredValue:function(t){return $n().memoizedState=t},useTransition:function(){var t=Lg(!1),e=t[0];return t=OS.bind(null,t[1]),$n().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=We,i=$n();if($e){if(n===void 0)throw Error(b(407));n=n()}else{if(n=e(),yt===null)throw Error(b(349));Vi&30||m0(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Fg(y0.bind(null,r,o,t),[t]),r.flags|=2048,Ea(9,g0.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=$n(),e=yt.identifierPrefix;if($e){var n=dr,r=hr;n=(r&~(1<<32-kn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=_a++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=NS++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},FS={readContext:En,useCallback:A0,useContext:En,useEffect:wp,useImperativeHandle:S0,useInsertionEffect:E0,useLayoutEffect:T0,useMemo:R0,useReducer:Oh,useRef:w0,useState:function(){return Oh(wa)},useDebugValue:Ep,useDeferredValue:function(t){var e=Tn();return P0(e,ft.memoizedState,t)},useTransition:function(){var t=Oh(wa)[0],e=Tn().memoizedState;return[t,e]},useMutableSource:f0,useSyncExternalStore:p0,useId:C0,unstable_isNewReconciler:!1},bS={readContext:En,useCallback:A0,useContext:En,useEffect:wp,useImperativeHandle:S0,useInsertionEffect:E0,useLayoutEffect:T0,useMemo:R0,useReducer:Vh,useRef:w0,useState:function(){return Vh(wa)},useDebugValue:Ep,useDeferredValue:function(t){var e=Tn();return ft===null?e.memoizedState=t:P0(e,ft.memoizedState,t)},useTransition:function(){var t=Vh(wa)[0],e=Tn().memoizedState;return[t,e]},useMutableSource:f0,useSyncExternalStore:p0,useId:C0,unstable_isNewReconciler:!1};function Lo(t,e){try{var n="",r=e;do n+=dI(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Mh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function jd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var jS=typeof WeakMap=="function"?WeakMap:Map;function N0(t,e,n){n=pr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Cu||(Cu=!0,Kd=r),jd(t,e)},n}function O0(t,e,n){n=pr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){jd(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){jd(t,e),typeof r!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function bg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new jS;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=ZS.bind(null,t,e,n),e.then(t,t))}function jg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ug(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=pr(-1,1),e.tag=2,$r(n,e,1))),n.lanes|=1),t)}var US=Ir.ReactCurrentOwner,Zt=!1;function qt(t,e,n,r){e.child=t===null?h0(e,null,n,r):Vo(e,t.child,n,r)}function Bg(t,e,n,r,i){n=n.render;var o=e.ref;return Ro(e,i),r=vp(t,e,n,r,o,i),n=_p(),t!==null&&!Zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_r(t,e,i)):($e&&n&&sp(e),e.flags|=1,qt(t,e,r,i),e.child)}function $g(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!xp(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,V0(t,e,o,r,i)):(t=nu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:fa,n(s,r)&&t.ref===e.ref)return _r(t,e,i)}return e.flags|=1,t=Wr(o,r),t.ref=e.ref,t.return=e,e.child=t}function V0(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(fa(o,r)&&t.ref===e.ref)if(Zt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Zt=!0);else return e.lanes=t.lanes,_r(t,e,i)}return Ud(t,e,n,r,i)}function M0(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me(go,on),on|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Me(go,on),on|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Me(go,on),on|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Me(go,on),on|=r;return qt(t,e,i,n),e.child}function L0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ud(t,e,n,r,i){var o=tn(n)?Ni:jt.current;return o=No(e,o),Ro(e,i),n=vp(t,e,n,r,o,i),r=_p(),t!==null&&!Zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_r(t,e,i)):($e&&r&&sp(e),e.flags|=1,qt(t,e,n,i),e.child)}function zg(t,e,n,r,i){if(tn(n)){var o=!0;vu(e)}else o=!1;if(Ro(e,i),e.stateNode===null)Zl(t,e),u0(e,n,r),bd(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=En(u):(u=tn(n)?Ni:jt.current,u=No(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Vg(e,s,r,u),Nr=!1;var f=e.memoizedState;s.state=f,Iu(e,r,s,i),l=e.memoizedState,a!==r||f!==l||en.current||Nr?(typeof c=="function"&&(Fd(e,n,c,r),l=e.memoizedState),(a=Nr||Og(e,n,a,r,f,l,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,a0(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Sn(e.type,a),s.props=u,h=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=En(l):(l=tn(n)?Ni:jt.current,l=No(e,l));var v=n.getDerivedStateFromProps;(c=typeof v=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Vg(e,s,r,l),Nr=!1,f=e.memoizedState,s.state=f,Iu(e,r,s,i);var A=e.memoizedState;a!==h||f!==A||en.current||Nr?(typeof v=="function"&&(Fd(e,n,v,r),A=e.memoizedState),(u=Nr||Og(e,n,u,r,f,A,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,A,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,A,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=A),s.props=r,s.state=A,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Bd(t,e,n,r,o,i)}function Bd(t,e,n,r,i,o){L0(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Cg(e,n,!1),_r(t,e,o);r=e.stateNode,US.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Vo(e,t.child,null,o),e.child=Vo(e,null,a,o)):qt(t,e,a,o),e.memoizedState=r.state,i&&Cg(e,n,!0),e.child}function F0(t){var e=t.stateNode;e.pendingContext?Pg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Pg(t,e.context,!1),pp(t,e.containerInfo)}function qg(t,e,n,r,i){return Oo(),lp(i),e.flags|=256,qt(t,e,n,r),e.child}var $d={dehydrated:null,treeContext:null,retryLane:0};function zd(t){return{baseLanes:t,cachePool:null,transitions:null}}function b0(t,e,n){var r=e.pendingProps,i=qe.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Me(qe,i&1),t===null)return Md(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=cc(s,r,0,null),t=xi(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=zd(n),e.memoizedState=$d,t):Tp(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return BS(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Wr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Wr(a,o):(o=xi(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?zd(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=$d,r}return o=t.child,t=o.sibling,r=Wr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Tp(t,e){return e=cc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Nl(t,e,n,r){return r!==null&&lp(r),Vo(e,t.child,null,n),t=Tp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function BS(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Mh(Error(b(422))),Nl(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=cc({mode:"visible",children:r.children},i,0,null),o=xi(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Vo(e,t.child,null,s),e.child.memoizedState=zd(s),e.memoizedState=$d,o);if(!(e.mode&1))return Nl(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(b(419)),r=Mh(o,r,void 0),Nl(t,e,s,r)}if(a=(s&t.childLanes)!==0,Zt||a){if(r=yt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,vr(t,i),Dn(r,t,i,-1))}return Cp(),r=Mh(Error(b(421))),Nl(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=eA.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,sn=Br(i.nextSibling),an=e,$e=!0,Pn=null,t!==null&&(mn[gn++]=hr,mn[gn++]=dr,mn[gn++]=Oi,hr=t.id,dr=t.overflow,Oi=e),e=Tp(e,r.children),e.flags|=4096,e)}function Wg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ld(t.return,e,n)}function Lh(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function j0(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(qt(t,e,r.children,n),r=qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wg(t,n,e);else if(t.tag===19)Wg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Me(qe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Su(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Lh(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Su(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Lh(e,!0,n,null,o);break;case"together":Lh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _r(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Mi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(b(153));if(e.child!==null){for(t=e.child,n=Wr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Wr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function $S(t,e,n){switch(e.tag){case 3:F0(e),Oo();break;case 5:d0(e);break;case 1:tn(e.type)&&vu(e);break;case 4:pp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Me(Eu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Me(qe,qe.current&1),e.flags|=128,null):n&e.child.childLanes?b0(t,e,n):(Me(qe,qe.current&1),t=_r(t,e,n),t!==null?t.sibling:null);Me(qe,qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return j0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Me(qe,qe.current),r)break;return null;case 22:case 23:return e.lanes=0,M0(t,e,n)}return _r(t,e,n)}var U0,qd,B0,$0;U0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};qd=function(){};B0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ei(Qn.current);var o=null;switch(n){case"input":i=dd(t,i),r=dd(t,r),o=[];break;case"select":i=He({},i,{value:void 0}),r=He({},r,{value:void 0}),o=[];break;case"textarea":i=md(t,i),r=md(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=gu)}yd(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(sa.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i?.[u],r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(sa.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&be("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};$0=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ts(t,e){if(!$e)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Dt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function zS(t,e,n){var r=e.pendingProps;switch(ap(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(e),null;case 1:return tn(e.type)&&yu(),Dt(e),null;case 3:return r=e.stateNode,Mo(),Be(en),Be(jt),gp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(kl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Pn!==null&&(Xd(Pn),Pn=null))),qd(t,e),Dt(e),null;case 5:mp(e);var i=Ei(va.current);if(n=e.type,t!==null&&e.stateNode!=null)B0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(b(166));return Dt(e),null}if(t=Ei(Qn.current),kl(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[zn]=e,r[ga]=o,t=(e.mode&1)!==0,n){case"dialog":be("cancel",r),be("close",r);break;case"iframe":case"object":case"embed":be("load",r);break;case"video":case"audio":for(i=0;i<bs.length;i++)be(bs[i],r);break;case"source":be("error",r);break;case"img":case"image":case"link":be("error",r),be("load",r);break;case"details":be("toggle",r);break;case"input":eg(r,o),be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},be("invalid",r);break;case"textarea":ng(r,o),be("invalid",r)}yd(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&xl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&xl(r.textContent,a,t),i=["children",""+a]):sa.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&be("scroll",r)}switch(n){case"input":El(r),tg(r,o,!0);break;case"textarea":El(r),rg(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=gu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=m_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[zn]=e,t[ga]=r,U0(t,e,!1,!1),e.stateNode=t;e:{switch(s=vd(n,r),n){case"dialog":be("cancel",t),be("close",t),i=r;break;case"iframe":case"object":case"embed":be("load",t),i=r;break;case"video":case"audio":for(i=0;i<bs.length;i++)be(bs[i],t);i=r;break;case"source":be("error",t),i=r;break;case"img":case"image":case"link":be("error",t),be("load",t),i=r;break;case"details":be("toggle",t),i=r;break;case"input":eg(t,r),i=dd(t,r),be("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=He({},r,{value:void 0}),be("invalid",t);break;case"textarea":ng(t,r),i=md(t,r),be("invalid",t);break;default:i=r}yd(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?v_(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&g_(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&aa(t,l):typeof l=="number"&&aa(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(sa.hasOwnProperty(o)?l!=null&&o==="onScroll"&&be("scroll",t):l!=null&&Hf(t,o,l,s))}switch(n){case"input":El(t),tg(t,r,!1);break;case"textarea":El(t),rg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Yr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?To(t,!!r.multiple,o,!1):r.defaultValue!=null&&To(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=gu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Dt(e),null;case 6:if(t&&e.stateNode!=null)$0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(b(166));if(n=Ei(va.current),Ei(Qn.current),kl(e)){if(r=e.stateNode,n=e.memoizedProps,r[zn]=e,(o=r.nodeValue!==n)&&(t=an,t!==null))switch(t.tag){case 3:xl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&xl(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zn]=e,e.stateNode=r}return Dt(e),null;case 13:if(Be(qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if($e&&sn!==null&&e.mode&1&&!(e.flags&128))o0(),Oo(),e.flags|=98560,o=!1;else if(o=kl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(b(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(b(317));o[zn]=e}else Oo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Dt(e),o=!1}else Pn!==null&&(Xd(Pn),Pn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||qe.current&1?pt===0&&(pt=3):Cp())),e.updateQueue!==null&&(e.flags|=4),Dt(e),null);case 4:return Mo(),qd(t,e),t===null&&pa(e.stateNode.containerInfo),Dt(e),null;case 10:return hp(e.type._context),Dt(e),null;case 17:return tn(e.type)&&yu(),Dt(e),null;case 19:if(Be(qe),o=e.memoizedState,o===null)return Dt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Ts(o,!1);else{if(pt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Su(t),s!==null){for(e.flags|=128,Ts(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Me(qe,qe.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ze()>Fo&&(e.flags|=128,r=!0,Ts(o,!1),e.lanes=4194304)}else{if(!r)if(t=Su(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ts(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!$e)return Dt(e),null}else 2*Ze()-o.renderingStartTime>Fo&&n!==1073741824&&(e.flags|=128,r=!0,Ts(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ze(),e.sibling=null,n=qe.current,Me(qe,r?n&1|2:n&1),e):(Dt(e),null);case 22:case 23:return Pp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?on&1073741824&&(Dt(e),e.subtreeFlags&6&&(e.flags|=8192)):Dt(e),null;case 24:return null;case 25:return null}throw Error(b(156,e.tag))}function qS(t,e){switch(ap(e),e.tag){case 1:return tn(e.type)&&yu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Mo(),Be(en),Be(jt),gp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return mp(e),null;case 13:if(Be(qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(b(340));Oo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Be(qe),null;case 4:return Mo(),null;case 10:return hp(e.type._context),null;case 22:case 23:return Pp(),null;case 24:return null;default:return null}}var Ol=!1,Vt=!1,WS=typeof WeakSet=="function"?WeakSet:Set,J=null;function mo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ke(t,e,r)}else n.current=null}function Wd(t,e,n){try{n()}catch(r){Ke(t,e,r)}}var Hg=!1;function HS(t,e){if(Cd=fu,t=H_(),op(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,h=t,f=null;t:for(;;){for(var v;h!==n||i!==0&&h.nodeType!==3||(a=s+i),h!==o||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(v=h.firstChild)!==null;)f=h,h=v;for(;;){if(h===t)break t;if(f===n&&++u===i&&(a=s),f===o&&++c===r&&(l=s),(v=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(xd={focusedElem:t,selectionRange:n},fu=!1,J=e;J!==null;)if(e=J,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,J=t;else for(;J!==null;){e=J;try{var A=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var I=A.memoizedProps,E=A.memoizedState,y=e.stateNode,m=y.getSnapshotBeforeUpdate(e.elementType===e.type?I:Sn(e.type,I),E);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(b(163))}}catch(x){Ke(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,J=t;break}J=e.return}return A=Hg,Hg=!1,A}function Ys(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Wd(e,n,o)}i=i.next}while(i!==r)}}function lc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Hd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function z0(t){var e=t.alternate;e!==null&&(t.alternate=null,z0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[zn],delete e[ga],delete e[Nd],delete e[CS],delete e[xS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function q0(t){return t.tag===5||t.tag===3||t.tag===4}function Gg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||q0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=gu));else if(r!==4&&(t=t.child,t!==null))for(Gd(t,e,n),t=t.sibling;t!==null;)Gd(t,e,n),t=t.sibling}function Qd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Qd(t,e,n),t=t.sibling;t!==null;)Qd(t,e,n),t=t.sibling}var Et=null,An=!1;function Cr(t,e,n){for(n=n.child;n!==null;)W0(t,e,n),n=n.sibling}function W0(t,e,n){if(Gn&&typeof Gn.onCommitFiberUnmount=="function")try{Gn.onCommitFiberUnmount(ec,n)}catch{}switch(n.tag){case 5:Vt||mo(n,e);case 6:var r=Et,i=An;Et=null,Cr(t,e,n),Et=r,An=i,Et!==null&&(An?(t=Et,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Et.removeChild(n.stateNode));break;case 18:Et!==null&&(An?(t=Et,n=n.stateNode,t.nodeType===8?xh(t.parentNode,n):t.nodeType===1&&xh(t,n),ha(t)):xh(Et,n.stateNode));break;case 4:r=Et,i=An,Et=n.stateNode.containerInfo,An=!0,Cr(t,e,n),Et=r,An=i;break;case 0:case 11:case 14:case 15:if(!Vt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Wd(n,e,s),i=i.next}while(i!==r)}Cr(t,e,n);break;case 1:if(!Vt&&(mo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ke(n,e,a)}Cr(t,e,n);break;case 21:Cr(t,e,n);break;case 22:n.mode&1?(Vt=(r=Vt)||n.memoizedState!==null,Cr(t,e,n),Vt=r):Cr(t,e,n);break;default:Cr(t,e,n)}}function Qg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new WS),e.forEach(function(r){var i=tA.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function In(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Et=a.stateNode,An=!1;break e;case 3:Et=a.stateNode.containerInfo,An=!0;break e;case 4:Et=a.stateNode.containerInfo,An=!0;break e}a=a.return}if(Et===null)throw Error(b(160));W0(o,s,i),Et=null,An=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ke(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)H0(e,t),e=e.sibling}function H0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(In(e,t),Bn(t),r&4){try{Ys(3,t,t.return),lc(3,t)}catch(I){Ke(t,t.return,I)}try{Ys(5,t,t.return)}catch(I){Ke(t,t.return,I)}}break;case 1:In(e,t),Bn(t),r&512&&n!==null&&mo(n,n.return);break;case 5:if(In(e,t),Bn(t),r&512&&n!==null&&mo(n,n.return),t.flags&32){var i=t.stateNode;try{aa(i,"")}catch(I){Ke(t,t.return,I)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&f_(i,o),vd(a,s);var u=vd(a,o);for(s=0;s<l.length;s+=2){var c=l[s],h=l[s+1];c==="style"?v_(i,h):c==="dangerouslySetInnerHTML"?g_(i,h):c==="children"?aa(i,h):Hf(i,c,h,u)}switch(a){case"input":fd(i,o);break;case"textarea":p_(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var v=o.value;v!=null?To(i,!!o.multiple,v,!1):f!==!!o.multiple&&(o.defaultValue!=null?To(i,!!o.multiple,o.defaultValue,!0):To(i,!!o.multiple,o.multiple?[]:"",!1))}i[ga]=o}catch(I){Ke(t,t.return,I)}}break;case 6:if(In(e,t),Bn(t),r&4){if(t.stateNode===null)throw Error(b(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(I){Ke(t,t.return,I)}}break;case 3:if(In(e,t),Bn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ha(e.containerInfo)}catch(I){Ke(t,t.return,I)}break;case 4:In(e,t),Bn(t);break;case 13:In(e,t),Bn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Ap=Ze())),r&4&&Qg(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Vt=(u=Vt)||c,In(e,t),Vt=u):In(e,t),Bn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(J=t,c=t.child;c!==null;){for(h=J=c;J!==null;){switch(f=J,v=f.child,f.tag){case 0:case 11:case 14:case 15:Ys(4,f,f.return);break;case 1:mo(f,f.return);var A=f.stateNode;if(typeof A.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,A.props=e.memoizedProps,A.state=e.memoizedState,A.componentWillUnmount()}catch(I){Ke(r,n,I)}}break;case 5:mo(f,f.return);break;case 22:if(f.memoizedState!==null){Yg(h);continue}}v!==null?(v.return=f,J=v):Yg(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=y_("display",s))}catch(I){Ke(t,t.return,I)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(I){Ke(t,t.return,I)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:In(e,t),Bn(t),r&4&&Qg(t);break;case 21:break;default:In(e,t),Bn(t)}}function Bn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(q0(n)){var r=n;break e}n=n.return}throw Error(b(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(aa(i,""),r.flags&=-33);var o=Gg(t);Qd(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Gg(t);Gd(t,a,s);break;default:throw Error(b(161))}}catch(l){Ke(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function GS(t,e,n){J=t,G0(t)}function G0(t,e,n){for(var r=(t.mode&1)!==0;J!==null;){var i=J,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Ol;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Vt;a=Ol;var u=Vt;if(Ol=s,(Vt=l)&&!u)for(J=i;J!==null;)s=J,l=s.child,s.tag===22&&s.memoizedState!==null?Jg(i):l!==null?(l.return=s,J=l):Jg(i);for(;o!==null;)J=o,G0(o),o=o.sibling;J=i,Ol=a,Vt=u}Kg(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,J=o):Kg(t)}}function Kg(t){for(;J!==null;){var e=J;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Vt||lc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Vt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Sn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Ng(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ng(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&ha(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(b(163))}Vt||e.flags&512&&Hd(e)}catch(f){Ke(e,e.return,f)}}if(e===t){J=null;break}if(n=e.sibling,n!==null){n.return=e.return,J=n;break}J=e.return}}function Yg(t){for(;J!==null;){var e=J;if(e===t){J=null;break}var n=e.sibling;if(n!==null){n.return=e.return,J=n;break}J=e.return}}function Jg(t){for(;J!==null;){var e=J;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{lc(4,e)}catch(l){Ke(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ke(e,i,l)}}var o=e.return;try{Hd(e)}catch(l){Ke(e,o,l)}break;case 5:var s=e.return;try{Hd(e)}catch(l){Ke(e,s,l)}}}catch(l){Ke(e,e.return,l)}if(e===t){J=null;break}var a=e.sibling;if(a!==null){a.return=e.return,J=a;break}J=e.return}}var QS=Math.ceil,Pu=Ir.ReactCurrentDispatcher,Ip=Ir.ReactCurrentOwner,wn=Ir.ReactCurrentBatchConfig,Ie=0,yt=null,at=null,At=0,on=0,go=ri(0),pt=0,Ta=null,Mi=0,uc=0,Sp=0,Js=null,Xt=null,Ap=0,Fo=1/0,lr=null,Cu=!1,Kd=null,zr=null,Vl=!1,Lr=null,xu=0,Xs=0,Yd=null,eu=-1,tu=0;function Ht(){return Ie&6?Ze():eu!==-1?eu:eu=Ze()}function qr(t){return t.mode&1?Ie&2&&At!==0?At&-At:DS.transition!==null?(tu===0&&(tu=k_()),tu):(t=Ce,t!==0||(t=window.event,t=t===void 0?16:F_(t.type)),t):1}function Dn(t,e,n,r){if(50<Xs)throw Xs=0,Yd=null,Error(b(185));za(t,n,r),(!(Ie&2)||t!==yt)&&(t===yt&&(!(Ie&2)&&(uc|=n),pt===4&&Vr(t,At)),nn(t,r),n===1&&Ie===0&&!(e.mode&1)&&(Fo=Ze()+500,oc&&ii()))}function nn(t,e){var n=t.callbackNode;DI(t,e);var r=du(t,t===yt?At:0);if(r===0)n!==null&&sg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&sg(n),e===1)t.tag===0?kS(Xg.bind(null,t)):n0(Xg.bind(null,t)),RS(function(){!(Ie&6)&&ii()}),n=null;else{switch(D_(r)){case 1:n=Jf;break;case 4:n=C_;break;case 16:n=hu;break;case 536870912:n=x_;break;default:n=hu}n=tw(n,Q0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Q0(t,e){if(eu=-1,tu=0,Ie&6)throw Error(b(327));var n=t.callbackNode;if(Po()&&t.callbackNode!==n)return null;var r=du(t,t===yt?At:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ku(t,r);else{e=r;var i=Ie;Ie|=2;var o=Y0();(yt!==t||At!==e)&&(lr=null,Fo=Ze()+500,Ci(t,e));do try{JS();break}catch(a){K0(t,a)}while(!0);cp(),Pu.current=o,Ie=i,at!==null?e=0:(yt=null,At=0,e=pt)}if(e!==0){if(e===2&&(i=Id(t),i!==0&&(r=i,e=Jd(t,i))),e===1)throw n=Ta,Ci(t,0),Vr(t,r),nn(t,Ze()),n;if(e===6)Vr(t,r);else{if(i=t.current.alternate,!(r&30)&&!KS(i)&&(e=ku(t,r),e===2&&(o=Id(t),o!==0&&(r=o,e=Jd(t,o))),e===1))throw n=Ta,Ci(t,0),Vr(t,r),nn(t,Ze()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(b(345));case 2:pi(t,Xt,lr);break;case 3:if(Vr(t,r),(r&130023424)===r&&(e=Ap+500-Ze(),10<e)){if(du(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ht(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Dd(pi.bind(null,t,Xt,lr),e);break}pi(t,Xt,lr);break;case 4:if(Vr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-kn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*QS(r/1960))-r,10<r){t.timeoutHandle=Dd(pi.bind(null,t,Xt,lr),r);break}pi(t,Xt,lr);break;case 5:pi(t,Xt,lr);break;default:throw Error(b(329))}}}return nn(t,Ze()),t.callbackNode===n?Q0.bind(null,t):null}function Jd(t,e){var n=Js;return t.current.memoizedState.isDehydrated&&(Ci(t,e).flags|=256),t=ku(t,e),t!==2&&(e=Xt,Xt=n,e!==null&&Xd(e)),t}function Xd(t){Xt===null?Xt=t:Xt.push.apply(Xt,t)}function KS(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Nn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vr(t,e){for(e&=~Sp,e&=~uc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-kn(e),r=1<<n;t[n]=-1,e&=~r}}function Xg(t){if(Ie&6)throw Error(b(327));Po();var e=du(t,0);if(!(e&1))return nn(t,Ze()),null;var n=ku(t,e);if(t.tag!==0&&n===2){var r=Id(t);r!==0&&(e=r,n=Jd(t,r))}if(n===1)throw n=Ta,Ci(t,0),Vr(t,e),nn(t,Ze()),n;if(n===6)throw Error(b(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,pi(t,Xt,lr),nn(t,Ze()),null}function Rp(t,e){var n=Ie;Ie|=1;try{return t(e)}finally{Ie=n,Ie===0&&(Fo=Ze()+500,oc&&ii())}}function Li(t){Lr!==null&&Lr.tag===0&&!(Ie&6)&&Po();var e=Ie;Ie|=1;var n=wn.transition,r=Ce;try{if(wn.transition=null,Ce=1,t)return t()}finally{Ce=r,wn.transition=n,Ie=e,!(Ie&6)&&ii()}}function Pp(){on=go.current,Be(go)}function Ci(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,AS(n)),at!==null)for(n=at.return;n!==null;){var r=n;switch(ap(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yu();break;case 3:Mo(),Be(en),Be(jt),gp();break;case 5:mp(r);break;case 4:Mo();break;case 13:Be(qe);break;case 19:Be(qe);break;case 10:hp(r.type._context);break;case 22:case 23:Pp()}n=n.return}if(yt=t,at=t=Wr(t.current,null),At=on=e,pt=0,Ta=null,Sp=uc=Mi=0,Xt=Js=null,wi!==null){for(e=0;e<wi.length;e++)if(n=wi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}wi=null}return t}function K0(t,e){do{var n=at;try{if(cp(),Jl.current=Ru,Au){for(var r=We.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Au=!1}if(Vi=0,gt=ft=We=null,Ks=!1,_a=0,Ip.current=null,n===null||n.return===null){pt=1,Ta=e,at=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=At,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var v=jg(s);if(v!==null){v.flags&=-257,Ug(v,s,a,o,e),v.mode&1&&bg(o,u,e),e=v,l=u;var A=e.updateQueue;if(A===null){var I=new Set;I.add(l),e.updateQueue=I}else A.add(l);break e}else{if(!(e&1)){bg(o,u,e),Cp();break e}l=Error(b(426))}}else if($e&&a.mode&1){var E=jg(s);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Ug(E,s,a,o,e),lp(Lo(l,a));break e}}o=l=Lo(l,a),pt!==4&&(pt=2),Js===null?Js=[o]:Js.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var y=N0(o,l,e);Dg(o,y);break e;case 1:a=l;var m=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof m.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(zr===null||!zr.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e;var x=O0(o,a,e);Dg(o,x);break e}}o=o.return}while(o!==null)}X0(n)}catch(F){e=F,at===n&&n!==null&&(at=n=n.return);continue}break}while(!0)}function Y0(){var t=Pu.current;return Pu.current=Ru,t===null?Ru:t}function Cp(){(pt===0||pt===3||pt===2)&&(pt=4),yt===null||!(Mi&268435455)&&!(uc&268435455)||Vr(yt,At)}function ku(t,e){var n=Ie;Ie|=2;var r=Y0();(yt!==t||At!==e)&&(lr=null,Ci(t,e));do try{YS();break}catch(i){K0(t,i)}while(!0);if(cp(),Ie=n,Pu.current=r,at!==null)throw Error(b(261));return yt=null,At=0,pt}function YS(){for(;at!==null;)J0(at)}function JS(){for(;at!==null&&!TI();)J0(at)}function J0(t){var e=ew(t.alternate,t,on);t.memoizedProps=t.pendingProps,e===null?X0(t):at=e,Ip.current=null}function X0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=qS(n,e),n!==null){n.flags&=32767,at=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pt=6,at=null;return}}else if(n=zS(n,e,on),n!==null){at=n;return}if(e=e.sibling,e!==null){at=e;return}at=e=t}while(e!==null);pt===0&&(pt=5)}function pi(t,e,n){var r=Ce,i=wn.transition;try{wn.transition=null,Ce=1,XS(t,e,n,r)}finally{wn.transition=i,Ce=r}return null}function XS(t,e,n,r){do Po();while(Lr!==null);if(Ie&6)throw Error(b(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(b(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(NI(t,o),t===yt&&(at=yt=null,At=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Vl||(Vl=!0,tw(hu,function(){return Po(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=wn.transition,wn.transition=null;var s=Ce;Ce=1;var a=Ie;Ie|=4,Ip.current=null,HS(t,n),H0(n,t),vS(xd),fu=!!Cd,xd=Cd=null,t.current=n,GS(n),II(),Ie=a,Ce=s,wn.transition=o}else t.current=n;if(Vl&&(Vl=!1,Lr=t,xu=i),o=t.pendingLanes,o===0&&(zr=null),RI(n.stateNode),nn(t,Ze()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Cu)throw Cu=!1,t=Kd,Kd=null,t;return xu&1&&t.tag!==0&&Po(),o=t.pendingLanes,o&1?t===Yd?Xs++:(Xs=0,Yd=t):Xs=0,ii(),null}function Po(){if(Lr!==null){var t=D_(xu),e=wn.transition,n=Ce;try{if(wn.transition=null,Ce=16>t?16:t,Lr===null)var r=!1;else{if(t=Lr,Lr=null,xu=0,Ie&6)throw Error(b(331));var i=Ie;for(Ie|=4,J=t.current;J!==null;){var o=J,s=o.child;if(J.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(J=u;J!==null;){var c=J;switch(c.tag){case 0:case 11:case 15:Ys(8,c,o)}var h=c.child;if(h!==null)h.return=c,J=h;else for(;J!==null;){c=J;var f=c.sibling,v=c.return;if(z0(c),c===u){J=null;break}if(f!==null){f.return=v,J=f;break}J=v}}}var A=o.alternate;if(A!==null){var I=A.child;if(I!==null){A.child=null;do{var E=I.sibling;I.sibling=null,I=E}while(I!==null)}}J=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,J=s;else e:for(;J!==null;){if(o=J,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ys(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,J=y;break e}J=o.return}}var m=t.current;for(J=m;J!==null;){s=J;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,J=w;else e:for(s=m;J!==null;){if(a=J,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:lc(9,a)}}catch(F){Ke(a,a.return,F)}if(a===s){J=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,J=x;break e}J=a.return}}if(Ie=i,ii(),Gn&&typeof Gn.onPostCommitFiberRoot=="function")try{Gn.onPostCommitFiberRoot(ec,t)}catch{}r=!0}return r}finally{Ce=n,wn.transition=e}}return!1}function Zg(t,e,n){e=Lo(n,e),e=N0(t,e,1),t=$r(t,e,1),e=Ht(),t!==null&&(za(t,1,e),nn(t,e))}function Ke(t,e,n){if(t.tag===3)Zg(t,t,n);else for(;e!==null;){if(e.tag===3){Zg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zr===null||!zr.has(r))){t=Lo(n,t),t=O0(e,t,1),e=$r(e,t,1),t=Ht(),e!==null&&(za(e,1,t),nn(e,t));break}}e=e.return}}function ZS(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ht(),t.pingedLanes|=t.suspendedLanes&n,yt===t&&(At&n)===n&&(pt===4||pt===3&&(At&130023424)===At&&500>Ze()-Ap?Ci(t,0):Sp|=n),nn(t,e)}function Z0(t,e){e===0&&(t.mode&1?(e=Sl,Sl<<=1,!(Sl&130023424)&&(Sl=4194304)):e=1);var n=Ht();t=vr(t,e),t!==null&&(za(t,e,n),nn(t,n))}function eA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Z0(t,n)}function tA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(b(314))}r!==null&&r.delete(e),Z0(t,n)}var ew;ew=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||en.current)Zt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Zt=!1,$S(t,e,n);Zt=!!(t.flags&131072)}else Zt=!1,$e&&e.flags&1048576&&r0(e,wu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Zl(t,e),t=e.pendingProps;var i=No(e,jt.current);Ro(e,n),i=vp(null,e,r,t,i,n);var o=_p();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,tn(r)?(o=!0,vu(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,fp(e),i.updater=sc,e.stateNode=i,i._reactInternals=e,bd(e,r,t,n),e=Bd(null,e,r,!0,o,n)):(e.tag=0,$e&&o&&sp(e),qt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Zl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=rA(r),t=Sn(r,t),i){case 0:e=Ud(null,e,r,t,n);break e;case 1:e=zg(null,e,r,t,n);break e;case 11:e=Bg(null,e,r,t,n);break e;case 14:e=$g(null,e,r,Sn(r.type,t),n);break e}throw Error(b(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sn(r,i),Ud(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sn(r,i),zg(t,e,r,i,n);case 3:e:{if(F0(e),t===null)throw Error(b(387));r=e.pendingProps,o=e.memoizedState,i=o.element,a0(t,e),Iu(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Lo(Error(b(423)),e),e=qg(t,e,r,n,i);break e}else if(r!==i){i=Lo(Error(b(424)),e),e=qg(t,e,r,n,i);break e}else for(sn=Br(e.stateNode.containerInfo.firstChild),an=e,$e=!0,Pn=null,n=h0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Oo(),r===i){e=_r(t,e,n);break e}qt(t,e,r,n)}e=e.child}return e;case 5:return d0(e),t===null&&Md(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,kd(r,i)?s=null:o!==null&&kd(r,o)&&(e.flags|=32),L0(t,e),qt(t,e,s,n),e.child;case 6:return t===null&&Md(e),null;case 13:return b0(t,e,n);case 4:return pp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Vo(e,null,r,n):qt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sn(r,i),Bg(t,e,r,i,n);case 7:return qt(t,e,e.pendingProps,n),e.child;case 8:return qt(t,e,e.pendingProps.children,n),e.child;case 12:return qt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Me(Eu,r._currentValue),r._currentValue=s,o!==null)if(Nn(o.value,s)){if(o.children===i.children&&!en.current){e=_r(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=pr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Ld(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(b(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Ld(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}qt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ro(e,n),i=En(i),r=r(i),e.flags|=1,qt(t,e,r,n),e.child;case 14:return r=e.type,i=Sn(r,e.pendingProps),i=Sn(r.type,i),$g(t,e,r,i,n);case 15:return V0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sn(r,i),Zl(t,e),e.tag=1,tn(r)?(t=!0,vu(e)):t=!1,Ro(e,n),u0(e,r,i),bd(e,r,i,n),Bd(null,e,r,!0,t,n);case 19:return j0(t,e,n);case 22:return M0(t,e,n)}throw Error(b(156,e.tag))};function tw(t,e){return P_(t,e)}function nA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,e,n,r){return new nA(t,e,n,r)}function xp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rA(t){if(typeof t=="function")return xp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Qf)return 11;if(t===Kf)return 14}return 2}function Wr(t,e){var n=t.alternate;return n===null?(n=_n(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function nu(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")xp(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case oo:return xi(n.children,i,o,e);case Gf:s=8,i|=8;break;case ld:return t=_n(12,n,e,i|2),t.elementType=ld,t.lanes=o,t;case ud:return t=_n(13,n,e,i),t.elementType=ud,t.lanes=o,t;case cd:return t=_n(19,n,e,i),t.elementType=cd,t.lanes=o,t;case c_:return cc(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case l_:s=10;break e;case u_:s=9;break e;case Qf:s=11;break e;case Kf:s=14;break e;case Dr:s=16,r=null;break e}throw Error(b(130,t==null?t:typeof t,""))}return e=_n(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function xi(t,e,n,r){return t=_n(7,t,r,e),t.lanes=n,t}function cc(t,e,n,r){return t=_n(22,t,r,e),t.elementType=c_,t.lanes=n,t.stateNode={isHidden:!1},t}function Fh(t,e,n){return t=_n(6,t,null,e),t.lanes=n,t}function bh(t,e,n){return e=_n(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function iA(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vh(0),this.expirationTimes=vh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function kp(t,e,n,r,i,o,s,a,l){return t=new iA(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=_n(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fp(o),t}function oA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:io,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function nw(t){if(!t)return Jr;t=t._reactInternals;e:{if(zi(t)!==t||t.tag!==1)throw Error(b(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(tn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(b(171))}if(t.tag===1){var n=t.type;if(tn(n))return t0(t,n,e)}return e}function rw(t,e,n,r,i,o,s,a,l){return t=kp(n,r,!0,t,i,o,s,a,l),t.context=nw(null),n=t.current,r=Ht(),i=qr(n),o=pr(r,i),o.callback=e??null,$r(n,o,i),t.current.lanes=i,za(t,i,r),nn(t,r),t}function hc(t,e,n,r){var i=e.current,o=Ht(),s=qr(i);return n=nw(n),e.context===null?e.context=n:e.pendingContext=n,e=pr(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=$r(i,e,s),t!==null&&(Dn(t,i,s,o),Yl(t,i,s)),s}function Du(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ey(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Dp(t,e){ey(t,e),(t=t.alternate)&&ey(t,e)}function sA(){return null}var iw=typeof reportError=="function"?reportError:function(t){console.error(t)};function Np(t){this._internalRoot=t}dc.prototype.render=Np.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(b(409));hc(t,e,null,null)};dc.prototype.unmount=Np.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Li(function(){hc(null,t,null,null)}),e[yr]=null}};function dc(t){this._internalRoot=t}dc.prototype.unstable_scheduleHydration=function(t){if(t){var e=V_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Or.length&&e!==0&&e<Or[n].priority;n++);Or.splice(n,0,t),n===0&&L_(t)}};function Op(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function fc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ty(){}function aA(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Du(s);o.call(u)}}var s=rw(e,r,t,0,null,!1,!1,"",ty);return t._reactRootContainer=s,t[yr]=s.current,pa(t.nodeType===8?t.parentNode:t),Li(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Du(l);a.call(u)}}var l=kp(t,0,!1,null,null,!1,!1,"",ty);return t._reactRootContainer=l,t[yr]=l.current,pa(t.nodeType===8?t.parentNode:t),Li(function(){hc(e,l,n,r)}),l}function pc(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Du(s);a.call(l)}}hc(e,s,t,i)}else s=aA(n,e,t,i,r);return Du(s)}N_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Fs(e.pendingLanes);n!==0&&(Xf(e,n|1),nn(e,Ze()),!(Ie&6)&&(Fo=Ze()+500,ii()))}break;case 13:Li(function(){var r=vr(t,1);if(r!==null){var i=Ht();Dn(r,t,1,i)}}),Dp(t,1)}};Zf=function(t){if(t.tag===13){var e=vr(t,134217728);if(e!==null){var n=Ht();Dn(e,t,134217728,n)}Dp(t,134217728)}};O_=function(t){if(t.tag===13){var e=qr(t),n=vr(t,e);if(n!==null){var r=Ht();Dn(n,t,e,r)}Dp(t,e)}};V_=function(){return Ce};M_=function(t,e){var n=Ce;try{return Ce=t,e()}finally{Ce=n}};wd=function(t,e,n){switch(e){case"input":if(fd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ic(r);if(!i)throw Error(b(90));d_(r),fd(r,i)}}}break;case"textarea":p_(t,n);break;case"select":e=n.value,e!=null&&To(t,!!n.multiple,e,!1)}};E_=Rp;T_=Li;var lA={usingClientEntryPoint:!1,Events:[Wa,uo,ic,__,w_,Rp]},Is={findFiberByHostInstance:_i,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},uA={bundleType:Is.bundleType,version:Is.version,rendererPackageName:Is.rendererPackageName,rendererConfig:Is.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ir.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=A_(t),t===null?null:t.stateNode},findFiberByHostInstance:Is.findFiberByHostInstance||sA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ml=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ml.isDisabled&&Ml.supportsFiber)try{ec=Ml.inject(uA),Gn=Ml}catch{}}cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lA;cn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Op(e))throw Error(b(200));return oA(t,e,null,n)};cn.createRoot=function(t,e){if(!Op(t))throw Error(b(299));var n=!1,r="",i=iw;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=kp(t,1,!1,null,null,n,!1,r,i),t[yr]=e.current,pa(t.nodeType===8?t.parentNode:t),new Np(e)};cn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(b(188)):(t=Object.keys(t).join(","),Error(b(268,t)));return t=A_(e),t=t===null?null:t.stateNode,t};cn.flushSync=function(t){return Li(t)};cn.hydrate=function(t,e,n){if(!fc(e))throw Error(b(200));return pc(null,t,e,!0,n)};cn.hydrateRoot=function(t,e,n){if(!Op(t))throw Error(b(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=iw;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=rw(e,null,t,1,n??null,i,!1,o,s),t[yr]=e.current,pa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new dc(e)};cn.render=function(t,e,n){if(!fc(e))throw Error(b(200));return pc(null,t,e,!1,n)};cn.unmountComponentAtNode=function(t){if(!fc(t))throw Error(b(40));return t._reactRootContainer?(Li(function(){pc(null,null,t,!1,function(){t._reactRootContainer=null,t[yr]=null})}),!0):!1};cn.unstable_batchedUpdates=Rp;cn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!fc(n))throw Error(b(200));if(t==null||t._reactInternals===void 0)throw Error(b(38));return pc(t,e,n,!1,r)};cn.version="18.2.0-next-9e3b772b8-20220608";function ow(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ow)}catch(t){console.error(t)}}ow(),r_.exports=cn;var Vp=r_.exports;const cA=jf(Vp),hA=Wv({__proto__:null,default:cA},[Vp]);var ny=Vp;sd.createRoot=ny.createRoot,sd.hydrateRoot=ny.hydrateRoot;/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ye(){return Ye=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ye.apply(this,arguments)}var Xe;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Xe||(Xe={}));const ry="popstate";function dA(t){t===void 0&&(t={});function e(i,o){let{pathname:s="/",search:a="",hash:l=""}=rr(i.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),Ia("",{pathname:s,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let s=i.document.querySelector("base"),a="";if(s&&s.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof o=="string"?o:Ga(o))}function r(i,o){Xr(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return pA(e,n,r,t)}function ge(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Xr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fA(){return Math.random().toString(36).substr(2,8)}function iy(t,e){return{usr:t.state,key:t.key,idx:e}}function Ia(t,e,n,r){return n===void 0&&(n=null),Ye({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?rr(e):e,{state:n,key:e&&e.key||r||fA()})}function Ga(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function rr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function pA(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Xe.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(Ye({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function h(){a=Xe.Pop;let E=c(),y=E==null?null:E-u;u=E,l&&l({action:a,location:I.location,delta:y})}function f(E,y){a=Xe.Push;let m=Ia(I.location,E,y);n&&n(m,E),u=c()+1;let w=iy(m,u),x=I.createHref(m);try{s.pushState(w,"",x)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(x)}o&&l&&l({action:a,location:I.location,delta:1})}function v(E,y){a=Xe.Replace;let m=Ia(I.location,E,y);n&&n(m,E),u=c();let w=iy(m,u),x=I.createHref(m);s.replaceState(w,"",x),o&&l&&l({action:a,location:I.location,delta:0})}function A(E){let y=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof E=="string"?E:Ga(E);return ge(y,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,y)}let I={get action(){return a},get location(){return t(i,s)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(ry,h),l=E,()=>{i.removeEventListener(ry,h),l=null}},createHref(E){return e(i,E)},createURL:A,encodeLocation(E){let y=A(E);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:v,go(E){return s.go(E)}};return I}var Qe;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Qe||(Qe={}));const mA=new Set(["lazy","caseSensitive","path","id","index","children"]);function gA(t){return t.index===!0}function Zd(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let s=[...n,o],a=typeof i.id=="string"?i.id:s.join("-");if(ge(i.index!==!0||!i.children,"Cannot specify children on an index route"),ge(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),gA(i)){let l=Ye({},i,e(i),{id:a});return r[a]=l,l}else{let l=Ye({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=Zd(i.children,e,s,r)),l}})}function yo(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?rr(e):e,i=Qa(r.pathname||"/",n);if(i==null)return null;let o=sw(t);vA(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=PA(o[a],kA(i));return s}function yA(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function sw(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(ge(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ki([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(ge(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),sw(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:AA(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of aw(o.path))i(o,s,l)}),e}function aw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=aw(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function vA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:RA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const _A=/^:[\w-]+$/,wA=3,EA=2,TA=1,IA=10,SA=-2,oy=t=>t==="*";function AA(t,e){let n=t.split("/"),r=n.length;return n.some(oy)&&(r+=SA),e&&(r+=EA),n.filter(i=>!oy(i)).reduce((i,o)=>i+(_A.test(o)?wA:o===""?TA:IA),r)}function RA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function PA(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=CA({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=a.route;o.push({params:r,pathname:ki([i,c.pathname]),pathnameBase:LA(ki([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=ki([i,c.pathnameBase]))}return o}function CA(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=xA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{let{paramName:f,isOptional:v}=c;if(f==="*"){let I=a[h]||"";s=o.slice(0,o.length-I.length).replace(/(.)\/+$/,"$1")}const A=a[h];return v&&!A?u[f]=void 0:u[f]=DA(A||"",f),u},{}),pathname:o,pathnameBase:s,pattern:t}}function xA(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Xr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function kA(t){try{return decodeURI(t)}catch(e){return Xr(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function DA(t,e){try{return decodeURIComponent(t)}catch(n){return Xr(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Qa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function NA(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?rr(t):t;return{pathname:n?n.startsWith("/")?n:OA(n,e):e,search:FA(r),hash:bA(i)}}function OA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function jh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lw(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function VA(t,e){let n=lw(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function MA(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=rr(t):(i=Ye({},t),ge(!i.pathname||!i.pathname.includes("?"),jh("?","pathname","search",i)),ge(!i.pathname||!i.pathname.includes("#"),jh("#","pathname","hash",i)),ge(!i.search||!i.search.includes("#"),jh("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let h=e.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=NA(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const ki=t=>t.join("/").replace(/\/\/+/g,"/"),LA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),FA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,bA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Mp{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function uw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const cw=["post","put","patch","delete"],jA=new Set(cw),UA=["get",...cw],BA=new Set(UA),$A=new Set([301,302,303,307,308]),zA=new Set([307,308]),Uh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},qA={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ss={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},hw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WA=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),dw="remix-router-transitions";function HA(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;ge(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let S=t.detectErrorBoundary;i=C=>({hasErrorBoundary:S(C)})}else i=WA;let o={},s=Zd(t.routes,i,void 0,o),a,l=t.basename||"/",u=Ye({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},t.future),c=null,h=new Set,f=null,v=null,A=null,I=t.hydrationData!=null,E=yo(s,t.history.location,l),y=null;if(E==null){let S=pn(404,{pathname:t.history.location.pathname}),{matches:C,route:k}=fy(s);E=C,y={[k.id]:S}}let m,w=E.some(S=>S.route.lazy),x=E.some(S=>S.route.loader);if(w)m=!1;else if(!x)m=!0;else if(u.v7_partialHydration){let S=t.hydrationData?t.hydrationData.loaderData:null,C=t.hydrationData?t.hydrationData.errors:null;m=E.every(k=>k.route.loader&&k.route.loader.hydrate!==!0&&(S&&S[k.route.id]!==void 0||C&&C[k.route.id]!==void 0))}else m=t.hydrationData!=null;let F,T={historyAction:t.history.action,location:t.history.location,matches:E,initialized:m,navigation:Uh,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||y,fetchers:new Map,blockers:new Map},D=Xe.Pop,j=!1,q,z=!1,Y=new Map,Fe=null,De=!1,ct=!1,Kt=[],Bt=[],Ae=new Map,G=0,re=-1,ie=new Map,Ee=new Set,Ne=new Map,dn=new Map,ht=new Set,rn=new Map,wt=new Map,Ln=!1;function ss(){if(c=t.history.listen(S=>{let{action:C,location:k,delta:B}=S;if(Ln){Ln=!1;return}Xr(wt.size===0||B!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Z=ls({currentLocation:T.location,nextLocation:k,historyAction:C});if(Z&&B!=null){Ln=!0,t.history.go(B*-1),hi(Z,{state:"blocked",location:k,proceed(){hi(Z,{state:"proceeding",proceed:void 0,reset:void 0,location:k}),t.history.go(B)},reset(){let fe=new Map(T.blockers);fe.set(Z,Ss),$t({blockers:fe})}});return}return or(C,k)}),n){rR(e,Y);let S=()=>iR(e,Y);e.addEventListener("pagehide",S),Fe=()=>e.removeEventListener("pagehide",S)}return T.initialized||or(Xe.Pop,T.location,{initialHydration:!0}),F}function Kc(){c&&c(),Fe&&Fe(),h.clear(),q&&q.abort(),T.fetchers.forEach((S,C)=>bn(C)),T.blockers.forEach((S,C)=>ml(C))}function Yc(S){return h.add(S),()=>h.delete(S)}function $t(S,C){C===void 0&&(C={}),T=Ye({},T,S);let k=[],B=[];u.v7_fetcherPersist&&T.fetchers.forEach((Z,fe)=>{Z.state==="idle"&&(ht.has(fe)?B.push(fe):k.push(fe))}),[...h].forEach(Z=>Z(T,{deletedFetchers:B,unstable_viewTransitionOpts:C.viewTransitionOpts,unstable_flushSync:C.flushSync===!0})),u.v7_fetcherPersist&&(k.forEach(Z=>T.fetchers.delete(Z)),B.forEach(Z=>bn(Z)))}function ai(S,C,k){var B,Z;let{flushSync:fe}=k===void 0?{}:k,oe=T.actionData!=null&&T.navigation.formMethod!=null&&Rn(T.navigation.formMethod)&&T.navigation.state==="loading"&&((B=S.state)==null?void 0:B._isRedirect)!==!0,ne;C.actionData?Object.keys(C.actionData).length>0?ne=C.actionData:ne=null:oe?ne=T.actionData:ne=null;let ee=C.loaderData?dy(T.loaderData,C.loaderData,C.matches||[],C.errors):T.loaderData,me=T.blockers;me.size>0&&(me=new Map(me),me.forEach((ke,dt)=>me.set(dt,Ss)));let et=j===!0||T.navigation.formMethod!=null&&Rn(T.navigation.formMethod)&&((Z=S.state)==null?void 0:Z._isRedirect)!==!0;a&&(s=a,a=void 0),De||D===Xe.Pop||(D===Xe.Push?t.history.push(S,S.state):D===Xe.Replace&&t.history.replace(S,S.state));let de;if(D===Xe.Pop){let ke=Y.get(T.location.pathname);ke&&ke.has(S.pathname)?de={currentLocation:T.location,nextLocation:S}:Y.has(S.pathname)&&(de={currentLocation:S,nextLocation:T.location})}else if(z){let ke=Y.get(T.location.pathname);ke?ke.add(S.pathname):(ke=new Set([S.pathname]),Y.set(T.location.pathname,ke)),de={currentLocation:T.location,nextLocation:S}}$t(Ye({},C,{actionData:ne,loaderData:ee,historyAction:D,location:S,initialized:!0,navigation:Uh,revalidation:"idle",restoreScrollPosition:yl(S,C.matches||T.matches),preventScrollReset:et,blockers:me}),{viewTransitionOpts:de,flushSync:fe===!0}),D=Xe.Pop,j=!1,z=!1,De=!1,ct=!1,Kt=[],Bt=[]}async function li(S,C){if(typeof S=="number"){t.history.go(S);return}let k=ef(T.location,T.matches,l,u.v7_prependBasename,S,u.v7_relativeSplatPath,C?.fromRouteId,C?.relative),{path:B,submission:Z,error:fe}=sy(u.v7_normalizeFormMethod,!1,k,C),oe=T.location,ne=Ia(T.location,B,C&&C.state);ne=Ye({},ne,t.history.encodeLocation(ne));let ee=C&&C.replace!=null?C.replace:void 0,me=Xe.Push;ee===!0?me=Xe.Replace:ee===!1||Z!=null&&Rn(Z.formMethod)&&Z.formAction===T.location.pathname+T.location.search&&(me=Xe.Replace);let et=C&&"preventScrollReset"in C?C.preventScrollReset===!0:void 0,de=(C&&C.unstable_flushSync)===!0,ke=ls({currentLocation:oe,nextLocation:ne,historyAction:me});if(ke){hi(ke,{state:"blocked",location:ne,proceed(){hi(ke,{state:"proceeding",proceed:void 0,reset:void 0,location:ne}),li(S,C)},reset(){let dt=new Map(T.blockers);dt.set(ke,Ss),$t({blockers:dt})}});return}return await or(me,ne,{submission:Z,pendingError:fe,preventScrollReset:et,replace:C&&C.replace,enableViewTransition:C&&C.unstable_viewTransition,flushSync:de})}function Jc(){if(as(),$t({revalidation:"loading"}),T.navigation.state!=="submitting"){if(T.navigation.state==="idle"){or(T.historyAction,T.location,{startUninterruptedRevalidation:!0});return}or(D||T.historyAction,T.navigation.location,{overrideNavigation:T.navigation})}}async function or(S,C,k){q&&q.abort(),q=null,D=S,De=(k&&k.startUninterruptedRevalidation)===!0,oh(T.location,T.matches),j=(k&&k.preventScrollReset)===!0,z=(k&&k.enableViewTransition)===!0;let B=a||s,Z=k&&k.overrideNavigation,fe=yo(B,C,l),oe=(k&&k.flushSync)===!0;if(!fe){let dt=pn(404,{pathname:C.pathname}),{matches:zt,route:tt}=fy(B);us(),ai(C,{matches:zt,loaderData:{},errors:{[tt.id]:dt}},{flushSync:oe});return}if(T.initialized&&!ct&&JA(T.location,C)&&!(k&&k.submission&&Rn(k.submission.formMethod))){ai(C,{matches:fe},{flushSync:oe});return}q=new AbortController;let ne=Rs(t.history,C,q.signal,k&&k.submission),ee,me;if(k&&k.pendingError)me={[Zs(fe).route.id]:k.pendingError};else if(k&&k.submission&&Rn(k.submission.formMethod)){let dt=await Xc(ne,C,k.submission,fe,{replace:k.replace,flushSync:oe});if(dt.shortCircuited)return;ee=dt.pendingActionData,me=dt.pendingActionError,Z=Bh(C,k.submission),oe=!1,ne=new Request(ne.url,{signal:ne.signal})}let{shortCircuited:et,loaderData:de,errors:ke}=await Zc(ne,C,fe,Z,k&&k.submission,k&&k.fetcherSubmission,k&&k.replace,k&&k.initialHydration===!0,oe,ee,me);et||(q=null,ai(C,Ye({matches:fe},ee?{actionData:ee}:{},{loaderData:de,errors:ke})))}async function Xc(S,C,k,B,Z){Z===void 0&&(Z={}),as();let fe=tR(C,k);$t({navigation:fe},{flushSync:Z.flushSync===!0});let oe,ne=nf(B,C);if(!ne.route.action&&!ne.route.lazy)oe={type:Qe.error,error:pn(405,{method:S.method,pathname:C.pathname,routeId:ne.route.id})};else if(oe=await As("action",S,ne,B,o,i,l,u.v7_relativeSplatPath),S.signal.aborted)return{shortCircuited:!0};if(Ii(oe)){let ee;return Z&&Z.replace!=null?ee=Z.replace:ee=oe.location===T.location.pathname+T.location.search,await Sr(T,oe,{submission:k,replace:ee}),{shortCircuited:!0}}if(vo(oe)){let ee=Zs(B,ne.route.id);return(Z&&Z.replace)!==!0&&(D=Xe.Push),{pendingActionData:{},pendingActionError:{[ee.route.id]:oe.error}}}if(Ti(oe))throw pn(400,{type:"defer-action"});return{pendingActionData:{[ne.route.id]:oe.data}}}async function Zc(S,C,k,B,Z,fe,oe,ne,ee,me,et){let de=B||Bh(C,Z),ke=Z||fe||gy(de),dt=a||s,[zt,tt]=ay(t.history,T,k,ke,C,u.v7_partialHydration&&ne===!0,ct,Kt,Bt,ht,Ne,Ee,dt,l,me,et);if(us(Re=>!(k&&k.some(Oe=>Oe.route.id===Re))||zt&&zt.some(Oe=>Oe.route.id===Re)),re=++G,zt.length===0&&tt.length===0){let Re=fl();return ai(C,Ye({matches:k,loaderData:{},errors:et||null},me?{actionData:me}:{},Re?{fetchers:new Map(T.fetchers)}:{}),{flushSync:ee}),{shortCircuited:!0}}if(!De&&(!u.v7_partialHydration||!ne)){tt.forEach(Oe=>{let fn=T.fetchers.get(Oe.key),Ki=Ps(void 0,fn?fn.data:void 0);T.fetchers.set(Oe.key,Ki)});let Re=me||T.actionData;$t(Ye({navigation:de},Re?Object.keys(Re).length===0?{actionData:null}:{actionData:Re}:{},tt.length>0?{fetchers:new Map(T.fetchers)}:{}),{flushSync:ee})}tt.forEach(Re=>{Ae.has(Re.key)&&jn(Re.key),Re.controller&&Ae.set(Re.key,Re.controller)});let Ar=()=>tt.forEach(Re=>jn(Re.key));q&&q.signal.addEventListener("abort",Ar);let{results:cs,loaderResults:Rr,fetcherResults:Un}=await cl(T.matches,k,zt,tt,S);if(S.signal.aborted)return{shortCircuited:!0};q&&q.signal.removeEventListener("abort",Ar),tt.forEach(Re=>Ae.delete(Re.key));let sr=py(cs);if(sr){if(sr.idx>=zt.length){let Re=tt[sr.idx-zt.length].key;Ee.add(Re)}return await Sr(T,sr.result,{replace:oe}),{shortCircuited:!0}}let{loaderData:hs,errors:ds}=hy(T,k,zt,Rr,et,tt,Un,rn);rn.forEach((Re,Oe)=>{Re.subscribe(fn=>{(fn||Re.done)&&rn.delete(Oe)})});let fs=fl(),ar=pl(re),Qi=fs||ar||tt.length>0;return Ye({loaderData:hs,errors:ds},Qi?{fetchers:new Map(T.fetchers)}:{})}function eh(S,C,k,B){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Ae.has(S)&&jn(S);let Z=(B&&B.unstable_flushSync)===!0,fe=a||s,oe=ef(T.location,T.matches,l,u.v7_prependBasename,k,u.v7_relativeSplatPath,C,B?.relative),ne=yo(fe,oe,l);if(!ne){ci(S,C,pn(404,{pathname:oe}),{flushSync:Z});return}let{path:ee,submission:me,error:et}=sy(u.v7_normalizeFormMethod,!0,oe,B);if(et){ci(S,C,et,{flushSync:Z});return}let de=nf(ne,ee);if(j=(B&&B.preventScrollReset)===!0,me&&Rn(me.formMethod)){th(S,C,ee,de,ne,Z,me);return}Ne.set(S,{routeId:C,path:ee}),ui(S,C,ee,de,ne,Z,me)}async function th(S,C,k,B,Z,fe,oe){if(as(),Ne.delete(S),!B.route.action&&!B.route.lazy){let Oe=pn(405,{method:oe.formMethod,pathname:k,routeId:C});ci(S,C,Oe,{flushSync:fe});return}let ne=T.fetchers.get(S);Fn(S,nR(oe,ne),{flushSync:fe});let ee=new AbortController,me=Rs(t.history,k,ee.signal,oe);Ae.set(S,ee);let et=G,de=await As("action",me,B,Z,o,i,l,u.v7_relativeSplatPath);if(me.signal.aborted){Ae.get(S)===ee&&Ae.delete(S);return}if(u.v7_fetcherPersist&&ht.has(S)){if(Ii(de)||vo(de)){Fn(S,kr(void 0));return}}else{if(Ii(de))if(Ae.delete(S),re>et){Fn(S,kr(void 0));return}else return Ee.add(S),Fn(S,Ps(oe)),Sr(T,de,{fetcherSubmission:oe});if(vo(de)){ci(S,C,de.error);return}}if(Ti(de))throw pn(400,{type:"defer-action"});let ke=T.navigation.location||T.location,dt=Rs(t.history,ke,ee.signal),zt=a||s,tt=T.navigation.state!=="idle"?yo(zt,T.navigation.location,l):T.matches;ge(tt,"Didn't find any matches after fetcher action");let Ar=++G;ie.set(S,Ar);let cs=Ps(oe,de.data);T.fetchers.set(S,cs);let[Rr,Un]=ay(t.history,T,tt,oe,ke,!1,ct,Kt,Bt,ht,Ne,Ee,zt,l,{[B.route.id]:de.data},void 0);Un.filter(Oe=>Oe.key!==S).forEach(Oe=>{let fn=Oe.key,Ki=T.fetchers.get(fn),ah=Ps(void 0,Ki?Ki.data:void 0);T.fetchers.set(fn,ah),Ae.has(fn)&&jn(fn),Oe.controller&&Ae.set(fn,Oe.controller)}),$t({fetchers:new Map(T.fetchers)});let sr=()=>Un.forEach(Oe=>jn(Oe.key));ee.signal.addEventListener("abort",sr);let{results:hs,loaderResults:ds,fetcherResults:fs}=await cl(T.matches,tt,Rr,Un,dt);if(ee.signal.aborted)return;ee.signal.removeEventListener("abort",sr),ie.delete(S),Ae.delete(S),Un.forEach(Oe=>Ae.delete(Oe.key));let ar=py(hs);if(ar){if(ar.idx>=Rr.length){let Oe=Un[ar.idx-Rr.length].key;Ee.add(Oe)}return Sr(T,ar.result)}let{loaderData:Qi,errors:Re}=hy(T,T.matches,Rr,ds,void 0,Un,fs,rn);if(T.fetchers.has(S)){let Oe=kr(de.data);T.fetchers.set(S,Oe)}pl(Ar),T.navigation.state==="loading"&&Ar>re?(ge(D,"Expected pending action"),q&&q.abort(),ai(T.navigation.location,{matches:tt,loaderData:Qi,errors:Re,fetchers:new Map(T.fetchers)})):($t({errors:Re,loaderData:dy(T.loaderData,Qi,tt,Re),fetchers:new Map(T.fetchers)}),ct=!1)}async function ui(S,C,k,B,Z,fe,oe){let ne=T.fetchers.get(S);Fn(S,Ps(oe,ne?ne.data:void 0),{flushSync:fe});let ee=new AbortController,me=Rs(t.history,k,ee.signal);Ae.set(S,ee);let et=G,de=await As("loader",me,B,Z,o,i,l,u.v7_relativeSplatPath);if(Ti(de)&&(de=await mw(de,me.signal,!0)||de),Ae.get(S)===ee&&Ae.delete(S),!me.signal.aborted){if(ht.has(S)){Fn(S,kr(void 0));return}if(Ii(de))if(re>et){Fn(S,kr(void 0));return}else{Ee.add(S),await Sr(T,de);return}if(vo(de)){ci(S,C,de.error);return}ge(!Ti(de),"Unhandled fetcher deferred data"),Fn(S,kr(de.data))}}async function Sr(S,C,k){let{submission:B,fetcherSubmission:Z,replace:fe}=k===void 0?{}:k;C.revalidate&&(ct=!0);let oe=Ia(S.location,C.location,{_isRedirect:!0});if(ge(oe,"Expected a location on the redirect navigation"),n){let ke=!1;if(C.reloadDocument)ke=!0;else if(hw.test(C.location)){const dt=t.history.createURL(C.location);ke=dt.origin!==e.location.origin||Qa(dt.pathname,l)==null}if(ke){fe?e.location.replace(C.location):e.location.assign(C.location);return}}q=null;let ne=fe===!0?Xe.Replace:Xe.Push,{formMethod:ee,formAction:me,formEncType:et}=S.navigation;!B&&!Z&&ee&&me&&et&&(B=gy(S.navigation));let de=B||Z;if(zA.has(C.status)&&de&&Rn(de.formMethod))await or(ne,oe,{submission:Ye({},de,{formAction:C.location}),preventScrollReset:j});else{let ke=Bh(oe,B);await or(ne,oe,{overrideNavigation:ke,fetcherSubmission:Z,preventScrollReset:j})}}async function cl(S,C,k,B,Z){let fe=await Promise.all([...k.map(ee=>As("loader",Z,ee,C,o,i,l,u.v7_relativeSplatPath)),...B.map(ee=>ee.matches&&ee.match&&ee.controller?As("loader",Rs(t.history,ee.path,ee.controller.signal),ee.match,ee.matches,o,i,l,u.v7_relativeSplatPath):{type:Qe.error,error:pn(404,{pathname:ee.path})})]),oe=fe.slice(0,k.length),ne=fe.slice(k.length);return await Promise.all([my(S,k,oe,oe.map(()=>Z.signal),!1,T.loaderData),my(S,B.map(ee=>ee.match),ne,B.map(ee=>ee.controller?ee.controller.signal:null),!0)]),{results:fe,loaderResults:oe,fetcherResults:ne}}function as(){ct=!0,Kt.push(...us()),Ne.forEach((S,C)=>{Ae.has(C)&&(Bt.push(C),jn(C))})}function Fn(S,C,k){k===void 0&&(k={}),T.fetchers.set(S,C),$t({fetchers:new Map(T.fetchers)},{flushSync:(k&&k.flushSync)===!0})}function ci(S,C,k,B){B===void 0&&(B={});let Z=Zs(T.matches,C);bn(S),$t({errors:{[Z.route.id]:k},fetchers:new Map(T.fetchers)},{flushSync:(B&&B.flushSync)===!0})}function hl(S){return u.v7_fetcherPersist&&(dn.set(S,(dn.get(S)||0)+1),ht.has(S)&&ht.delete(S)),T.fetchers.get(S)||qA}function bn(S){let C=T.fetchers.get(S);Ae.has(S)&&!(C&&C.state==="loading"&&ie.has(S))&&jn(S),Ne.delete(S),ie.delete(S),Ee.delete(S),ht.delete(S),T.fetchers.delete(S)}function nh(S){if(u.v7_fetcherPersist){let C=(dn.get(S)||0)-1;C<=0?(dn.delete(S),ht.add(S)):dn.set(S,C)}else bn(S);$t({fetchers:new Map(T.fetchers)})}function jn(S){let C=Ae.get(S);ge(C,"Expected fetch controller: "+S),C.abort(),Ae.delete(S)}function dl(S){for(let C of S){let k=hl(C),B=kr(k.data);T.fetchers.set(C,B)}}function fl(){let S=[],C=!1;for(let k of Ee){let B=T.fetchers.get(k);ge(B,"Expected fetcher: "+k),B.state==="loading"&&(Ee.delete(k),S.push(k),C=!0)}return dl(S),C}function pl(S){let C=[];for(let[k,B]of ie)if(B<S){let Z=T.fetchers.get(k);ge(Z,"Expected fetcher: "+k),Z.state==="loading"&&(jn(k),ie.delete(k),C.push(k))}return dl(C),C.length>0}function rh(S,C){let k=T.blockers.get(S)||Ss;return wt.get(S)!==C&&wt.set(S,C),k}function ml(S){T.blockers.delete(S),wt.delete(S)}function hi(S,C){let k=T.blockers.get(S)||Ss;ge(k.state==="unblocked"&&C.state==="blocked"||k.state==="blocked"&&C.state==="blocked"||k.state==="blocked"&&C.state==="proceeding"||k.state==="blocked"&&C.state==="unblocked"||k.state==="proceeding"&&C.state==="unblocked","Invalid blocker state transition: "+k.state+" -> "+C.state);let B=new Map(T.blockers);B.set(S,C),$t({blockers:B})}function ls(S){let{currentLocation:C,nextLocation:k,historyAction:B}=S;if(wt.size===0)return;wt.size>1&&Xr(!1,"A router only supports one blocker at a time");let Z=Array.from(wt.entries()),[fe,oe]=Z[Z.length-1],ne=T.blockers.get(fe);if(!(ne&&ne.state==="proceeding")&&oe({currentLocation:C,nextLocation:k,historyAction:B}))return fe}function us(S){let C=[];return rn.forEach((k,B)=>{(!S||S(B))&&(k.cancel(),C.push(B),rn.delete(B))}),C}function ih(S,C,k){if(f=S,A=C,v=k||null,!I&&T.navigation===Uh){I=!0;let B=yl(T.location,T.matches);B!=null&&$t({restoreScrollPosition:B})}return()=>{f=null,A=null,v=null}}function gl(S,C){return v&&v(S,C.map(B=>yA(B,T.loaderData)))||S.key}function oh(S,C){if(f&&A){let k=gl(S,C);f[k]=A()}}function yl(S,C){if(f){let k=gl(S,C),B=f[k];if(typeof B=="number")return B}return null}function sh(S){o={},a=Zd(S,i,void 0,o)}return F={get basename(){return l},get future(){return u},get state(){return T},get routes(){return s},get window(){return e},initialize:ss,subscribe:Yc,enableScrollRestoration:ih,navigate:li,fetch:eh,revalidate:Jc,createHref:S=>t.history.createHref(S),encodeLocation:S=>t.history.encodeLocation(S),getFetcher:hl,deleteFetcher:nh,dispose:Kc,getBlocker:rh,deleteBlocker:ml,_internalFetchControllers:Ae,_internalActiveDeferreds:rn,_internalSetRoutes:sh},F}function GA(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function ef(t,e,n,r,i,o,s,a){let l,u;if(s){l=[];for(let h of e)if(l.push(h),h.route.id===s){u=h;break}}else l=e,u=e[e.length-1];let c=MA(i||".",VA(l,o),Qa(t.pathname,n)||t.pathname,a==="path");return i==null&&(c.search=t.search,c.hash=t.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!Lp(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:ki([n,c.pathname])),Ga(c)}function sy(t,e,n,r){if(!r||!GA(r))return{path:n};if(r.formMethod&&!eR(r.formMethod))return{path:n,error:pn(405,{method:r.formMethod})};let i=()=>({path:n,error:pn(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=t?o.toUpperCase():o.toLowerCase(),a=pw(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Rn(s))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((v,A)=>{let[I,E]=A;return""+v+I+"="+E+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!Rn(s))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}ge(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=tf(r.formData),u=r.formData;else if(r.body instanceof FormData)l=tf(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=cy(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=cy(l)}catch{return i()}let c={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Rn(c.formMethod))return{path:n,submission:c};let h=rr(n);return e&&h.search&&Lp(h.search)&&l.append("index",""),h.search="?"+l,{path:Ga(h),submission:c}}function QA(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function ay(t,e,n,r,i,o,s,a,l,u,c,h,f,v,A,I){let E=I?Object.values(I)[0]:A?Object.values(A)[0]:void 0,y=t.createURL(e.location),m=t.createURL(i),w=I?Object.keys(I)[0]:void 0,F=QA(n,w).filter((D,j)=>{let{route:q}=D;if(q.lazy)return!0;if(q.loader==null)return!1;if(o)return q.loader.hydrate?!0:e.loaderData[q.id]===void 0&&(!e.errors||e.errors[q.id]===void 0);if(KA(e.loaderData,e.matches[j],D)||a.some(Fe=>Fe===D.route.id))return!0;let z=e.matches[j],Y=D;return ly(D,Ye({currentUrl:y,currentParams:z.params,nextUrl:m,nextParams:Y.params},r,{actionResult:E,defaultShouldRevalidate:s||y.pathname+y.search===m.pathname+m.search||y.search!==m.search||fw(z,Y)}))}),T=[];return c.forEach((D,j)=>{if(o||!n.some(De=>De.route.id===D.routeId)||u.has(j))return;let q=yo(f,D.path,v);if(!q){T.push({key:j,routeId:D.routeId,path:D.path,matches:null,match:null,controller:null});return}let z=e.fetchers.get(j),Y=nf(q,D.path),Fe=!1;h.has(j)?Fe=!1:l.includes(j)?Fe=!0:z&&z.state!=="idle"&&z.data===void 0?Fe=s:Fe=ly(Y,Ye({currentUrl:y,currentParams:e.matches[e.matches.length-1].params,nextUrl:m,nextParams:n[n.length-1].params},r,{actionResult:E,defaultShouldRevalidate:s})),Fe&&T.push({key:j,routeId:D.routeId,path:D.path,matches:q,match:Y,controller:new AbortController})}),[F,T]}function KA(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function fw(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function ly(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function uy(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];ge(i,"No route found in manifest");let o={};for(let s in r){let l=i[s]!==void 0&&s!=="hasErrorBoundary";Xr(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!mA.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,Ye({},e(i),{lazy:void 0}))}async function As(t,e,n,r,i,o,s,a,l){l===void 0&&(l={});let u,c,h,f=I=>{let E,y=new Promise((m,w)=>E=w);return h=()=>E(),e.signal.addEventListener("abort",h),Promise.race([I({request:e,params:n.params,context:l.requestContext}),y])};try{let I=n.route[t];if(n.route.lazy)if(I){let E,y=await Promise.all([f(I).catch(m=>{E=m}),uy(n.route,o,i)]);if(E)throw E;c=y[0]}else if(await uy(n.route,o,i),I=n.route[t],I)c=await f(I);else if(t==="action"){let E=new URL(e.url),y=E.pathname+E.search;throw pn(405,{method:e.method,pathname:y,routeId:n.route.id})}else return{type:Qe.data,data:void 0};else if(I)c=await f(I);else{let E=new URL(e.url),y=E.pathname+E.search;throw pn(404,{pathname:y})}ge(c!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(I){u=Qe.error,c=I}finally{h&&e.signal.removeEventListener("abort",h)}if(ZA(c)){let I=c.status;if($A.has(I)){let y=c.headers.get("Location");if(ge(y,"Redirects returned/thrown from loaders/actions must have a Location header"),!hw.test(y))y=ef(new URL(e.url),r.slice(0,r.indexOf(n)+1),s,!0,y,a);else if(!l.isStaticRequest){let m=new URL(e.url),w=y.startsWith("//")?new URL(m.protocol+y):new URL(y),x=Qa(w.pathname,s)!=null;w.origin===m.origin&&x&&(y=w.pathname+w.search+w.hash)}if(l.isStaticRequest)throw c.headers.set("Location",y),c;return{type:Qe.redirect,status:I,location:y,revalidate:c.headers.get("X-Remix-Revalidate")!==null,reloadDocument:c.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:u===Qe.error?Qe.error:Qe.data,response:c};let E;try{let y=c.headers.get("Content-Type");y&&/\bapplication\/json\b/.test(y)?c.body==null?E=null:E=await c.json():E=await c.text()}catch(y){return{type:Qe.error,error:y}}return u===Qe.error?{type:u,error:new Mp(I,c.statusText,E),headers:c.headers}:{type:Qe.data,data:E,statusCode:c.status,headers:c.headers}}if(u===Qe.error)return{type:u,error:c};if(XA(c)){var v,A;return{type:Qe.deferred,deferredData:c,statusCode:(v=c.init)==null?void 0:v.status,headers:((A=c.init)==null?void 0:A.headers)&&new Headers(c.init.headers)}}return{type:Qe.data,data:c}}function Rs(t,e,n,r){let i=t.createURL(pw(e)).toString(),o={signal:n};if(r&&Rn(r.formMethod)){let{formMethod:s,formEncType:a}=r;o.method=s.toUpperCase(),a==="application/json"?(o.headers=new Headers({"Content-Type":a}),o.body=JSON.stringify(r.json)):a==="text/plain"?o.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?o.body=tf(r.formData):o.body=r.formData}return new Request(i,o)}function tf(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function cy(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function YA(t,e,n,r,i){let o={},s=null,a,l=!1,u={};return n.forEach((c,h)=>{let f=e[h].route.id;if(ge(!Ii(c),"Cannot handle redirect results in processLoaderData"),vo(c)){let v=Zs(t,f),A=c.error;r&&(A=Object.values(r)[0],r=void 0),s=s||{},s[v.route.id]==null&&(s[v.route.id]=A),o[f]=void 0,l||(l=!0,a=uw(c.error)?c.error.status:500),c.headers&&(u[f]=c.headers)}else Ti(c)?(i.set(f,c.deferredData),o[f]=c.deferredData.data):o[f]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[f]=c.headers)}),r&&(s=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:u}}function hy(t,e,n,r,i,o,s,a){let{loaderData:l,errors:u}=YA(e,n,r,i,a);for(let c=0;c<o.length;c++){let{key:h,match:f,controller:v}=o[c];ge(s!==void 0&&s[c]!==void 0,"Did not find corresponding fetcher result");let A=s[c];if(!(v&&v.signal.aborted))if(vo(A)){let I=Zs(t.matches,f?.route.id);u&&u[I.route.id]||(u=Ye({},u,{[I.route.id]:A.error})),t.fetchers.delete(h)}else if(Ii(A))ge(!1,"Unhandled fetcher revalidation redirect");else if(Ti(A))ge(!1,"Unhandled fetcher deferred data");else{let I=kr(A.data);t.fetchers.set(h,I)}}return{loaderData:l,errors:u}}function dy(t,e,n,r){let i=Ye({},e);for(let o of n){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function Zs(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function fy(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function pn(t,e){let{pathname:n,routeId:r,method:i,type:o}=e===void 0?{}:e,s="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(s="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?a="defer() is not supported in actions":o==="invalid-body"&&(a="Unable to encode submission body")):t===403?(s="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(s="Not Found",a='No route matches URL "'+n+'"'):t===405&&(s="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new Mp(t||500,s,new Error(a),!0)}function py(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Ii(n))return{result:n,idx:e}}}function pw(t){let e=typeof t=="string"?rr(t):t;return Ga(Ye({},e,{hash:""}))}function JA(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Ti(t){return t.type===Qe.deferred}function vo(t){return t.type===Qe.error}function Ii(t){return(t&&t.type)===Qe.redirect}function XA(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function ZA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function eR(t){return BA.has(t.toLowerCase())}function Rn(t){return jA.has(t.toLowerCase())}async function my(t,e,n,r,i,o){for(let s=0;s<n.length;s++){let a=n[s],l=e[s];if(!l)continue;let u=t.find(h=>h.route.id===l.route.id),c=u!=null&&!fw(u,l)&&(o&&o[l.route.id])!==void 0;if(Ti(a)&&(i||c)){let h=r[s];ge(h,"Expected an AbortSignal for revalidating fetcher deferred result"),await mw(a,h,i).then(f=>{f&&(n[s]=f||n[s])})}}}async function mw(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Qe.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Qe.error,error:i}}return{type:Qe.data,data:t.deferredData.data}}}function Lp(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function nf(t,e){let n=typeof e=="string"?rr(e).search:e.search;if(t[t.length-1].route.index&&Lp(n||""))return t[t.length-1];let r=lw(t);return r[r.length-1]}function gy(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:s}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function Bh(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function tR(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ps(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function nR(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function kr(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function rR(t,e){try{let n=t.sessionStorage.getItem(dw);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function iR(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(dw,JSON.stringify(n))}catch(r){Xr(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nu(){return Nu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nu.apply(this,arguments)}const gw=L.createContext(null),yw=L.createContext(null),vw=L.createContext(null),mc=L.createContext(null),gc=L.createContext({outlet:null,matches:[],isDataRoute:!1}),_w=L.createContext(null);function Fp(){return L.useContext(mc)!=null}function ww(){return Fp()||ge(!1),L.useContext(mc).location}function oR(t,e){return Ew(t,e)}function Ew(t,e,n,r){Fp()||ge(!1);let{navigator:i}=L.useContext(vw),{matches:o}=L.useContext(gc),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=ww(),c;if(e){var h;let E=typeof e=="string"?rr(e):e;l==="/"||(h=E.pathname)!=null&&h.startsWith(l)||ge(!1),c=E}else c=u;let f=c.pathname||"/",v=l==="/"?f:f.slice(l.length)||"/",A=yo(t,{pathname:v}),I=cR(A&&A.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:ki([l,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:ki([l,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,n,r);return e&&I?L.createElement(mc.Provider,{value:{location:Nu({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Xe.Pop}},I):I}function sR(){let t=pR(),e=uw(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:i},n):null,null)}const aR=L.createElement(sR,null);class lR extends L.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?L.createElement(gc.Provider,{value:this.props.routeContext},L.createElement(_w.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uR(t){let{routeContext:e,match:n,children:r}=t,i=L.useContext(gw);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),L.createElement(gc.Provider,{value:e},r)}function cR(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=s.findIndex(h=>h.route.id&&a?.[h.route.id]);c>=0||ge(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let h=s[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:f,errors:v}=n,A=h.route.loader&&f[h.route.id]===void 0&&(!v||v[h.route.id]===void 0);if(h.route.lazy||A){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,h,f)=>{let v,A=!1,I=null,E=null;n&&(v=a&&h.route.id?a[h.route.id]:void 0,I=h.route.errorElement||aR,l&&(u<0&&f===0?(mR("route-fallback",!1),A=!0,E=null):u===f&&(A=!0,E=h.route.hydrateFallbackElement||null)));let y=e.concat(s.slice(0,f+1)),m=()=>{let w;return v?w=I:A?w=E:h.route.Component?w=L.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=c,L.createElement(uR,{match:h,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?L.createElement(lR,{location:n.location,revalidation:n.revalidation,component:I,error:v,children:m(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):m()},null)}var rf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(rf||{});function hR(t){let e=L.useContext(yw);return e||ge(!1),e}function dR(t){let e=L.useContext(gc);return e||ge(!1),e}function fR(t){let e=dR(),n=e.matches[e.matches.length-1];return n.route.id||ge(!1),n.route.id}function pR(){var t;let e=L.useContext(_w),n=hR(rf.UseRouteError),r=fR(rf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}const yy={};function mR(t,e,n){!e&&!yy[t]&&(yy[t]=!0)}function js(t){ge(!1)}function gR(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Xe.Pop,navigator:o,static:s=!1,future:a}=t;Fp()&&ge(!1);let l=e.replace(/^\/*/,"/"),u=L.useMemo(()=>({basename:l,navigator:o,static:s,future:Nu({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=rr(r));let{pathname:c="/",search:h="",hash:f="",state:v=null,key:A="default"}=r,I=L.useMemo(()=>{let E=Qa(c,l);return E==null?null:{location:{pathname:E,search:h,hash:f,state:v,key:A},navigationType:i}},[l,c,h,f,v,A,i]);return I==null?null:L.createElement(vw.Provider,{value:u},L.createElement(mc.Provider,{children:n,value:I}))}function yR(t){let{children:e,location:n}=t;return oR(of(e),n)}new Promise(()=>{});function of(t,e){e===void 0&&(e=[]);let n=[];return L.Children.forEach(t,(r,i)=>{if(!L.isValidElement(r))return;let o=[...e,i];if(r.type===L.Fragment){n.push.apply(n,of(r.props.children,o));return}r.type!==js&&ge(!1),!r.props.index||!r.props.children||ge(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=of(r.props.children,o)),n.push(s)}),n}function vR(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:L.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:L.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:L.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ou(){return Ou=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ou.apply(this,arguments)}const _R="6";try{window.__reactRouterVersion=_R}catch{}function wR(t,e){return HA({basename:e?.basename,future:Ou({},e?.future,{v7_prependBasename:!0}),history:dA({window:e?.window}),hydrationData:e?.hydrationData||ER(),routes:t,mapRouteProperties:vR,window:e?.window}).initialize()}function ER(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Ou({},e,{errors:TR(e.errors)})),e}function TR(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Mp(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const IR=L.createContext({isTransitioning:!1}),SR=L.createContext(new Map),AR="startTransition",vy=eI[AR],RR="flushSync",_y=hA[RR];function PR(t){vy?vy(t):t()}function Cs(t){_y?_y(t):t()}let CR=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function xR(t){let{fallbackElement:e,router:n,future:r}=t,[i,o]=L.useState(n.state),[s,a]=L.useState(),[l,u]=L.useState({isTransitioning:!1}),[c,h]=L.useState(),[f,v]=L.useState(),[A,I]=L.useState(),E=L.useRef(new Map),{v7_startTransition:y}=r||{},m=L.useCallback(D=>{y?PR(D):D()},[y]),w=L.useCallback((D,j)=>{let{deletedFetchers:q,unstable_flushSync:z,unstable_viewTransitionOpts:Y}=j;q.forEach(De=>E.current.delete(De)),D.fetchers.forEach((De,ct)=>{De.data!==void 0&&E.current.set(ct,De.data)});let Fe=n.window==null||typeof n.window.document.startViewTransition!="function";if(!Y||Fe){z?Cs(()=>o(D)):m(()=>o(D));return}if(z){Cs(()=>{f&&(c&&c.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:Y.currentLocation,nextLocation:Y.nextLocation})});let De=n.window.document.startViewTransition(()=>{Cs(()=>o(D))});De.finished.finally(()=>{Cs(()=>{h(void 0),v(void 0),a(void 0),u({isTransitioning:!1})})}),Cs(()=>v(De));return}f?(c&&c.resolve(),f.skipTransition(),I({state:D,currentLocation:Y.currentLocation,nextLocation:Y.nextLocation})):(a(D),u({isTransitioning:!0,flushSync:!1,currentLocation:Y.currentLocation,nextLocation:Y.nextLocation}))},[n.window,f,c,E,m]);L.useLayoutEffect(()=>n.subscribe(w),[n,w]),L.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new CR)},[l]),L.useEffect(()=>{if(c&&s&&n.window){let D=s,j=c.promise,q=n.window.document.startViewTransition(async()=>{m(()=>o(D)),await j});q.finished.finally(()=>{h(void 0),v(void 0),a(void 0),u({isTransitioning:!1})}),v(q)}},[m,s,c,n.window]),L.useEffect(()=>{c&&s&&i.location.key===s.location.key&&c.resolve()},[c,f,i.location,s]),L.useEffect(()=>{!l.isTransitioning&&A&&(a(A.state),u({isTransitioning:!0,flushSync:!1,currentLocation:A.currentLocation,nextLocation:A.nextLocation}),I(void 0))},[l.isTransitioning,A]),L.useEffect(()=>{},[]);let x=L.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:D=>n.navigate(D),push:(D,j,q)=>n.navigate(D,{state:j,preventScrollReset:q?.preventScrollReset}),replace:(D,j,q)=>n.navigate(D,{replace:!0,state:j,preventScrollReset:q?.preventScrollReset})}),[n]),F=n.basename||"/",T=L.useMemo(()=>({router:n,navigator:x,static:!1,basename:F}),[n,x,F]);return L.createElement(L.Fragment,null,L.createElement(gw.Provider,{value:T},L.createElement(yw.Provider,{value:i},L.createElement(SR.Provider,{value:E.current},L.createElement(IR.Provider,{value:l},L.createElement(gR,{basename:F,location:i.location,navigationType:i.historyAction,navigator:x,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?L.createElement(kR,{routes:n.routes,future:n.future,state:i}):e))))),null)}function kR(t){let{routes:e,future:n,state:r}=t;return Ew(e,void 0,r,n)}var wy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(wy||(wy={}));var Ey;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ey||(Ey={}));var Ty={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},DR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Iw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,h=(o&3)<<4|a>>4;let f=(a&15)<<2|u>>6,v=u&63;l||(v=64,s||(f=64)),r.push(n[c],n[h],n[f],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Tw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):DR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||h==null)throw new NR;const f=o<<2|a>>4;if(r.push(f),u!==64){const v=a<<4&240|u>>2;if(r.push(v),h!==64){const A=u<<6&192|h;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class NR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OR=function(t){const e=Tw(t);return Iw.encodeByteArray(e,!0)},Vu=function(t){return OR(t).replace(/\./g,"")},VR=function(t){try{return Iw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=()=>MR().__FIREBASE_DEFAULTS__,FR=()=>{if(typeof process>"u"||typeof Ty>"u")return;const t=Ty.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},bR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&VR(t[1]);return e&&JSON.parse(e)},bp=()=>{try{return LR()||FR()||bR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},jR=t=>{var e,n;return(n=(e=bp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Sw=t=>{const e=jR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Aw=()=>{var t;return(t=bp())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Vu(JSON.stringify(n)),Vu(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BR(){var t;const e=(t=bp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $R(){return!BR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pw(){try{return typeof indexedDB=="object"}catch{return!1}}function zR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="FirebaseError";class qi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=qR,Object.setPrototypeOf(this,qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cw.prototype.create)}}class Cw{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?WR(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new qi(i,a,r)}}function WR(t,e){return t.replace(HR,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const HR=/\{\$([^}]+)}/g;function sf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Iy(o)&&Iy(s)){if(!sf(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Iy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(t){return t&&t._delegate?t._delegate:t}class bo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new UR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KR(e))try{this.getOrInitializeService({instanceIdentifier:mi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=mi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=mi){return this.instances.has(e)}getOptions(e=mi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:QR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=mi){return this.component?this.component.multipleInstances?e:mi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QR(t){return t===mi?void 0:t}function KR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new GR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Te||(Te={}));const JR={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},XR=Te.INFO,ZR={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},eP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=ZR[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xw{constructor(e){this.name=e,this._logLevel=XR,this._logHandler=eP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}}const tP=(t,e)=>e.some(n=>t instanceof n);let Sy,Ay;function nP(){return Sy||(Sy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rP(){return Ay||(Ay=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kw=new WeakMap,af=new WeakMap,Dw=new WeakMap,$h=new WeakMap,jp=new WeakMap;function iP(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Hr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&kw.set(n,t)}).catch(()=>{}),jp.set(e,t),e}function oP(t){if(af.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});af.set(t,e)}let lf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return af.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Dw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function sP(t){lf=t(lf)}function aP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(zh(this),e,...n);return Dw.set(r,e.sort?e.sort():[e]),Hr(r)}:rP().includes(t)?function(...e){return t.apply(zh(this),e),Hr(kw.get(this))}:function(...e){return Hr(t.apply(zh(this),e))}}function lP(t){return typeof t=="function"?aP(t):(t instanceof IDBTransaction&&oP(t),tP(t,nP())?new Proxy(t,lf):t)}function Hr(t){if(t instanceof IDBRequest)return iP(t);if($h.has(t))return $h.get(t);const e=lP(t);return e!==t&&($h.set(t,e),jp.set(e,t)),e}const zh=t=>jp.get(t);function uP(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Hr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Hr(s.result),l.oldVersion,l.newVersion,Hr(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const cP=["get","getKey","getAll","getAllKeys","count"],hP=["put","add","delete","clear"],qh=new Map;function Ry(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(qh.get(e))return qh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=hP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||cP.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return qh.set(e,o),o}sP(t=>({...t,get:(e,n,r)=>Ry(e,n)||t.get(e,n,r),has:(e,n)=>!!Ry(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function fP(t){const e=t.getComponent();return e?.type==="VERSION"}const uf="@firebase/app",Py="0.9.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new xw("@firebase/app"),pP="@firebase/app-compat",mP="@firebase/analytics-compat",gP="@firebase/analytics",yP="@firebase/app-check-compat",vP="@firebase/app-check",_P="@firebase/auth",wP="@firebase/auth-compat",EP="@firebase/database",TP="@firebase/database-compat",IP="@firebase/functions",SP="@firebase/functions-compat",AP="@firebase/installations",RP="@firebase/installations-compat",PP="@firebase/messaging",CP="@firebase/messaging-compat",xP="@firebase/performance",kP="@firebase/performance-compat",DP="@firebase/remote-config",NP="@firebase/remote-config-compat",OP="@firebase/storage",VP="@firebase/storage-compat",MP="@firebase/firestore",LP="@firebase/firestore-compat",FP="firebase",bP="10.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cf="[DEFAULT]",jP={[uf]:"fire-core",[pP]:"fire-core-compat",[gP]:"fire-analytics",[mP]:"fire-analytics-compat",[vP]:"fire-app-check",[yP]:"fire-app-check-compat",[_P]:"fire-auth",[wP]:"fire-auth-compat",[EP]:"fire-rtdb",[TP]:"fire-rtdb-compat",[IP]:"fire-fn",[SP]:"fire-fn-compat",[AP]:"fire-iid",[RP]:"fire-iid-compat",[PP]:"fire-fcm",[CP]:"fire-fcm-compat",[xP]:"fire-perf",[kP]:"fire-perf-compat",[DP]:"fire-rc",[NP]:"fire-rc-compat",[OP]:"fire-gcs",[VP]:"fire-gcs-compat",[MP]:"fire-fst",[LP]:"fire-fst-compat","fire-js":"fire-js",[FP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu=new Map,hf=new Map;function UP(t,e){try{t.container.addComponent(e)}catch(n){Fi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Sa(t){const e=t.name;if(hf.has(e))return Fi.debug(`There were multiple attempts to register component ${e}.`),!1;hf.set(e,t);for(const n of Lu.values())UP(n,t);return!0}function Nw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Gr=new Cw("app","Firebase",BP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow=bP;function Vw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:cf,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Gr.create("bad-app-name",{appName:String(i)});if(n||(n=Aw()),!n)throw Gr.create("no-options");const o=Lu.get(i);if(o){if(sf(n,o.options)&&sf(r,o.config))return o;throw Gr.create("duplicate-app",{appName:i})}const s=new YR(i);for(const l of hf.values())s.addComponent(l);const a=new $P(n,r,s);return Lu.set(i,a),a}function Mw(t=cf){const e=Lu.get(t);if(!e&&t===cf&&Aw())return Vw();if(!e)throw Gr.create("no-app",{appName:t});return e}function Qr(t,e,n){var r;let i=(r=jP[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fi.warn(a.join(" "));return}Sa(new bo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP="firebase-heartbeat-database",qP=1,Aa="firebase-heartbeat-store";let Wh=null;function Lw(){return Wh||(Wh=uP(zP,qP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Aa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Gr.create("idb-open",{originalErrorMessage:t.message})})),Wh}async function WP(t){try{const n=(await Lw()).transaction(Aa),r=await n.objectStore(Aa).get(Fw(t));return await n.done,r}catch(e){if(e instanceof qi)Fi.warn(e.message);else{const n=Gr.create("idb-get",{originalErrorMessage:e?.message});Fi.warn(n.message)}}}async function Cy(t,e){try{const r=(await Lw()).transaction(Aa,"readwrite");await r.objectStore(Aa).put(e,Fw(t)),await r.done}catch(n){if(n instanceof qi)Fi.warn(n.message);else{const r=Gr.create("idb-set",{originalErrorMessage:n?.message});Fi.warn(r.message)}}}function Fw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP=1024,GP=30*24*60*60*1e3;class QP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new YP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=xy();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=GP}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=xy(),{heartbeatsToSend:r,unsentEntries:i}=KP(this._heartbeatsCache.heartbeats),o=Vu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function xy(){return new Date().toISOString().substring(0,10)}function KP(t,e=HP){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),ky(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ky(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class YP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Pw()?zR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await WP(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Cy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Cy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ky(t){return Vu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(t){Sa(new bo("platform-logger",e=>new dP(e),"PRIVATE")),Sa(new bo("heartbeat",e=>new QP(e),"PRIVATE")),Qr(uf,Py,t),Qr(uf,Py,"esm2017"),Qr("fire-js","")}JP("");var XP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},H,Up=Up||{},le=XP||self;function yc(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Ka(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function ZP(t){return Object.prototype.hasOwnProperty.call(t,Hh)&&t[Hh]||(t[Hh]=++eC)}var Hh="closure_uid_"+(1e9*Math.random()>>>0),eC=0;function tC(t,e,n){return t.call.apply(t.bind,arguments)}function nC(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Lt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Lt=tC:Lt=nC,Lt.apply(null,arguments)}function Ll(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function _t(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function oi(){this.s=this.s,this.o=this.o}var rC=0;oi.prototype.s=!1;oi.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),rC!=0)&&ZP(this)};oi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const bw=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Bp(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Dy(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(yc(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Ft(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ft.prototype.h=function(){this.defaultPrevented=!0};var iC=function(){if(!le.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};le.addEventListener("test",n,e),le.removeEventListener("test",n,e)}catch{}return t}();function Ra(t){return/^[\s\xa0]*$/.test(t)}function vc(){var t=le.navigator;return t&&(t=t.userAgent)?t:""}function qn(t){return vc().indexOf(t)!=-1}function $p(t){return $p[" "](t),t}$p[" "]=function(){};function oC(t,e){var n=JC;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var sC=qn("Opera"),jo=qn("Trident")||qn("MSIE"),jw=qn("Edge"),df=jw||jo,Uw=qn("Gecko")&&!(vc().toLowerCase().indexOf("webkit")!=-1&&!qn("Edge"))&&!(qn("Trident")||qn("MSIE"))&&!qn("Edge"),aC=vc().toLowerCase().indexOf("webkit")!=-1&&!qn("Edge");function Bw(){var t=le.document;return t?t.documentMode:void 0}var ff;e:{var Gh="",Qh=function(){var t=vc();if(Uw)return/rv:([^\);]+)(\)|;)/.exec(t);if(jw)return/Edge\/([\d\.]+)/.exec(t);if(jo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(aC)return/WebKit\/(\S+)/.exec(t);if(sC)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Qh&&(Gh=Qh?Qh[1]:""),jo){var Kh=Bw();if(Kh!=null&&Kh>parseFloat(Gh)){ff=String(Kh);break e}}ff=Gh}var pf;if(le.document&&jo){var Ny=Bw();pf=Ny||parseInt(ff,10)||void 0}else pf=void 0;var lC=pf;function Pa(t,e){if(Ft.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Uw){e:{try{$p(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:uC[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Pa.$.h.call(this)}}_t(Pa,Ft);var uC={2:"touch",3:"pen",4:"mouse"};Pa.prototype.h=function(){Pa.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ya="closure_listenable_"+(1e6*Math.random()|0),cC=0;function hC(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++cC,this.fa=this.ia=!1}function _c(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function zp(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function dC(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function $w(t){const e={};for(const n in t)e[n]=t[n];return e}const Oy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zw(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<Oy.length;o++)n=Oy[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function wc(t){this.src=t,this.g={},this.h=0}wc.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=gf(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new hC(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function mf(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=bw(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(_c(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function gf(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var qp="closure_lm_"+(1e6*Math.random()|0),Yh={};function qw(t,e,n,r,i){if(r&&r.once)return Hw(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)qw(t,e[o],n,r,i);return null}return n=Gp(n),t&&t[Ya]?t.O(e,n,Ka(r)?!!r.capture:!!r,i):Ww(t,e,n,!1,r,i)}function Ww(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Ka(i)?!!i.capture:!!i,a=Hp(t);if(a||(t[qp]=a=new wc(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=fC(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)iC||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Qw(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function fC(){function t(n){return e.call(t.src,t.listener,n)}const e=pC;return t}function Hw(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Hw(t,e[o],n,r,i);return null}return n=Gp(n),t&&t[Ya]?t.P(e,n,Ka(r)?!!r.capture:!!r,i):Ww(t,e,n,!0,r,i)}function Gw(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Gw(t,e[o],n,r,i);else r=Ka(r)?!!r.capture:!!r,n=Gp(n),t&&t[Ya]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=gf(o,n,r,i),-1<n&&(_c(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Hp(t))&&(e=t.g[e.toString()],t=-1,e&&(t=gf(e,n,r,i)),(n=-1<t?e[t]:null)&&Wp(n))}function Wp(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Ya])mf(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Qw(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Hp(e))?(mf(n,t),n.h==0&&(n.src=null,e[qp]=null)):_c(t)}}}function Qw(t){return t in Yh?Yh[t]:Yh[t]="on"+t}function pC(t,e){if(t.fa)t=!0;else{e=new Pa(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Wp(t),t=n.call(r,e)}return t}function Hp(t){return t=t[qp],t instanceof wc?t:null}var Jh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gp(t){return typeof t=="function"?t:(t[Jh]||(t[Jh]=function(e){return t.handleEvent(e)}),t[Jh])}function vt(){oi.call(this),this.i=new wc(this),this.S=this,this.J=null}_t(vt,oi);vt.prototype[Ya]=!0;vt.prototype.removeEventListener=function(t,e,n,r){Gw(this,t,e,n,r)};function Rt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Ft(e,t);else if(e instanceof Ft)e.target=e.target||t;else{var i=e;e=new Ft(r,t),zw(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Fl(s,r,!0,e)&&i}if(s=e.g=t,i=Fl(s,r,!0,e)&&i,i=Fl(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=Fl(s,r,!1,e)&&i}vt.prototype.N=function(){if(vt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)_c(n[r]);delete t.g[e],t.h--}}this.J=null};vt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};vt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Fl(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&mf(t.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Qp=le.JSON.stringify;class mC{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function gC(){var t=Kp;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class yC{constructor(){this.h=this.g=null}add(e,n){const r=Kw.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Kw=new mC(()=>new vC,t=>t.reset());class vC{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function _C(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function wC(t){le.setTimeout(()=>{throw t},0)}let Ca,xa=!1,Kp=new yC,Yw=()=>{const t=le.Promise.resolve(void 0);Ca=()=>{t.then(EC)}};var EC=()=>{for(var t;t=gC();){try{t.h.call(t.g)}catch(n){wC(n)}var e=Kw;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}xa=!1};function Ec(t,e){vt.call(this),this.h=t||1,this.g=e||le,this.j=Lt(this.qb,this),this.l=Date.now()}_t(Ec,vt);H=Ec.prototype;H.ga=!1;H.T=null;H.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Rt(this,"tick"),this.ga&&(Yp(this),this.start()))}};H.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Yp(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}H.N=function(){Ec.$.N.call(this),Yp(this),delete this.g};function Jp(t,e,n){if(typeof t=="function")n&&(t=Lt(t,n));else if(t&&typeof t.handleEvent=="function")t=Lt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:le.setTimeout(t,e||0)}function Jw(t){t.g=Jp(()=>{t.g=null,t.i&&(t.i=!1,Jw(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class TC extends oi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Jw(this)}N(){super.N(),this.g&&(le.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ka(t){oi.call(this),this.h=t,this.g={}}_t(ka,oi);var Vy=[];function Xw(t,e,n,r){Array.isArray(n)||(n&&(Vy[0]=n.toString()),n=Vy);for(var i=0;i<n.length;i++){var o=qw(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function Zw(t){zp(t.g,function(e,n){this.g.hasOwnProperty(n)&&Wp(e)},t),t.g={}}ka.prototype.N=function(){ka.$.N.call(this),Zw(this)};ka.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Tc(){this.g=!0}Tc.prototype.Ea=function(){this.g=!1};function IC(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");s=2<=h.length&&h[1]=="type"?s+(c+"="+u+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function SC(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function _o(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+RC(t,n)+(r?" "+r:"")})}function AC(t,e){t.info(function(){return"TIMEOUT: "+e})}Tc.prototype.info=function(){};function RC(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return Qp(n)}catch{return e}}var Wi={},My=null;function Ic(){return My=My||new vt}Wi.Ta="serverreachability";function e1(t){Ft.call(this,Wi.Ta,t)}_t(e1,Ft);function Da(t){const e=Ic();Rt(e,new e1(e))}Wi.STAT_EVENT="statevent";function t1(t,e){Ft.call(this,Wi.STAT_EVENT,t),this.stat=e}_t(t1,Ft);function Wt(t){const e=Ic();Rt(e,new t1(e,t))}Wi.Ua="timingevent";function n1(t,e){Ft.call(this,Wi.Ua,t),this.size=e}_t(n1,Ft);function Ja(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return le.setTimeout(function(){t()},e)}var Sc={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},r1={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Xp(){}Xp.prototype.h=null;function Ly(t){return t.h||(t.h=t.i())}function i1(){}var Xa={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Zp(){Ft.call(this,"d")}_t(Zp,Ft);function em(){Ft.call(this,"c")}_t(em,Ft);var yf;function Ac(){}_t(Ac,Xp);Ac.prototype.g=function(){return new XMLHttpRequest};Ac.prototype.i=function(){return{}};yf=new Ac;function Za(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ka(this),this.P=PC,t=df?125:void 0,this.V=new Ec(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new o1}function o1(){this.i=null,this.g="",this.h=!1}var PC=45e3,s1={},vf={};H=Za.prototype;H.setTimeout=function(t){this.P=t};function _f(t,e,n){t.L=1,t.A=Pc(wr(e)),t.u=n,t.S=!0,a1(t,null)}function a1(t,e){t.G=Date.now(),el(t),t.B=wr(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),m1(n.i,"t",r),t.o=0,n=t.l.J,t.h=new o1,t.g=L1(t.l,n?e:null,!t.u),0<t.O&&(t.M=new TC(Lt(t.Pa,t,t.g),t.O)),Xw(t.U,t.g,"readystatechange",t.nb),e=t.I?$w(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Da(),IC(t.j,t.v,t.B,t.m,t.W,t.u)}H.nb=function(t){t=t.target;const e=this.M;e&&Wn(t)==3?e.l():this.Pa(t)};H.Pa=function(t){try{if(t==this.g)e:{const c=Wn(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||df||this.g&&(this.h.h||this.g.ja()||Uy(this.g)))){this.J||c!=4||e==7||(e==8||0>=h?Da(3):Da(2)),Rc(this);var n=this.g.da();this.ca=n;t:if(l1(this)){var r=Uy(this.g);t="";var i=r.length,o=Wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Si(this),ea(this);var s="";break t}this.h.i=new le.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,SC(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ra(a)){var u=a;break t}}u=null}if(n=u)_o(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wf(this,n);else{this.i=!1,this.s=3,Wt(12),Si(this),ea(this);break e}}this.S?(u1(this,c,s),df&&this.i&&c==3&&(Xw(this.U,this.V,"tick",this.mb),this.V.start())):(_o(this.j,this.m,s,null),wf(this,s)),c==4&&Si(this),this.i&&!this.J&&(c==4?N1(this.l,this):(this.i=!1,el(this)))}else QC(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),Si(this),ea(this)}}}catch{}finally{}};function l1(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function u1(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=CC(t,n),i==vf){e==4&&(t.s=4,Wt(14),r=!1),_o(t.j,t.m,null,"[Incomplete Response]");break}else if(i==s1){t.s=4,Wt(15),_o(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else _o(t.j,t.m,i,null),wf(t,i);l1(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Wt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),sm(e),e.M=!0,Wt(11))):(_o(t.j,t.m,n,"[Invalid Chunked Response]"),Si(t),ea(t))}H.mb=function(){if(this.g){var t=Wn(this.g),e=this.g.ja();this.o<e.length&&(Rc(this),u1(this,t,e),this.i&&t!=4&&el(this))}};function CC(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?vf:(n=Number(e.substring(n,r)),isNaN(n)?s1:(r+=1,r+n>e.length?vf:(e=e.slice(r,r+n),t.o=r+n,e)))}H.cancel=function(){this.J=!0,Si(this)};function el(t){t.Y=Date.now()+t.P,c1(t,t.P)}function c1(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Ja(Lt(t.lb,t),e)}function Rc(t){t.C&&(le.clearTimeout(t.C),t.C=null)}H.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(AC(this.j,this.B),this.L!=2&&(Da(),Wt(17)),Si(this),this.s=2,ea(this)):c1(this,this.Y-t)};function ea(t){t.l.H==0||t.J||N1(t.l,t)}function Si(t){Rc(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Yp(t.V),Zw(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function wf(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Ef(n.i,t))){if(!t.K&&Ef(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)ju(n),Dc(n);else break e;om(n),Wt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Ja(Lt(n.ib,n),6e3));if(1>=v1(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ai(n,11)}else if((t.K||n.g==t)&&ju(n),!Ra(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const v=t.g;if(v){const A=v.g?v.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(A){var o=r.i;o.g||A.indexOf("spdy")==-1&&A.indexOf("quic")==-1&&A.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(tm(o,o.h),o.h=null))}if(r.F){const I=v.g?v.g.getResponseHeader("X-HTTP-Session-Id"):null;I&&(r.Da=I,je(r.I,r.F,I))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=M1(r,r.J?r.pa:null,r.Y),s.K){_1(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(Rc(a),el(a)),r.g=s}else k1(r);0<n.j.length&&Nc(n)}else u[0]!="stop"&&u[0]!="close"||Ai(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Ai(n,7):im(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Da(4)}catch{}}function xC(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(yc(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function kC(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(yc(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function h1(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(yc(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=kC(t),r=xC(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var d1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function DC(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Di(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Di){this.h=t.h,Fu(this,t.j),this.s=t.s,this.g=t.g,bu(this,t.m),this.l=t.l;var e=t.i,n=new Na;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Fy(this,n),this.o=t.o}else t&&(e=String(t).match(d1))?(this.h=!1,Fu(this,e[1]||"",!0),this.s=Us(e[2]||""),this.g=Us(e[3]||"",!0),bu(this,e[4]),this.l=Us(e[5]||"",!0),Fy(this,e[6]||"",!0),this.o=Us(e[7]||"")):(this.h=!1,this.i=new Na(null,this.h))}Di.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Bs(e,by,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Bs(e,by,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Bs(n,n.charAt(0)=="/"?VC:OC,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Bs(n,LC)),t.join("")};function wr(t){return new Di(t)}function Fu(t,e,n){t.j=n?Us(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function bu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Fy(t,e,n){e instanceof Na?(t.i=e,FC(t.i,t.h)):(n||(e=Bs(e,MC)),t.i=new Na(e,t.h))}function je(t,e,n){t.i.set(e,n)}function Pc(t){return je(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Us(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Bs(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,NC),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function NC(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var by=/[#\/\?@]/g,OC=/[#\?:]/g,VC=/[#\?]/g,MC=/[#\?@]/g,LC=/#/g;function Na(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function si(t){t.g||(t.g=new Map,t.h=0,t.i&&DC(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}H=Na.prototype;H.add=function(t,e){si(this),this.i=null,t=Jo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function f1(t,e){si(t),e=Jo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function p1(t,e){return si(t),e=Jo(t,e),t.g.has(e)}H.forEach=function(t,e){si(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};H.ta=function(){si(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};H.Z=function(t){si(this);let e=[];if(typeof t=="string")p1(this,t)&&(e=e.concat(this.g.get(Jo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};H.set=function(t,e){return si(this),this.i=null,t=Jo(this,t),p1(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};H.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function m1(t,e,n){f1(t,e),0<n.length&&(t.i=null,t.g.set(Jo(t,e),Bp(n)),t.h+=n.length)}H.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function Jo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function FC(t,e){e&&!t.j&&(si(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(f1(this,r),m1(this,i,n))},t)),t.j=e}var bC=class{constructor(t,e){this.g=t,this.map=e}};function g1(t){this.l=t||jC,le.PerformanceNavigationTiming?(t=le.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(le.g&&le.g.Ka&&le.g.Ka()&&le.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var jC=10;function y1(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function v1(t){return t.h?1:t.g?t.g.size:0}function Ef(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function tm(t,e){t.g?t.g.add(e):t.h=e}function _1(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}g1.prototype.cancel=function(){if(this.i=w1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function w1(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Bp(t.i)}var UC=class{stringify(t){return le.JSON.stringify(t,void 0)}parse(t){return le.JSON.parse(t,void 0)}};function BC(){this.g=new UC}function $C(t,e,n){const r=n||"";try{h1(t,function(i,o){let s=i;Ka(i)&&(s=Qp(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function zC(t,e){const n=new Tc;if(le.Image){const r=new Image;r.onload=Ll(bl,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ll(bl,n,r,"TestLoadImage: error",!1,e),r.onabort=Ll(bl,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ll(bl,n,r,"TestLoadImage: timeout",!1,e),le.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function bl(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Cc(t){this.l=t.ec||null,this.j=t.ob||!1}_t(Cc,Xp);Cc.prototype.g=function(){return new xc(this.l,this.j)};Cc.prototype.i=function(t){return function(){return t}}({});function xc(t,e){vt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=nm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_t(xc,vt);var nm=0;H=xc.prototype;H.open=function(t,e){if(this.readyState!=nm)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Oa(this)};H.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||le).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};H.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,tl(this)),this.readyState=nm};H.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Oa(this)),this.g&&(this.readyState=3,Oa(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof le.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;E1(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function E1(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}H.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?tl(this):Oa(this),this.readyState==3&&E1(this)}};H.Za=function(t){this.g&&(this.response=this.responseText=t,tl(this))};H.Ya=function(t){this.g&&(this.response=t,tl(this))};H.ka=function(){this.g&&tl(this)};function tl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Oa(t)}H.setRequestHeader=function(t,e){this.v.append(t,e)};H.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};H.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Oa(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(xc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var qC=le.JSON.parse;function Je(t){vt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=T1,this.L=this.M=!1}_t(Je,vt);var T1="",WC=/^https?$/i,HC=["POST","PUT"];H=Je.prototype;H.Oa=function(t){this.M=t};H.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():yf.g(),this.C=this.u?Ly(this.u):Ly(yf),this.g.onreadystatechange=Lt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){jy(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=le.FormData&&t instanceof le.FormData,!(0<=bw(HC,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{A1(this),0<this.B&&((this.L=GC(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Lt(this.ua,this)):this.A=Jp(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){jy(this,o)}};function GC(t){return jo&&typeof t.timeout=="number"&&t.ontimeout!==void 0}H.ua=function(){typeof Up<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Rt(this,"timeout"),this.abort(8))};function jy(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,I1(t),kc(t)}function I1(t){t.F||(t.F=!0,Rt(t,"complete"),Rt(t,"error"))}H.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Rt(this,"complete"),Rt(this,"abort"),kc(this))};H.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),kc(this,!0)),Je.$.N.call(this)};H.La=function(){this.s||(this.G||this.v||this.l?S1(this):this.kb())};H.kb=function(){S1(this)};function S1(t){if(t.h&&typeof Up<"u"&&(!t.C[1]||Wn(t)!=4||t.da()!=2)){if(t.v&&Wn(t)==4)Jp(t.La,0,t);else if(Rt(t,"readystatechange"),Wn(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(d1)[1]||null;!i&&le.self&&le.self.location&&(i=le.self.location.protocol.slice(0,-1)),r=!WC.test(i?i.toLowerCase():"")}n=r}if(n)Rt(t,"complete"),Rt(t,"success");else{t.m=6;try{var o=2<Wn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",I1(t)}}finally{kc(t)}}}}function kc(t,e){if(t.g){A1(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Rt(t,"ready");try{n.onreadystatechange=r}catch{}}}function A1(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(le.clearTimeout(t.A),t.A=null)}H.isActive=function(){return!!this.g};function Wn(t){return t.g?t.g.readyState:0}H.da=function(){try{return 2<Wn(this)?this.g.status:-1}catch{return-1}};H.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};H.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),qC(e)}};function Uy(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case T1:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function QC(t){const e={};t=(t.g&&2<=Wn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Ra(t[r]))continue;var n=_C(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}dC(e,function(r){return r.join(", ")})}H.Ia=function(){return this.m};H.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function R1(t){let e="";return zp(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function rm(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=R1(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):je(t,e,n))}function xs(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function P1(t){this.Ga=0,this.j=[],this.l=new Tc,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=xs("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=xs("baseRetryDelayMs",5e3,t),this.hb=xs("retryDelaySeedMs",1e4,t),this.eb=xs("forwardChannelMaxRetries",2,t),this.xa=xs("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new g1(t&&t.concurrentRequestLimit),this.Ja=new BC,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}H=P1.prototype;H.ra=8;H.H=1;function im(t){if(C1(t),t.H==3){var e=t.W++,n=wr(t.I);if(je(n,"SID",t.K),je(n,"RID",e),je(n,"TYPE","terminate"),nl(t,n),e=new Za(t,t.l,e),e.L=2,e.A=Pc(wr(n)),n=!1,le.navigator&&le.navigator.sendBeacon)try{n=le.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&le.Image&&(new Image().src=e.A,n=!0),n||(e.g=L1(e.l,null),e.g.ha(e.A)),e.G=Date.now(),el(e)}V1(t)}function Dc(t){t.g&&(sm(t),t.g.cancel(),t.g=null)}function C1(t){Dc(t),t.u&&(le.clearTimeout(t.u),t.u=null),ju(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&le.clearTimeout(t.m),t.m=null)}function Nc(t){if(!y1(t.i)&&!t.m){t.m=!0;var e=t.Na;Ca||Yw(),xa||(Ca(),xa=!0),Kp.add(e,t),t.C=0}}function KC(t,e){return v1(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Ja(Lt(t.Na,t,e),O1(t,t.C)),t.C++,!0)}H.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Za(this,this.l,t);let o=this.s;if(this.U&&(o?(o=$w(o),zw(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=x1(this,i,e),n=wr(this.I),je(n,"RID",t),je(n,"CVER",22),this.F&&je(n,"X-HTTP-Session-Id",this.F),nl(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(R1(o)))+"&"+e:this.o&&rm(n,this.o,o)),tm(this.i,i),this.bb&&je(n,"TYPE","init"),this.P?(je(n,"$req",e),je(n,"SID","null"),i.aa=!0,_f(i,n,null)):_f(i,n,e),this.H=2}}else this.H==3&&(t?By(this,t):this.j.length==0||y1(this.i)||By(this))};function By(t,e){var n;e?n=e.m:n=t.W++;const r=wr(t.I);je(r,"SID",t.K),je(r,"RID",n),je(r,"AID",t.V),nl(t,r),t.o&&t.s&&rm(r,t.o,t.s),n=new Za(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=x1(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),tm(t.i,n),_f(n,r,e)}function nl(t,e){t.na&&zp(t.na,function(n,r){je(e,r,n)}),t.h&&h1({},function(n,r){je(e,r,n)})}function x1(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Lt(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=o,0>u)o=Math.max(0,i[l].g-100),a=!1;else try{$C(c,s,"req"+u+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function k1(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ca||Yw(),xa||(Ca(),xa=!0),Kp.add(e,t),t.A=0}}function om(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Ja(Lt(t.Ma,t),O1(t,t.A)),t.A++,!0)}H.Ma=function(){if(this.u=null,D1(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Ja(Lt(this.jb,this),t)}};H.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Wt(10),Dc(this),D1(this))};function sm(t){t.B!=null&&(le.clearTimeout(t.B),t.B=null)}function D1(t){t.g=new Za(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=wr(t.wa);je(e,"RID","rpc"),je(e,"SID",t.K),je(e,"AID",t.V),je(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&je(e,"TO",t.qa),je(e,"TYPE","xmlhttp"),nl(t,e),t.o&&t.s&&rm(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Pc(wr(e)),n.u=null,n.S=!0,a1(n,t)}H.ib=function(){this.v!=null&&(this.v=null,Dc(this),om(this),Wt(19))};function ju(t){t.v!=null&&(le.clearTimeout(t.v),t.v=null)}function N1(t,e){var n=null;if(t.g==e){ju(t),sm(t),t.g=null;var r=2}else if(Ef(t.i,e))n=e.F,_1(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Ic(),Rt(r,new n1(r,n)),Nc(t)}else k1(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&KC(t,e)||r==2&&om(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ai(t,5);break;case 4:Ai(t,10);break;case 3:Ai(t,6);break;default:Ai(t,2)}}}function O1(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ai(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Lt(t.pb,t);n||(n=new Di("//www.google.com/images/cleardot.gif"),le.location&&le.location.protocol=="http"||Fu(n,"https"),Pc(n)),zC(n.toString(),r)}else Wt(2);t.H=0,t.h&&t.h.za(e),V1(t),C1(t)}H.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Wt(2)):(this.l.info("Failed to ping google.com"),Wt(1))};function V1(t){if(t.H=0,t.ma=[],t.h){const e=w1(t.i);(e.length!=0||t.j.length!=0)&&(Dy(t.ma,e),Dy(t.ma,t.j),t.i.i.length=0,Bp(t.j),t.j.length=0),t.h.ya()}}function M1(t,e,n){var r=n instanceof Di?wr(n):new Di(n);if(r.g!="")e&&(r.g=e+"."+r.g),bu(r,r.m);else{var i=le.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Di(null);r&&Fu(o,r),e&&(o.g=e),i&&bu(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&je(r,n,e),je(r,"VER",t.ra),nl(t,r),r}function L1(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Je(new Cc({ob:n})):new Je(t.va),e.Oa(t.J),e}H.isActive=function(){return!!this.h&&this.h.isActive(this)};function F1(){}H=F1.prototype;H.Ba=function(){};H.Aa=function(){};H.za=function(){};H.ya=function(){};H.isActive=function(){return!0};H.Va=function(){};function Uu(){if(jo&&!(10<=Number(lC)))throw Error("Environmental error: no available transport.")}Uu.prototype.g=function(t,e){return new un(t,e)};function un(t,e){vt.call(this),this.g=new P1(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ra(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ra(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Xo(this)}_t(un,vt);un.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Wt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=M1(t,null,t.Y),Nc(t)};un.prototype.close=function(){im(this.g)};un.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Qp(t),t=n);e.j.push(new bC(e.fb++,t)),e.H==3&&Nc(e)};un.prototype.N=function(){this.g.h=null,delete this.j,im(this.g),delete this.g,un.$.N.call(this)};function b1(t){Zp.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}_t(b1,Zp);function j1(){em.call(this),this.status=1}_t(j1,em);function Xo(t){this.g=t}_t(Xo,F1);Xo.prototype.Ba=function(){Rt(this.g,"a")};Xo.prototype.Aa=function(t){Rt(this.g,new b1(t))};Xo.prototype.za=function(t){Rt(this.g,new j1)};Xo.prototype.ya=function(){Rt(this.g,"b")};function YC(){this.blockSize=-1}function On(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}_t(On,YC);On.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Xh(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}On.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)Xh(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){Xh(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){Xh(this,r),i=0;break}}this.h=i,this.i+=e};On.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function xe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var JC={};function am(t){return-128<=t&&128>t?oC(t,function(e){return new xe([e|0],0>e?-1:0)}):new xe([t|0],0>t?-1:0)}function Hn(t){if(isNaN(t)||!isFinite(t))return Co;if(0>t)return It(Hn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Tf;return new xe(e,0)}function U1(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return It(U1(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Hn(Math.pow(e,8)),r=Co,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Hn(Math.pow(e,o)),r=r.R(o).add(Hn(s))):(r=r.R(n),r=r.add(Hn(s)))}return r}var Tf=4294967296,Co=am(0),If=am(1),$y=am(16777216);H=xe.prototype;H.ea=function(){if(yn(this))return-It(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Tf+r)*e,e*=Tf}return t};H.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(fr(this))return"0";if(yn(this))return"-"+It(this).toString(t);for(var e=Hn(Math.pow(t,6)),n=this,r="";;){var i=$u(n,e).g;n=Bu(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,fr(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};H.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function fr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function yn(t){return t.h==-1}H.X=function(t){return t=Bu(this,t),yn(t)?-1:fr(t)?0:1};function It(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new xe(n,~t.h).add(If)}H.abs=function(){return yn(this)?It(this):this};H.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new xe(n,n[n.length-1]&-2147483648?-1:0)};function Bu(t,e){return t.add(It(e))}H.R=function(t){if(fr(this)||fr(t))return Co;if(yn(this))return yn(t)?It(this).R(It(t)):It(It(this).R(t));if(yn(t))return It(this.R(It(t)));if(0>this.X($y)&&0>t.X($y))return Hn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=s*l,jl(n,2*r+2*i),n[2*r+2*i+1]+=o*l,jl(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,jl(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,jl(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new xe(n,0)};function jl(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ks(t,e){this.g=t,this.h=e}function $u(t,e){if(fr(e))throw Error("division by zero");if(fr(t))return new ks(Co,Co);if(yn(t))return e=$u(It(t),e),new ks(It(e.g),It(e.h));if(yn(e))return e=$u(t,It(e)),new ks(It(e.g),e.h);if(30<t.g.length){if(yn(t)||yn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=If,r=e;0>=r.X(t);)n=zy(n),r=zy(r);var i=Zi(n,1),o=Zi(r,1);for(r=Zi(r,2),n=Zi(n,2);!fr(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Zi(r,1),n=Zi(n,1)}return e=Bu(t,i.R(e)),new ks(i,e)}for(i=Co;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Hn(n),s=o.R(e);yn(s)||0<s.X(t);)n-=r,o=Hn(n),s=o.R(e);fr(o)&&(o=If),i=i.add(o),t=Bu(t,s)}return new ks(i,t)}H.gb=function(t){return $u(this,t).h};H.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new xe(n,this.h&t.h)};H.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new xe(n,this.h|t.h)};H.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new xe(n,this.h^t.h)};function zy(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new xe(n,t.h)}function Zi(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new xe(i,t.h)}Uu.prototype.createWebChannel=Uu.prototype.g;un.prototype.send=un.prototype.u;un.prototype.open=un.prototype.m;un.prototype.close=un.prototype.close;Sc.NO_ERROR=0;Sc.TIMEOUT=8;Sc.HTTP_ERROR=6;r1.COMPLETE="complete";i1.EventType=Xa;Xa.OPEN="a";Xa.CLOSE="b";Xa.ERROR="c";Xa.MESSAGE="d";vt.prototype.listen=vt.prototype.O;Je.prototype.listenOnce=Je.prototype.P;Je.prototype.getLastError=Je.prototype.Sa;Je.prototype.getLastErrorCode=Je.prototype.Ia;Je.prototype.getStatus=Je.prototype.da;Je.prototype.getResponseJson=Je.prototype.Wa;Je.prototype.getResponseText=Je.prototype.ja;Je.prototype.send=Je.prototype.ha;Je.prototype.setWithCredentials=Je.prototype.Oa;On.prototype.digest=On.prototype.l;On.prototype.reset=On.prototype.reset;On.prototype.update=On.prototype.j;xe.prototype.add=xe.prototype.add;xe.prototype.multiply=xe.prototype.R;xe.prototype.modulo=xe.prototype.gb;xe.prototype.compare=xe.prototype.X;xe.prototype.toNumber=xe.prototype.ea;xe.prototype.toString=xe.prototype.toString;xe.prototype.getBits=xe.prototype.D;xe.fromNumber=Hn;xe.fromString=U1;var XC=function(){return new Uu},ZC=function(){return Ic()},Zh=Sc,ex=r1,tx=Wi,qy={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ul=i1,nx=Je,rx=On,xo=xe;const Wy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ot.UNAUTHENTICATED=new Ot(null),Ot.GOOGLE_CREDENTIALS=new Ot("google-credentials-uid"),Ot.FIRST_PARTY=new Ot("first-party-uid"),Ot.MOCK_USER=new Ot("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zo="10.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new xw("@firebase/firestore");function Ds(){return bi.logLevel}function W(t,...e){if(bi.logLevel<=Te.DEBUG){const n=e.map(lm);bi.debug(`Firestore (${Zo}): ${t}`,...n)}}function er(t,...e){if(bi.logLevel<=Te.ERROR){const n=e.map(lm);bi.error(`Firestore (${Zo}): ${t}`,...n)}}function Uo(t,...e){if(bi.logLevel<=Te.WARN){const n=e.map(lm);bi.warn(`Firestore (${Zo}): ${t}`,...n)}}function lm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t="Unexpected state"){const e=`FIRESTORE (${Zo}) INTERNAL ASSERTION FAILED: `+t;throw er(e),new Error(e)}function Le(t,e){t||se()}function he(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends qi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ix{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ot.UNAUTHENTICATED))}shutdown(){}}class ox{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class sx{constructor(e){this.t=e,this.currentUser=Ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Kn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Kn,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Kn)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Le(typeof r.accessToken=="string"),new B1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string"),new Ot(e)}}class ax{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ot.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class lx{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new ax(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ux{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cx{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,W("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Le(typeof n.token=="string"),this.R=n.token,new ux(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=hx(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Se(t,e){return t<e?-1:t>e?1:0}function Bo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new K(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ut(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ce(e)}static min(){return new ce(new ut(0,0))}static max(){return new ce(new ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(),r===void 0?r=e.length-n:r>e.length-n&&se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Va.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Va?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ue extends Va{construct(e,n,r){return new Ue(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ue(n)}static emptyPath(){return new Ue([])}}const dx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class St extends Va{construct(e,n,r){return new St(e,n,r)}static isValidIdentifier(e){return dx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),St.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new St(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new K(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new K(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new K(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new K(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new St(n)}static emptyPath(){return new St([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(Ue.fromString(e))}static fromName(e){return new te(Ue.fromString(e).popFirst(5))}static empty(){return new te(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ue.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new Ue(e.slice()))}}function fx(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ce.fromTimestamp(r===1e9?new ut(n+1,0):new ut(n,r));return new Zr(i,te.empty(),e)}function px(t){return new Zr(t.readTime,t.key,-1)}class Zr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Zr(ce.min(),te.empty(),-1)}static max(){return new Zr(ce.max(),te.empty(),-1)}}function mx(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:Se(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rl(t){if(t.code!==N.FAILED_PRECONDITION||t.message!==gx)throw t;W("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new V((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof V?n:V.resolve(n)}catch(n){return V.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):V.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):V.reject(n)}static resolve(e){return new V((n,r)=>{n(e)})}static reject(e){return new V((n,r)=>{r(e)})}static waitFor(e){return new V((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=V.resolve(!1);for(const r of e)n=n.next(i=>i?V.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new V((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new V((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Kn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new ta(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=cm(r.target.error);this.V.reject(new ta(e,i))}}static open(e,n,r,i){try{return new um(n,e.transaction(i,r))}catch(o){throw new ta(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(W("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new _x(n)}}class Ri{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Ri.S(Mu())===12.2&&er("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return W("SimpleDb","Removing database:",e),vi(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Pw())return!1;if(Ri.C())return!0;const e=Mu(),n=Ri.S(e),r=0<n&&n<10,i=Ri.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(W("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const s=o.target.result;n(s)},i.onblocked=()=>{r(new ta(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const s=o.target.error;s.name==="VersionError"?r(new K(N.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new K(N.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new ta(e,s))},i.onupgradeneeded=o=>{W("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const s=o.target.result;this.p.N(s,i.transaction,o.oldVersion,this.version).next(()=>{W("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.O(e);const a=um.open(this.db,e,o?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),V.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&s<3;if(W("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class vx{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return vi(this.k.delete())}}class ta extends K{constructor(e,n){super(N.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function il(t){return t.name==="IndexedDbTransactionError"}class _x{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(W("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(W("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),vi(r)}add(e){return W("SimpleDb","ADD",this.store.name,e,e),vi(this.store.add(e))}get(e){return vi(this.store.get(e)).next(n=>(n===void 0&&(n=null),W("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return W("SimpleDb","DELETE",this.store.name,e),vi(this.store.delete(e))}count(){return W("SimpleDb","COUNT",this.store.name),vi(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new V((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{const o=this.cursor(r),s=[];return this.G(o,(a,l)=>{s.push(l)}).next(()=>s)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new V((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(e,n){W("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new V((r,i)=>{n.onerror=o=>{const s=cm(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,n){const r=[];return new V((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const l=new vx(a),u=n(a.primaryKey,a.value,l);if(u instanceof V){const c=u.catch(h=>(l.done(),V.reject(h)));r.push(c)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>V.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function vi(t){return new V((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=cm(r.target.error);n(i)}})}let Hy=!1;function cm(t){const e=Ri.S(Mu());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new K("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Hy||(Hy=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}hm._e=-1;function Oc(t){return t==null}function zu(t){return t===0&&1/t==-1/0}function wx(t){return typeof t=="number"&&Number.isInteger(t)&&!zu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function es(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function z1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,n){this.comparator=e,this.root=n||Tt.EMPTY}insert(e,n){return new Ge(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tt.BLACK,null,null))}remove(e){return new Ge(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bl(this.root,e,this.comparator,!0)}}class Bl{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Tt.RED,this.left=i??Tt.EMPTY,this.right=o??Tt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Tt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Tt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Tt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw se();const e=this.left.check();if(e!==this.right.check())throw se();return e+(this.isRed()?0:1)}}Tt.EMPTY=null,Tt.RED=!0,Tt.BLACK=!1;Tt.EMPTY=new class{constructor(){this.size=0}get key(){throw se()}get value(){throw se()}get color(){throw se()}get left(){throw se()}get right(){throw se()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Tt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new Ge(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Qy(this.data.getIterator())}getIteratorFrom(e){return new Qy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class Qy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new Pt(St.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new q1("Invalid base64 string: "+o):o}}(e);return new Ut(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Ut(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ut.EMPTY_BYTE_STRING=new Ut("");const Ex=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ei(t){if(Le(!!t),typeof t=="string"){let e=0;const n=Ex.exec(t);if(Le(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:st(t.seconds),nanos:st(t.nanos)}}function st(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ji(t){return typeof t=="string"?Ut.fromBase64String(t):Ut.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function fm(t){const e=t.mapValue.fields.__previous_value__;return dm(e)?fm(e):e}function Ma(t){const e=ei(t.mapValue.fields.__local_write_time__.timestampValue);return new ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class La{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new La("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof La&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ui(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?dm(t)?4:Ix(t)?9007199254740991:10:se()}function tr(t,e){if(t===e)return!0;const n=Ui(t);if(n!==Ui(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ma(t).isEqual(Ma(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=ei(i.timestampValue),a=ei(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return ji(i.bytesValue).isEqual(ji(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return st(i.geoPointValue.latitude)===st(o.geoPointValue.latitude)&&st(i.geoPointValue.longitude)===st(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return st(i.integerValue)===st(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=st(i.doubleValue),a=st(o.doubleValue);return s===a?zu(s)===zu(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Bo(t.arrayValue.values||[],e.arrayValue.values||[],tr);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Gy(s)!==Gy(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!tr(s[l],a[l])))return!1;return!0}(t,e);default:return se()}}function Fa(t,e){return(t.values||[]).find(n=>tr(n,e))!==void 0}function $o(t,e){if(t===e)return 0;const n=Ui(t),r=Ui(e);if(n!==r)return Se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Se(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=st(o.integerValue||o.doubleValue),l=st(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Ky(t.timestampValue,e.timestampValue);case 4:return Ky(Ma(t),Ma(e));case 5:return Se(t.stringValue,e.stringValue);case 6:return function(o,s){const a=ji(o),l=ji(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Se(a[u],l[u]);if(c!==0)return c}return Se(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Se(st(o.latitude),st(s.latitude));return a!==0?a:Se(st(o.longitude),st(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=$o(a[u],l[u]);if(c)return c}return Se(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===$l.mapValue&&s===$l.mapValue)return 0;if(o===$l.mapValue)return 1;if(s===$l.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const f=Se(l[h],c[h]);if(f!==0)return f;const v=$o(a[l[h]],u[c[h]]);if(v!==0)return v}return Se(l.length,c.length)}(t.mapValue,e.mapValue);default:throw se()}}function Ky(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Se(t,e);const n=ei(t),r=ei(e),i=Se(n.seconds,r.seconds);return i!==0?i:Se(n.nanos,r.nanos)}function zo(t){return Sf(t)}function Sf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ei(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ji(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Sf(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Sf(n.fields[s])}`;return i+"}"}(t.mapValue):se()}function Yy(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Af(t){return!!t&&"integerValue"in t}function pm(t){return!!t&&"arrayValue"in t}function Jy(t){return!!t&&"nullValue"in t}function Xy(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ru(t){return!!t&&"mapValue"in t}function na(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return es(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=na(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=na(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Ix(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ru(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=na(n)}setAll(e){let n=St.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=na(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());ru(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return tr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ru(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){es(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new vn(na(this.value))}}function W1(t){const e=[];return es(t.fields,(n,r)=>{const i=new St([n]);if(ru(r)){const o=W1(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Mt(e,0,ce.min(),ce.min(),ce.min(),vn.empty(),0)}static newFoundDocument(e,n,r,i){return new Mt(e,1,n,ce.min(),r,i,0)}static newNoDocument(e,n){return new Mt(e,2,n,ce.min(),ce.min(),vn.empty(),0)}static newUnknownDocument(e,n){return new Mt(e,3,n,ce.min(),ce.min(),vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,n){this.position=e,this.inclusive=n}}function Zy(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=te.comparator(te.fromName(s.referenceValue),n.key):r=$o(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function ev(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!tr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n="asc"){this.field=e,this.dir=n}}function Sx(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{}class lt extends H1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Rx(e,n,r):n==="array-contains"?new xx(e,r):n==="in"?new kx(e,r):n==="not-in"?new Dx(e,r):n==="array-contains-any"?new Nx(e,r):new lt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Px(e,r):new Cx(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison($o(n,this.value)):n!==null&&Ui(this.value)===Ui(n)&&this.matchesComparison($o(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vn extends H1{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Vn(e,n)}matches(e){return G1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function G1(t){return t.op==="and"}function Q1(t){return Ax(t)&&G1(t)}function Ax(t){for(const e of t.filters)if(e instanceof Vn)return!1;return!0}function Rf(t){if(t instanceof lt)return t.field.canonicalString()+t.op.toString()+zo(t.value);if(Q1(t))return t.filters.map(e=>Rf(e)).join(",");{const e=t.filters.map(n=>Rf(n)).join(",");return`${t.op}(${e})`}}function K1(t,e){return t instanceof lt?function(r,i){return i instanceof lt&&r.op===i.op&&r.field.isEqual(i.field)&&tr(r.value,i.value)}(t,e):t instanceof Vn?function(r,i){return i instanceof Vn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&K1(s,i.filters[a]),!0):!1}(t,e):void se()}function Y1(t){return t instanceof lt?function(n){return`${n.field.canonicalString()} ${n.op} ${zo(n.value)}`}(t):t instanceof Vn?function(n){return n.op.toString()+" {"+n.getFilters().map(Y1).join(" ,")+"}"}(t):"Filter"}class Rx extends lt{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class Px extends lt{constructor(e,n){super(e,"in",n),this.keys=J1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Cx extends lt{constructor(e,n){super(e,"not-in",n),this.keys=J1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function J1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class xx extends lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return pm(n)&&Fa(n.arrayValue,this.value)}}class kx extends lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fa(this.value.arrayValue,n)}}class Dx extends lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Fa(this.value.arrayValue,n)}}class Nx extends lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!pm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Fa(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function tv(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Ox(t,e,n,r,i,o,s)}function mm(t){const e=he(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Rf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Oc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>zo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>zo(r)).join(",")),e.ce=n}return e.ce}function gm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Sx(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!K1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ev(t.startAt,e.startAt)&&ev(t.endAt,e.endAt)}function Pf(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Vx(t,e,n,r,i,o,s,a){return new ts(t,e,n,r,i,o,s,a)}function Vc(t){return new ts(t)}function nv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function X1(t){return t.collectionGroup!==null}function ra(t){const e=he(t);if(e.le===null){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Pt(St.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new ba(o,r))}),n.has(St.keyField().canonicalString())||e.le.push(new ba(St.keyField(),r))}return e.le}function Yn(t){const e=he(t);return e.he||(e.he=Mx(e,ra(t))),e.he}function Mx(t,e){if(t.limitType==="F")return tv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new ba(i.field,o)});const n=t.endAt?new qu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qu(t.startAt.position,t.startAt.inclusive):null;return tv(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Cf(t,e){const n=t.filters.concat([e]);return new ts(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function xf(t,e,n){return new ts(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ol(t,e){return gm(Yn(t),Yn(e))&&t.limitType===e.limitType}function Z1(t){return`${mm(Yn(t))}|lt:${t.limitType}`}function to(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Y1(i)).join(", ")}]`),Oc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>zo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>zo(i)).join(",")),`Target(${r})`}(Yn(t))}; limitType=${t.limitType})`}function Mc(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):te.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of ra(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=Zy(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,ra(r),i)||r.endAt&&!function(s,a,l){const u=Zy(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,ra(r),i))}(t,e)}function Lx(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function eE(t){return(e,n)=>{let r=!1;for(const i of ra(t)){const o=Fx(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Fx(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?$o(l,u):se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){es(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return z1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=new Ge(te.comparator);function Er(){return bx}const tE=new Ge(te.comparator);function $s(...t){let e=tE;for(const n of t)e=e.insert(n.key,n);return e}function nE(t){let e=tE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Pi(){return ia()}function rE(){return ia()}function ia(){return new ns(t=>t.toString(),(t,e)=>t.isEqual(e))}const jx=new Ge(te.comparator),Ux=new Pt(te.comparator);function ye(...t){let e=Ux;for(const n of t)e=e.add(n);return e}const Bx=new Pt(Se);function $x(){return Bx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zu(e)?"-0":e}}function oE(t){return{integerValue:""+t}}function zx(t,e){return wx(e)?oE(e):iE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(){this._=void 0}}function qx(t,e,n){return t instanceof Wu?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&dm(o)&&(o=fm(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof ja?aE(t,e):t instanceof Ua?lE(t,e):function(i,o){const s=sE(i,o),a=rv(s)+rv(i.Ie);return Af(s)&&Af(i.Ie)?oE(a):iE(i.serializer,a)}(t,e)}function Wx(t,e,n){return t instanceof ja?aE(t,e):t instanceof Ua?lE(t,e):n}function sE(t,e){return t instanceof Hu?function(r){return Af(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Wu extends Lc{}class ja extends Lc{constructor(e){super(),this.elements=e}}function aE(t,e){const n=uE(e);for(const r of t.elements)n.some(i=>tr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ua extends Lc{constructor(e){super(),this.elements=e}}function lE(t,e){let n=uE(e);for(const r of t.elements)n=n.filter(i=>!tr(i,r));return{arrayValue:{values:n}}}class Hu extends Lc{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function rv(t){return st(t.integerValue||t.doubleValue)}function uE(t){return pm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Hx(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ja&&i instanceof ja||r instanceof Ua&&i instanceof Ua?Bo(r.elements,i.elements,tr):r instanceof Hu&&i instanceof Hu?tr(r.Ie,i.Ie):r instanceof Wu&&i instanceof Wu}(t.transform,e.transform)}class Gx{constructor(e,n){this.version=e,this.transformResults=n}}class mr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mr}static exists(e){return new mr(void 0,e)}static updateTime(e){return new mr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function iu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Fc{}function cE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new dE(t.key,mr.none()):new sl(t.key,t.data,mr.none());{const n=t.data,r=vn.empty();let i=new Pt(St.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Hi(t.key,r,new Cn(i.toArray()),mr.none())}}function Qx(t,e,n){t instanceof sl?function(i,o,s){const a=i.value.clone(),l=ov(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Hi?function(i,o,s){if(!iu(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=ov(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(hE(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function oa(t,e,n,r){return t instanceof sl?function(o,s,a,l){if(!iu(o.precondition,s))return a;const u=o.value.clone(),c=sv(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Hi?function(o,s,a,l){if(!iu(o.precondition,s))return a;const u=sv(o.fieldTransforms,l,s),c=s.data;return c.setAll(hE(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(o,s,a){return iu(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function Kx(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=sE(r.transform,i||null);o!=null&&(n===null&&(n=vn.empty()),n.set(r.field,o))}return n||null}function iv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Bo(r,i,(o,s)=>Hx(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class sl extends Fc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Hi extends Fc{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function hE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function ov(t,e,n){const r=new Map;Le(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Wx(s,a,n[i]))}return r}function sv(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,qx(o,s,e))}return r}class dE extends Fc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Yx extends Fc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Qx(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=oa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=oa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=rE();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=cE(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ye())}isEqual(e){return this.batchId===e.batchId&&Bo(this.mutations,e.mutations,(n,r)=>iv(n,r))&&Bo(this.baseMutations,e.baseMutations,(n,r)=>iv(n,r))}}class ym{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Le(e.mutations.length===r.length);let i=function(){return jx}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new ym(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt,we;function ek(t){switch(t){default:return se();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function fE(t){if(t===void 0)return er("GRPC error has no .code"),N.UNKNOWN;switch(t){case rt.OK:return N.OK;case rt.CANCELLED:return N.CANCELLED;case rt.UNKNOWN:return N.UNKNOWN;case rt.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case rt.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case rt.INTERNAL:return N.INTERNAL;case rt.UNAVAILABLE:return N.UNAVAILABLE;case rt.UNAUTHENTICATED:return N.UNAUTHENTICATED;case rt.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case rt.NOT_FOUND:return N.NOT_FOUND;case rt.ALREADY_EXISTS:return N.ALREADY_EXISTS;case rt.PERMISSION_DENIED:return N.PERMISSION_DENIED;case rt.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case rt.ABORTED:return N.ABORTED;case rt.OUT_OF_RANGE:return N.OUT_OF_RANGE;case rt.UNIMPLEMENTED:return N.UNIMPLEMENTED;case rt.DATA_LOSS:return N.DATA_LOSS;default:return se()}}(we=rt||(rt={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk=new xo([4294967295,4294967295],0);function av(t){const e=tk().encode(t),n=new rx;return n.update(e),new Uint8Array(n.digest())}function lv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new xo([n,r],0),new xo([i,o],0)]}class vm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new zs(`Invalid padding: ${n}`);if(r<0)throw new zs(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new zs(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new zs(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=xo.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(xo.fromNumber(r)));return i.compare(nk)===1&&(i=new xo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=av(e),[r,i]=lv(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new vm(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;const n=av(e),[r,i]=lv(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class zs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,al.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new bc(ce.min(),i,new Ge(Se),Er(),ye())}}class al{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new al(r,n,ye(),ye(),ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class pE{constructor(e,n){this.targetId=e,this.fe=n}}class mE{constructor(e,n,r=Ut.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class uv{constructor(){this.ge=0,this.pe=hv(),this.ye=Ut.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ye(),n=ye(),r=ye();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:se()}}),new al(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=hv()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Le(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class rk{constructor(e){this.Le=e,this.ke=new Map,this.qe=Er(),this.Qe=cv(),this.Ke=new Ge(Se)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(Pf(o))if(r===0){const s=new te(o.path);this.We(n,s,Mt.newNoDocument(s,ce.min()))}else Le(r===1);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),l=a?this.et(a,e,s):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=ji(r).toUint8Array()}catch(l){if(l instanceof q1)return Uo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new vm(s,i,o)}catch(l){return Uo(l instanceof zs?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&Pf(a.target)){const l=new te(a.target.path);this.qe.get(l)!==null||this.st(s,l)||this.We(s,l,Mt.newNoDocument(l,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=ye();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new bc(e,n,this.Ke,this.qe,r);return this.qe=Er(),this.Qe=cv(),this.Ke=new Ge(Se),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new uv,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Pt(Se),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new uv),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function cv(){return new Ge(te.comparator)}function hv(){return new Ge(te.comparator)}const ik={asc:"ASCENDING",desc:"DESCENDING"},ok={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sk={and:"AND",or:"OR"};class ak{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function kf(t,e){return t.useProto3Json||Oc(e)?e:{value:e}}function Gu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function lk(t,e){return Gu(t,e.toTimestamp())}function Jn(t){return Le(!!t),ce.fromTimestamp(function(n){const r=ei(n);return new ut(r.seconds,r.nanos)}(t))}function _m(t,e){return Df(t,e).canonicalString()}function Df(t,e){const n=function(i){return new Ue(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function yE(t){const e=Ue.fromString(t);return Le(TE(e)),e}function Nf(t,e){return _m(t.databaseId,e.path)}function ed(t,e){const n=yE(e);if(n.get(1)!==t.databaseId.projectId)throw new K(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(_E(n))}function vE(t,e){return _m(t.databaseId,e)}function uk(t){const e=yE(t);return e.length===4?Ue.emptyPath():_E(e)}function Of(t){return new Ue(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function _E(t){return Le(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function dv(t,e,n){return{name:Nf(t,e),fields:n.value.mapValue.fields}}function ck(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:se()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Le(c===void 0||typeof c=="string"),Ut.fromBase64String(c||"")):(Le(c===void 0||c instanceof Uint8Array),Ut.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?N.UNKNOWN:fE(u.code);return new K(c,u.message||"")}(s);n=new mE(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ed(t,r.document.name),o=Jn(r.document.updateTime),s=r.document.createTime?Jn(r.document.createTime):ce.min(),a=new vn({mapValue:{fields:r.document.fields}}),l=Mt.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new ou(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ed(t,r.document),o=r.readTime?Jn(r.readTime):ce.min(),s=Mt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new ou([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ed(t,r.document),o=r.removedTargetIds||[];n=new ou([],o,i,null)}else{if(!("filter"in e))return se();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new Zx(i,o),a=r.targetId;n=new pE(a,s)}}return n}function hk(t,e){let n;if(e instanceof sl)n={update:dv(t,e.key,e.value)};else if(e instanceof dE)n={delete:Nf(t,e.key)};else if(e instanceof Hi)n={update:dv(t,e.key,e.data),updateMask:wk(e.fieldMask)};else{if(!(e instanceof Yx))return se();n={verify:Nf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Wu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ja)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ua)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Hu)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:lk(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:se()}(t,e.precondition)),n}function dk(t,e){return t&&t.length>0?(Le(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Jn(i.updateTime):Jn(o);return s.isEqual(ce.min())&&(s=Jn(o)),new Gx(s,i.transformResults||[])}(n,e))):[]}function fk(t,e){return{documents:[vE(t,e.path)]}}function pk(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=vE(t,i);const o=function(u){if(u.length!==0)return EE(Vn.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(f){return{field:no(f.field),direction:yk(f.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=kf(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function mk(t){let e=uk(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Le(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(h){const f=wE(h);return f instanceof Vn&&Q1(f)?f.getFilters():[f]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(f=>function(A){return new ba(ro(A.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Oc(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,v=h.values||[];return new qu(v,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,v=h.values||[];return new qu(v,f)}(n.endAt)),Vx(e,i,s,o,a,"F",l,u)}function gk(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function wE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ro(n.unaryFilter.field);return lt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ro(n.unaryFilter.field);return lt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ro(n.unaryFilter.field);return lt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ro(n.unaryFilter.field);return lt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return se()}}(t):t.fieldFilter!==void 0?function(n){return lt.create(ro(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Vn.create(n.compositeFilter.filters.map(r=>wE(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return se()}}(n.compositeFilter.op))}(t):se()}function yk(t){return ik[t]}function vk(t){return ok[t]}function _k(t){return sk[t]}function no(t){return{fieldPath:t.canonicalString()}}function ro(t){return St.fromServerFormat(t.fieldPath)}function EE(t){return t instanceof lt?function(n){if(n.op==="=="){if(Xy(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NAN"}};if(Jy(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Xy(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NOT_NAN"}};if(Jy(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:no(n.field),op:vk(n.op),value:n.value}}}(t):t instanceof Vn?function(n){const r=n.getFilters().map(i=>EE(i));return r.length===1?r[0]:{compositeFilter:{op:_k(n.op),filters:r}}}(t):se()}function wk(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function TE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,n,r,i,o=ce.min(),s=ce.min(),a=Ut.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Fr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e){this.ct=e}}function Tk(t){const e=mk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(){this._n=new Sk}addToCollectionParentIndex(e,n){return this._n.add(n),V.resolve()}getCollectionParents(e,n){return V.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return V.resolve()}deleteFieldIndex(e,n){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,n){return V.resolve()}getDocumentsMatchingTarget(e,n){return V.resolve(null)}getIndexType(e,n){return V.resolve(0)}getFieldIndexes(e,n){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,n){return V.resolve(Zr.min())}getMinOffsetFromCollectionGroup(e,n){return V.resolve(Zr.min())}updateCollectionGroup(e,n,r){return V.resolve()}updateIndexEntries(e,n){return V.resolve()}}class Sk{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Pt(Ue.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pt(Ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new qo(0)}static Bn(){return new qo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(){this.changes=new ns(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?V.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&oa(r.mutation,i,Cn.empty(),ut.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ye()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ye()){const i=Pi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=$s();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Pi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ye()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Er();const s=ia(),a=function(){return ia()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Hi)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),oa(c.mutation,u,c.mutation.getFieldMask(),ut.now())):s.set(u.key,Cn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new Rk(c,(h=s.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ia();let i=new Ge((s,a)=>s-a),o=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Cn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||ye()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=rE();c.forEach(f=>{if(!o.has(f)){const v=cE(n.get(f),r.get(f));v!==null&&h.set(f,v),o=o.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,h))}return V.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return te.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):X1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):V.resolve(Pi());let a=-1,l=o;return s.next(u=>V.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(c)?V.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,ye())).next(c=>({batchId:a,changes:nE(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let i=$s();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=$s();return this.indexManager.getCollectionParents(e,o).next(a=>V.forEach(a,l=>{const u=function(h,f){return new ts(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((h,f)=>{s=s.insert(h,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,Mt.newInvalidDocument(c)))});let a=$s();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&oa(c.mutation,u,Cn.empty(),ut.now()),Mc(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return V.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Jn(i.createTime)}}(n)),V.resolve()}getNamedQuery(e,n){return V.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:Tk(i.bundledQuery),readTime:Jn(i.readTime)}}(n)),V.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(){this.overlays=new Ge(te.comparator),this.hr=new Map}getOverlay(e,n){return V.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Pi();return V.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),V.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),V.resolve()}getOverlaysForCollection(e,n,r){const i=Pi(),o=n.length+1,s=new te(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return V.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ge((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Pi(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Pi(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return V.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Xx(n,r));let o=this.hr.get(n);o===void 0&&(o=ye(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(){this.Pr=new Pt(mt.Ir),this.Tr=new Pt(mt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new mt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new mt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new te(new Ue([])),r=new mt(n,e),i=new mt(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new te(new Ue([])),r=new mt(n,e),i=new mt(n,e+1);let o=ye();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new mt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class mt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return te.comparator(e.key,n.key)||Se(e.pr,n.pr)}static Er(e,n){return Se(e.pr,n.pr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Pt(mt.Ir)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Jx(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.wr=this.wr.add(new mt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(s)}lookupMutationBatch(e,n){return V.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),o=i<0?0:i;return V.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new mt(n,0),i=new mt(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const a=this.Sr(s.pr);o.push(a)}),V.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pt(Se);return n.forEach(i=>{const o=new mt(i,0),s=new mt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),V.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;te.isDocumentKey(o)||(o=o.child(""));const s=new mt(new te(o),0);let a=new Pt(Se);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},s),V.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Le(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return V.forEach(n.mutations,i=>{const o=new mt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new mt(n,0),i=this.wr.firstAfterOrEqual(r);return V.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e){this.vr=e,this.docs=function(){return new Ge(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return V.resolve(r?r.document.mutableCopy():Mt.newInvalidDocument(n))}getEntries(e,n){let r=Er();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Mt.newInvalidDocument(i))}),V.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Er();const s=n.path,a=new te(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||mx(px(c),r)<=0||(i.has(c.key)||Mc(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return V.resolve(o)}getAllFromCollectionGroup(e,n,r,i){se()}Fr(e,n){return V.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Nk(this)}getSize(e){return V.resolve(this.size)}}class Nk extends Ak{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),V.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e){this.persistence=e,this.Mr=new ns(n=>mm(n),gm),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.Or=0,this.Nr=new wm,this.targetCount=0,this.Br=qo.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),V.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new qo(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,V.resolve()}updateTargetData(e,n){return this.qn(n),V.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),V.waitFor(o).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return V.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),V.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),V.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),V.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return V.resolve(r)}containsKey(e,n){return V.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e,n){this.Lr={},this.overlays={},this.kr=new hm(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Ok(this),this.indexManager=new Ik,this.remoteDocumentCache=function(i){return new Dk(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new Ek(n),this.$r=new Ck(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new kk(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);const i=new Mk(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return V.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class Mk extends yx{constructor(e){super(),this.currentSequenceNumber=e}}class Em{constructor(e){this.persistence=e,this.zr=new wm,this.jr=null}static Hr(e){return new Em(e)}get Jr(){if(this.jr)return this.jr;throw se()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),V.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),V.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.Jr,r=>{const i=te.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,ce.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return V.or([()=>V.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=ye(),i=ye();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Tm(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return $R()?8:Ri.v(Mu())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Lk;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Ds()<=Te.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",to(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),V.resolve()):(Ds()<=Te.DEBUG&&W("QueryEngine","Query:",to(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Ds()<=Te.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",to(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yn(n))):V.resolve())}ji(e,n){if(nv(n))return V.resolve(null);let r=Yn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=xf(n,null,"F"),r=Yn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=ye(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,s,l.readTime)?this.ji(e,xf(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return nv(n)||i.isEqual(ce.min())?V.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(n,o);return this.Xi(n,s,r,i)?V.resolve(null):(Ds()<=Te.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),to(n)),this.es(e,s,n,fx(i,-1)).next(a=>a))})}Zi(e,n){let r=new Pt(eE(e));return n.forEach((i,o)=>{Mc(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return Ds()<=Te.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",to(n)),this.zi.getDocumentsMatchingQuery(e,n,Zr.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Ge(Se),this.rs=new ns(o=>mm(o),gm),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Pk(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function jk(t,e,n,r){return new bk(t,e,n,r)}async function IE(t,e){const n=he(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=ye();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:s,addedBatchIds:a}))})})}function Uk(t,e){const n=he(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,f=h.keys();let v=V.resolve();return f.forEach(A=>{v=v.next(()=>c.getEntry(l,A)).next(I=>{const E=u.docVersions.get(A);Le(E!==null),I.version.compareTo(E)<0&&(h.applyToRemoteDocument(I,u),I.isValidDocument()&&(I.setReadTime(u.commitVersion),c.addEntry(I)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ye();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function SE(t){const e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function Bk(t,e){const n=he(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((c,h)=>{const f=i.get(h);if(!f)return;a.push(n.Qr.removeMatchingKeys(o,c.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(o,c.addedDocuments,h)));let v=f.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?v=v.withResumeToken(Ut.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):c.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(c.resumeToken,r)),i=i.insert(h,v),function(I,E,y){return I.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(f,v,c)&&a.push(n.Qr.updateTargetData(o,v))});let l=Er(),u=ye();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push($k(o,s,e.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!r.isEqual(ce.min())){const c=n.Qr.getLastRemoteSnapshotVersion(o).next(h=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return V.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.ns=i,o))}function $k(t,e,n){let r=ye(),i=ye();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Er();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ce.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):W("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:s,ls:i}})}function zk(t,e){const n=he(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function qk(t,e){const n=he(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,V.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new Fr(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Vf(t,e,n){const r=he(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!il(s))throw s;W("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function fv(t,e,n){const r=he(t);let i=ce.min(),o=ye();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const h=he(l),f=h.rs.get(c);return f!==void 0?V.resolve(h.ns.get(f)):h.Qr.getTargetData(u,c)}(r,s,Yn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:ce.min(),n?o:ye())).next(a=>(Wk(r,Lx(e),a),{documents:a,hs:o})))}function Wk(t,e,n){let r=t.ss.get(e)||ce.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}class pv{constructor(){this.activeTargetIds=$x()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Hk{constructor(){this.no=new pv,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new pv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){W("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){W("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zl=null;function td(){return zl===null?zl=function(){return 268435456+Math.round(2147483648*Math.random())}():zl++,"0x"+zl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nt="WebChannelConnection";class Yk extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${o}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get wo(){return!1}So(n,r,i,o,s){const a=td(),l=this.bo(n,r.toUriEncodedString());W("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,o,s),this.Co(n,l,u,i).then(c=>(W("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Uo("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}vo(n,r,i,o,s,a){return this.So(n,r,i,o,s)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}bo(n,r){const i=Qk[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const o=td();return new Promise((s,a)=>{const l=new nx;l.setWithCredentials(!0),l.listenOnce(ex.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Zh.NO_ERROR:const c=l.getResponseJson();W(Nt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case Zh.TIMEOUT:W(Nt,`RPC '${e}' ${o} timed out`),a(new K(N.DEADLINE_EXCEEDED,"Request time out"));break;case Zh.HTTP_ERROR:const h=l.getStatus();if(W(Nt,`RPC '${e}' ${o} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const v=f?.error;if(v&&v.status&&v.message){const A=function(E){const y=E.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(y)>=0?y:N.UNKNOWN}(v.status);a(new K(A,v.message))}else a(new K(N.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new K(N.UNAVAILABLE,"Connection failed."));break;default:se()}}finally{W(Nt,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);W(Nt,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=td(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=XC(),a=ZC(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");W(Nt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=s.createWebChannel(c,l);let f=!1,v=!1;const A=new Kk({lo:E=>{v?W(Nt,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(f||(W(Nt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),W(Nt,`RPC '${e}' stream ${i} sending:`,E),h.send(E))},ho:()=>h.close()}),I=(E,y,m)=>{E.listen(y,w=>{try{m(w)}catch(x){setTimeout(()=>{throw x},0)}})};return I(h,Ul.EventType.OPEN,()=>{v||W(Nt,`RPC '${e}' stream ${i} transport opened.`)}),I(h,Ul.EventType.CLOSE,()=>{v||(v=!0,W(Nt,`RPC '${e}' stream ${i} transport closed`),A.Vo())}),I(h,Ul.EventType.ERROR,E=>{v||(v=!0,Uo(Nt,`RPC '${e}' stream ${i} transport errored:`,E),A.Vo(new K(N.UNAVAILABLE,"The operation could not be completed")))}),I(h,Ul.EventType.MESSAGE,E=>{var y;if(!v){const m=E.data[0];Le(!!m);const w=m,x=w.error||((y=w[0])===null||y===void 0?void 0:y.error);if(x){W(Nt,`RPC '${e}' stream ${i} received error:`,x);const F=x.status;let T=function(q){const z=rt[q];if(z!==void 0)return fE(z)}(F),D=x.message;T===void 0&&(T=N.INTERNAL,D="Unknown error status: "+F+" with message "+x.message),v=!0,A.Vo(new K(T,D)),h.close()}else W(Nt,`RPC '${e}' stream ${i} received:`,m),A.mo(m)}}),I(a,tx.STAT_EVENT,E=>{E.stat===qy.PROXY?W(Nt,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===qy.NOPROXY&&W(Nt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.Ro()},0),A}}function nd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(t){return new ak(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e,n,r,i,o,s,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new AE(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(er(n.toString()),er("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new K(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return W("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(W("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Jk extends RE{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=ck(this.serializer,e),r=function(o){if(!("targetChange"in o))return ce.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ce.min():s.readTime?Jn(s.readTime):ce.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=Of(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Pf(l)?{documents:fk(o,l)}:{query:pk(o,l).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=gE(o,s.resumeToken);const u=kf(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(ce.min())>0){a.readTime=Gu(o,s.snapshotVersion.toTimestamp());const u=kf(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=gk(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=Of(this.serializer),n.removeTarget=e,this.t_(n)}}class Xk extends RE{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Le(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=dk(e.writeResults,e.commitTime),r=Jn(e.commitTime);return this.listener.T_(r,n)}return Le(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Of(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>hk(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new K(N.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,Df(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K(N.UNKNOWN,o.toString())})}vo(e,n,r,i,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,Df(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(N.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class eD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(er(n),this.g_=!1):W("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(s=>{r.enqueueAndForget(async()=>{Gi(this)&&(W("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=he(l);u.v_.add(4),await ll(u),u.x_.set("Unknown"),u.v_.delete(4),await Uc(u)}(this))})}),this.x_=new eD(r,i)}}async function Uc(t){if(Gi(t))for(const e of t.F_)await e(!0)}async function ll(t){for(const e of t.F_)await e(!1)}function PE(t,e){const n=he(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Am(n)?Sm(n):rs(n).Jo()&&Im(n,e))}function CE(t,e){const n=he(t),r=rs(n);n.C_.delete(e),r.Jo()&&xE(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Gi(n)&&n.x_.set("Unknown"))}function Im(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}rs(t).c_(e)}function xE(t,e){t.O_.Oe(e),rs(t).l_(e)}function Sm(t){t.O_=new rk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),rs(t).start(),t.x_.p_()}function Am(t){return Gi(t)&&!rs(t).Ho()&&t.C_.size>0}function Gi(t){return he(t).v_.size===0}function kE(t){t.O_=void 0}async function nD(t){t.C_.forEach((e,n)=>{Im(t,e)})}async function rD(t,e){kE(t),Am(t)?(t.x_.S_(e),Sm(t)):t.x_.set("Unknown")}async function iD(t,e,n){if(t.x_.set("Online"),e instanceof mE&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){W("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Qu(t,r)}else if(e instanceof ou?t.O_.$e(e):e instanceof pE?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(ce.min()))try{const r=await SE(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.O_.it(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.C_.get(u);c&&o.C_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.C_.get(l);if(!c)return;o.C_.set(l,c.withResumeToken(Ut.EMPTY_BYTE_STRING,c.snapshotVersion)),xE(o,l);const h=new Fr(c.target,l,u,c.sequenceNumber);Im(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){W("RemoteStore","Failed to raise snapshot:",r),await Qu(t,r)}}async function Qu(t,e,n){if(!il(e))throw e;t.v_.add(1),await ll(t),t.x_.set("Offline"),n||(n=()=>SE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{W("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Uc(t)})}function DE(t,e){return e().catch(n=>Qu(t,n,e))}async function Bc(t){const e=he(t),n=ti(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;oD(e);)try{const i=await zk(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,sD(e,i)}catch(i){await Qu(e,i)}NE(e)&&OE(e)}function oD(t){return Gi(t)&&t.D_.length<10}function sD(t,e){t.D_.push(e);const n=ti(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function NE(t){return Gi(t)&&!ti(t).Ho()&&t.D_.length>0}function OE(t){ti(t).start()}async function aD(t){ti(t).d_()}async function lD(t){const e=ti(t);for(const n of t.D_)e.I_(n.mutations)}async function uD(t,e,n){const r=t.D_.shift(),i=ym.from(r,e,n);await DE(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Bc(t)}async function cD(t,e){e&&ti(t).P_&&await async function(r,i){if(function(s){return ek(s)&&s!==N.ABORTED}(i.code)){const o=r.D_.shift();ti(r).Zo(),await DE(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Bc(r)}}(t,e),NE(t)&&OE(t)}async function gv(t,e){const n=he(t);n.asyncQueue.verifyOperationInProgress(),W("RemoteStore","RemoteStore received new credentials");const r=Gi(n);n.v_.add(3),await ll(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Uc(n)}async function hD(t,e){const n=he(t);e?(n.v_.delete(2),await Uc(n)):e||(n.v_.add(2),await ll(n),n.x_.set("Unknown"))}function rs(t){return t.N_||(t.N_=function(n,r,i){const o=he(n);return o.R_(),new Jk(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:nD.bind(null,t),To:rD.bind(null,t),u_:iD.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),Am(t)?Sm(t):t.x_.set("Unknown")):(await t.N_.stop(),kE(t))})),t.N_}function ti(t){return t.B_||(t.B_=function(n,r,i){const o=he(n);return o.R_(),new Xk(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:aD.bind(null,t),To:cD.bind(null,t),E_:lD.bind(null,t),T_:uD.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await Bc(t)):(await t.B_.stop(),t.D_.length>0&&(W("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Kn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new Rm(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $c(t,e){if(er("AsyncQueue",`${e}: ${t}`),il(t))return new K(N.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=$s(),this.sortedSet=new Ge(this.comparator)}static emptySet(e){return new ko(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ko)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ko;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(){this.L_=new Ge(te.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):se():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Wo{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Wo(e,n,ko.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ol(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(){this.q_=void 0,this.Q_=[]}}class fD{constructor(){this.queries=new ns(e=>Z1(e),ol),this.onlineState="Unknown",this.K_=new Set}}async function VE(t,e){const n=he(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new dD),i)try{o.q_=await n.onListen(r)}catch(s){const a=$c(s,`Initialization of query '${to(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.Q_.push(e),e.U_(n.onlineState),o.q_&&e.W_(o.q_)&&Pm(n)}async function ME(t,e){const n=he(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.Q_.indexOf(e);s>=0&&(o.Q_.splice(s,1),i=o.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function pD(t,e){const n=he(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Q_)a.W_(i)&&(r=!0);s.q_=i}}r&&Pm(n)}function mD(t,e,n){const r=he(t),i=r.queries.get(e);if(i)for(const o of i.Q_)o.onError(n);r.queries.delete(e)}function Pm(t){t.K_.forEach(e=>{e.next()})}class LE{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Wo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=Wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e){this.key=e}}class bE{constructor(e){this.key=e}}class gD{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=ye(),this.mutatedKeys=ye(),this.ua=eE(e),this.ca=new ko(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new yv,i=n?n.ca:this.ca;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const f=i.get(c),v=Mc(this.query,h)?h:null,A=!!f&&this.mutatedKeys.has(f.key),I=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let E=!1;f&&v?f.data.isEqual(v.data)?A!==I&&(r.track({type:3,doc:v}),E=!0):this.Ia(f,v)||(r.track({type:2,doc:v}),E=!0,(l&&this.ua(v,l)>0||u&&this.ua(v,u)<0)&&(a=!0)):!f&&v?(r.track({type:0,doc:v}),E=!0):f&&!v&&(r.track({type:1,doc:f}),E=!0,(l||u)&&(a=!0)),E&&(v?(s=s.add(v),o=I?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{ca:s,Pa:r,Xi:a,mutatedKeys:o}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.k_();s.sort((c,h)=>function(v,A){const I=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se()}};return I(v)-I(A)}(c.type,h.type)||this.ua(c.doc,h.doc)),this.Ta(r),i=i!=null&&i;const a=n&&!i?this.Ea():[],l=this.aa.size===0&&this.current&&!i?1:0,u=l!==this._a;return this._a=l,s.length!==0||u?{snapshot:new Wo(this.query,e.ca,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new yv,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=ye(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new bE(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new FE(r))}),n}Ra(e){this.oa=e.hs,this.aa=ye();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Wo.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class yD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class vD{constructor(e){this.key=e,this.ma=!1}}class _D{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new ns(a=>Z1(a),ol),this.pa=new Map,this.ya=new Set,this.wa=new Ge(te.comparator),this.Sa=new Map,this.ba=new wm,this.Da={},this.Ca=new Map,this.va=qo.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function wD(t,e){const n=kD(t);let r,i;const o=n.ga.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Va();else{const s=await qk(n.localStore,Yn(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=await ED(n,e,r,a==="current",s.resumeToken),n.isPrimaryClient&&PE(n.remoteStore,s)}return i}async function ED(t,e,n,r,i){t.Ma=(h,f,v)=>async function(I,E,y,m){let w=E.view.ha(y);w.Xi&&(w=await fv(I.localStore,E.query,!1).then(({documents:D})=>E.view.ha(D,w)));const x=m&&m.targetChanges.get(E.targetId),F=m&&m.targetMismatches.get(E.targetId)!=null,T=E.view.applyChanges(w,I.isPrimaryClient,x,F);return _v(I,E.targetId,T.da),T.snapshot}(t,h,f,v);const o=await fv(t.localStore,e,!0),s=new gD(e,o.hs),a=s.ha(o.documents),l=al.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);_v(t,n,u.da);const c=new yD(e,n,s);return t.ga.set(e,c),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot}async function TD(t,e){const n=he(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(o=>!ol(o,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Vf(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),CE(n.remoteStore,r.targetId),Mf(n,r.targetId)}).catch(rl)):(Mf(n,r.targetId),await Vf(n.localStore,r.targetId,!0))}async function ID(t,e,n){const r=DD(t);try{const i=await function(s,a){const l=he(s),u=ut.now(),c=a.reduce((v,A)=>v.add(A.key),ye());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let A=Er(),I=ye();return l.os.getEntries(v,c).next(E=>{A=E,A.forEach((y,m)=>{m.isValidDocument()||(I=I.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,A)).next(E=>{h=E;const y=[];for(const m of a){const w=Kx(m,h.get(m.key).overlayedDocument);w!=null&&y.push(new Hi(m.key,w,W1(w.value.mapValue),mr.exists(!0)))}return l.mutationQueue.addMutationBatch(v,u,y,a)}).next(E=>{f=E;const y=E.applyToLocalDocumentSet(h,I);return l.documentOverlayCache.saveOverlays(v,E.batchId,y)})}).then(()=>({batchId:f.batchId,changes:nE(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Da[s.currentUser.toKey()];u||(u=new Ge(Se)),u=u.insert(a,l),s.Da[s.currentUser.toKey()]=u}(r,i.batchId,n),await ul(r,i.changes),await Bc(r.remoteStore)}catch(i){const o=$c(i,"Failed to persist write");n.reject(o)}}async function jE(t,e){const n=he(t);try{const r=await Bk(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Sa.get(o);s&&(Le(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.ma=!0:i.modifiedDocuments.size>0?Le(s.ma):i.removedDocuments.size>0&&(Le(s.ma),s.ma=!1))}),await ul(n,r,e)}catch(r){await rl(r)}}function vv(t,e,n){const r=he(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((o,s)=>{const a=s.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=he(s);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const f of h.Q_)f.U_(a)&&(u=!0)}),u&&Pm(l)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function SD(t,e,n){const r=he(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),o=i&&i.key;if(o){let s=new Ge(te.comparator);s=s.insert(o,Mt.newNoDocument(o,ce.min()));const a=ye().add(o),l=new bc(ce.min(),new Map,new Ge(Se),s,a);await jE(r,l),r.wa=r.wa.remove(o),r.Sa.delete(e),Cm(r)}else await Vf(r.localStore,e,!1).then(()=>Mf(r,e,n)).catch(rl)}async function AD(t,e){const n=he(t),r=e.batch.batchId;try{const i=await Uk(n.localStore,e);BE(n,r,null),UE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ul(n,i)}catch(i){await rl(i)}}async function RD(t,e,n){const r=he(t);try{const i=await function(s,a){const l=he(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Le(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);BE(r,e,n),UE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ul(r,i)}catch(i){await rl(i)}}function UE(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function BE(t,e,n){const r=he(t);let i=r.Da[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function Mf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||$E(t,r)})}function $E(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(CE(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),Cm(t))}function _v(t,e,n){for(const r of n)r instanceof FE?(t.ba.addReference(r.key,e),PD(t,r)):r instanceof bE?(W("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||$E(t,r.key)):se()}function PD(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(W("SyncEngine","New document in limbo: "+n),t.ya.add(r),Cm(t))}function Cm(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new te(Ue.fromString(e)),r=t.va.next();t.Sa.set(r,new vD(n)),t.wa=t.wa.insert(n,r),PE(t.remoteStore,new Fr(Yn(Vc(n.path)),r,"TargetPurposeLimboResolution",hm._e))}}async function ul(t,e,n){const r=he(t),i=[],o=[],s=[];r.ga.isEmpty()||(r.ga.forEach((a,l)=>{s.push(r.Ma(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);const c=Tm.Ki(l.targetId,u);o.push(c)}}))}),await Promise.all(s),r.fa.u_(i),await async function(l,u){const c=he(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>V.forEach(u,f=>V.forEach(f.qi,v=>c.persistence.referenceDelegate.addReference(h,f.targetId,v)).next(()=>V.forEach(f.Qi,v=>c.persistence.referenceDelegate.removeReference(h,f.targetId,v)))))}catch(h){if(!il(h))throw h;W("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const v=c.ns.get(f),A=v.snapshotVersion,I=v.withLastLimboFreeSnapshotVersion(A);c.ns=c.ns.insert(f,I)}}}(r.localStore,o))}async function CD(t,e){const n=he(t);if(!n.currentUser.isEqual(e)){W("SyncEngine","User change. New user:",e.toKey());const r=await IE(n.localStore,e);n.currentUser=e,function(o,s){o.Ca.forEach(a=>{a.forEach(l=>{l.reject(new K(N.CANCELLED,s))})}),o.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ul(n,r.us)}}function xD(t,e){const n=he(t),r=n.Sa.get(e);if(r&&r.ma)return ye().add(r.key);{let i=ye();const o=n.pa.get(e);if(!o)return i;for(const s of o){const a=n.ga.get(s);i=i.unionWith(a.view.la)}return i}}function kD(t){const e=he(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=jE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=SD.bind(null,e),e.fa.u_=pD.bind(null,e.eventManager),e.fa.xa=mD.bind(null,e.eventManager),e}function DD(t){const e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RD.bind(null,e),e}class wv{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=jc(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return jk(this.persistence,new Fk,e.initialUser,this.serializer)}createPersistence(e){return new Vk(Em.Hr,this.serializer)}createSharedClientState(e){return new Hk}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class ND{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>vv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=CD.bind(null,this.syncEngine),await hD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new fD}()}createDatastore(e){const n=jc(e.databaseInfo.databaseId),r=function(o){return new Yk(o)}(e.databaseInfo);return function(o,s,a,l){return new Zk(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new tD(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>vv(this.syncEngine,n,0),function(){return mv.D()?new mv:new Gk}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const h=new _D(i,o,s,a,l,u);return c&&(h.Fa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=he(r);W("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await ll(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):er("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ot.UNAUTHENTICATED,this.clientId=$1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{W("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(W("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new K(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=$c(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function rd(t,e){t.asyncQueue.verifyOperationInProgress(),W("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await IE(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Ev(t,e){t.asyncQueue.verifyOperationInProgress();const n=await qE(t);W("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>gv(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>gv(e.remoteStore,i)),t._onlineComponents=e}function VD(t){return t.name==="FirebaseError"?t.code===N.FAILED_PRECONDITION||t.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function qE(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W("FirestoreClient","Using user provided OfflineComponentProvider");try{await rd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!VD(n))throw n;Uo("Error using user provided cache. Falling back to memory cache: "+n),await rd(t,new wv)}}else W("FirestoreClient","Using default OfflineComponentProvider"),await rd(t,new wv);return t._offlineComponents}async function WE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(W("FirestoreClient","Using user provided OnlineComponentProvider"),await Ev(t,t._uninitializedComponentsProvider._online)):(W("FirestoreClient","Using default OnlineComponentProvider"),await Ev(t,new ND))),t._onlineComponents}function MD(t){return qE(t).then(e=>e.localStore)}function LD(t){return WE(t).then(e=>e.syncEngine)}async function Lf(t){const e=await WE(t),n=e.eventManager;return n.onListen=wD.bind(null,e.syncEngine),n.onUnlisten=TD.bind(null,e.syncEngine),n}function FD(t,e){const n=new Kn;return t.asyncQueue.enqueueAndForget(async()=>async function(i,o,s){try{const a=await function(u,c){const h=he(u);return h.persistence.runTransaction("read document","readonly",f=>h.localDocuments.getDocument(f,c))}(i,o);a.isFoundDocument()?s.resolve(a):a.isNoDocument()?s.resolve(null):s.reject(new K(N.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const l=$c(a,`Failed to get document '${o} from cache`);s.reject(l)}}(await MD(t),e,n)),n.promise}function bD(t,e,n={}){const r=new Kn;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new zE({next:f=>{s.enqueueAndForget(()=>ME(o,h));const v=f.docs.has(a);!v&&f.fromCache?u.reject(new K(N.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&f.fromCache&&l&&l.source==="server"?u.reject(new K(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new LE(Vc(a.path),c,{includeMetadataChanges:!0,Z_:!0});return VE(o,h)}(await Lf(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(t,e,n){if(!n)throw new K(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function jD(t,e,n,r){if(e===!0&&r===!0)throw new K(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Iv(t){if(!te.isDocumentKey(t))throw new K(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Sv(t){if(te.isDocumentKey(t))throw new K(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function zc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se()}function Xn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zc(t);throw new K(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new K(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new K(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HE((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new K(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new K(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new K(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Av({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new K(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new K(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Av(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ix;switch(r.type){case"firstParty":return new lx(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Tv.get(n);r&&(W("ComponentProvider","Removing Datastore"),Tv.delete(n),r.terminate())}(this),Promise.resolve()}}function UD(t,e,n,r={}){var i;const o=(t=Xn(t,qc))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Ot.MOCK_USER;else{a=Rw(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new K(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ot(u)}t._authCredentials=new ox(new B1(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Tr(this.firestore,e,this._query)}}class bt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bt(this.firestore,e,this._key)}}class Kr extends Tr{constructor(e,n,r){super(e,n,Vc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new te(e))}withConverter(e){return new Kr(this.firestore,e,this._path)}}function is(t,e,...n){if(t=Zn(t),GE("collection","path",e),t instanceof qc){const r=Ue.fromString(e,...n);return Sv(r),new Kr(t,null,r)}{if(!(t instanceof bt||t instanceof Kr))throw new K(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return Sv(r),new Kr(t.firestore,null,r)}}function xm(t,e,...n){if(t=Zn(t),arguments.length===1&&(e=$1.newId()),GE("doc","path",e),t instanceof qc){const r=Ue.fromString(e,...n);return Iv(r),new bt(t,null,new te(r))}{if(!(t instanceof bt||t instanceof Kr))throw new K(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return Iv(r),new bt(t.firestore,t instanceof Kr?t.converter:null,new te(r))}}function BD(t,e){return t=Zn(t),e=Zn(e),t instanceof Tr&&e instanceof Tr&&t.firestore===e.firestore&&ol(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new AE(this,"async_queue_retry"),this._u=()=>{const n=nd();n&&W("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=nd();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=nd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new Kn;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!il(e))throw e;W("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw er("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const i=Rm.createAndSchedule(this,e,n,r,o=>this.lu(o));return this.nu.push(i),i}au(){this.ru&&se()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}function Rv(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Ho extends qc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new $D}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||QE(this),this._firestoreClient.terminate()}}function zD(t,e){const n=typeof t=="object"?t:Mw(),r=typeof t=="string"?t:e||"(default)",i=Nw(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=Sw("firestore");o&&UD(i,...o)}return i}function Wc(t){return t._firestoreClient||QE(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function QE(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new Tx(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,HE(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new OD(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Go(Ut.fromBase64String(e))}catch(n){throw new K(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Go(Ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=/^__.*__$/;class WD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Hi(e,this.data,this.fieldMask,n,this.fieldTransforms):new sl(e,this.data,n,this.fieldTransforms)}}function YE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se()}}class Nm{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Eu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new Nm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Ku(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(YE(this.du)&&qD.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class HD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||jc(e)}Su(e,n,r,i=!1){return new Nm({du:e,methodName:n,wu:r,path:St.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function JE(t){const e=t._freezeSettings(),n=jc(t._databaseId);return new HD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function GD(t,e,n,r,i,o={}){const s=t.Su(o.merge||o.mergeFields?2:0,e,n,i);eT("Data must be an object, but it was:",s,r);const a=XE(r,s);let l,u;if(o.merge)l=new Cn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const h of o.mergeFields){const f=KD(e,h,n);if(!s.contains(f))throw new K(N.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);JD(c,f)||c.push(f)}l=new Cn(c),u=s.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=s.fieldTransforms;return new WD(new vn(a),l,u)}function QD(t,e,n,r=!1){return Om(n,t.Su(r?4:3,e))}function Om(t,e){if(ZE(t=Zn(t)))return eT("Unsupported field value:",e,t),XE(t,e);if(t instanceof KE)return function(r,i){if(!YE(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Om(a,i.gu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Zn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return zx(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=ut.fromDate(r);return{timestampValue:Gu(i.serializer,o)}}if(r instanceof ut){const o=new ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gu(i.serializer,o)}}if(r instanceof Dm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Go)return{bytesValue:gE(i.serializer,r._byteString)};if(r instanceof bt){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.pu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:_m(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${zc(r)}`)}(t,e)}function XE(t,e){const n={};return z1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):es(t,(r,i)=>{const o=Om(i,e.Ru(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function ZE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ut||t instanceof Dm||t instanceof Go||t instanceof bt||t instanceof KE)}function eT(t,e,n){if(!ZE(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=zc(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function KD(t,e,n){if((e=Zn(e))instanceof km)return e._internalPath;if(typeof e=="string")return tT(t,e);throw Ku("Field path arguments must be of type string or ",t,!1,void 0,n)}const YD=new RegExp("[~\\*/\\[\\]]");function tT(t,e,n){if(e.search(YD)>=0)throw Ku(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new km(...e.split("."))._internalPath}catch{throw Ku(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ku(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new K(N.INVALID_ARGUMENT,a+t+l)}function JD(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new XD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Hc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class XD extends nT{data(){return super.data()}}function Hc(t,e){return typeof e=="string"?tT(t,e):e instanceof km?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vm{}class rT extends Vm{}function gi(t,e,...n){let r=[];e instanceof Vm&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof Mm).length,a=o.filter(l=>l instanceof Gc).length;if(s>1||s>0&&a>0)throw new K(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Gc extends rT{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Gc(e,n,r)}_apply(e){const n=this._parse(e);return iT(e._query,n),new Tr(e.firestore,e.converter,Cf(e._query,n))}_parse(e){const n=JE(e.firestore);return function(o,s,a,l,u,c,h){let f;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new K(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){Cv(h,c);const v=[];for(const A of h)v.push(Pv(l,o,A));f={arrayValue:{values:v}}}else f=Pv(l,o,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||Cv(h,c),f=QD(a,s,h,c==="in"||c==="not-in");return lt.create(u,c,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ns(t,e,n){const r=e,i=Hc("where",t);return Gc._create(i,r,n)}class Mm extends Vm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Mm(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Vn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)iT(s,l),s=Cf(s,l)}(e._query,n),new Tr(e.firestore,e.converter,Cf(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Lm extends rT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Lm(e,n)}_apply(e){const n=function(i,o,s){if(i.startAt!==null)throw new K(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new K(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ba(o,s)}(e._query,this._field,this._direction);return new Tr(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new ts(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function e2(t,e="asc"){const n=e,r=Hc("orderBy",t);return Lm._create(r,n)}function Pv(t,e,n){if(typeof(n=Zn(n))=="string"){if(n==="")throw new K(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!X1(e)&&n.indexOf("/")!==-1)throw new K(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ue.fromString(n));if(!te.isDocumentKey(r))throw new K(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Yy(t,new te(r))}if(n instanceof bt)return Yy(t,n._key);throw new K(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zc(n)}.`)}function Cv(t,e){if(!Array.isArray(t)||t.length===0)throw new K(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function iT(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new K(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class t2{convertValue(e,n="none"){switch(Ui(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ji(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return es(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new Dm(st(e.latitude),st(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=fm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ma(e));default:return null}}convertTimestamp(e){const n=ei(e);return new ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ue.fromString(e);Le(TE(r));const i=new La(r.get(1),r.get(3)),o=new te(r.popFirst(5));return i.isEqual(n)||er(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fm extends nT{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new su(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Hc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class su extends Fm{data(e={}){return super.data(e)}}class r2{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new wo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new su(this._firestore,this._userDataWriter,r.key,r,new wo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new su(i._firestore,i._userDataWriter,a.doc.key,a.doc,new wo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new su(i._firestore,i._userDataWriter,a.doc.key,a.doc,new wo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:i2(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function i2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(t){t=Xn(t,bt);const e=Xn(t.firestore,Ho);return bD(Wc(e),t._key).then(n=>sT(e,t,n))}class bm extends t2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Go(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,n)}}function o2(t){t=Xn(t,bt);const e=Xn(t.firestore,Ho),n=Wc(e),r=new bm(e);return FD(n,t._key).then(i=>new Fm(e,r,t._key,i,new wo(i!==null&&i.hasLocalMutations,!0),t.converter))}function au(t,e,n){t=Xn(t,bt);const r=Xn(t.firestore,Ho),i=n2(t.converter,e,n);return s2(r,[GD(JE(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,mr.none())])}function xv(t,...e){var n,r,i;t=Zn(t);let o={includeMetadataChanges:!1},s=0;typeof e[s]!="object"||Rv(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(Rv(e[s])){const h=e[s];e[s]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[s+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[s+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,c;if(t instanceof bt)u=Xn(t.firestore,Ho),c=Vc(t._key.path),l={next:h=>{e[s]&&e[s](sT(u,t,h))},error:e[s+1],complete:e[s+2]};else{const h=Xn(t,Tr);u=Xn(h.firestore,Ho),c=h._query;const f=new bm(u);l={next:v=>{e[s]&&e[s](new r2(u,f,h,v))},error:e[s+1],complete:e[s+2]},ZD(t._query)}return function(f,v,A,I){const E=new zE(I),y=new LE(v,E,A);return f.asyncQueue.enqueueAndForget(async()=>VE(await Lf(f),y)),()=>{E.La(),f.asyncQueue.enqueueAndForget(async()=>ME(await Lf(f),y))}}(Wc(u),c,a,l)}function s2(t,e){return function(r,i){const o=new Kn;return r.asyncQueue.enqueueAndForget(async()=>ID(await LD(r),i,o)),o.promise}(Wc(t),e)}function sT(t,e,n){const r=n.docs.get(e._key),i=new bm(t);return new Fm(t,i,e._key,r,new wo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Zo=i})(Ow),Sa(new bo("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Ho(new sx(r.getProvider("auth-internal")),new cx(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new K(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new La(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Qr(Wy,"4.4.2",e),Qr(Wy,"4.4.2","esm2017")})();var a2="firebase",l2="10.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qr(a2,l2,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="firebasestorage.googleapis.com",u2="storageBucket",c2=2*60*1e3,h2=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir extends qi{constructor(e,n,r=0){super(id(e),`Firebase Storage: ${n} (${id(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ir.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return id(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var nr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(nr||(nr={}));function id(t){return"storage/"+t}function d2(){const t="An unknown error occurred, please check the error payload for server response.";return new ir(nr.UNKNOWN,t)}function f2(){return new ir(nr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function p2(){return new ir(nr.CANCELED,"User canceled the upload/download.")}function m2(t){return new ir(nr.INVALID_URL,"Invalid URL '"+t+"'.")}function g2(t){return new ir(nr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function kv(t){return new ir(nr.INVALID_ARGUMENT,t)}function lT(){return new ir(nr.APP_DELETED,"The Firebase app was deleted.")}function y2(t){return new ir(nr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=xn.makeFromUrl(e,n)}catch{return new xn(e,"")}if(r.path==="")return r;throw g2(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(x){x.path.charAt(x.path.length-1)==="/"&&(x.path_=x.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function u(x){x.path_=decodeURIComponent(x.path)}const c="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",v=new RegExp(`^https?://${h}/${c}/b/${i}/o${f}`,"i"),A={bucket:1,path:3},I=n===aT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",y=new RegExp(`^https?://${I}/${i}/${E}`,"i"),w=[{regex:a,indices:l,postModify:o},{regex:v,indices:A,postModify:u},{regex:y,indices:{bucket:1,path:2},postModify:u}];for(let x=0;x<w.length;x++){const F=w[x],T=F.regex.exec(e);if(T){const D=T[F.indices.bucket];let j=T[F.indices.path];j||(j=""),r=new xn(D,j),F.postModify(r);break}}if(r==null)throw m2(e);return r}}class v2{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let u=!1;function c(...E){u||(u=!0,e.apply(null,E))}function h(E){i=setTimeout(()=>{i=null,t(v,l())},E)}function f(){o&&clearTimeout(o)}function v(E,...y){if(u){f();return}if(E){f(),c.call(null,E,...y);return}if(l()||s){f(),c.call(null,E,...y);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,h(w)}let A=!1;function I(E){A||(A=!0,f(),!u&&(i!==null?(E||(a=2),clearTimeout(i),h(0)):E||(a=1)))}return h(0),o=setTimeout(()=>{s=!0,I(!0)},n),I}function w2(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(t){return t!==void 0}function Dv(t,e,n,r){if(r<e)throw kv(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw kv(`Invalid value for '${t}'. Expected ${n} or less.`)}function T2(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yu;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Yu||(Yu={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,n,r,i,o,s,a,l,u,c,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,A)=>{this.resolve_=v,this.reject_=A,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new ql(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===Yu.NO_ERROR,l=o.getStatus();if(!a||I2(l,this.additionalRetryCodes_)&&this.retry){const c=o.getErrorCode()===Yu.ABORT;r(!1,new ql(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new ql(u,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());E2(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=d2();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?lT():p2();s(l)}else{const l=f2();s(l)}};this.canceled_?n(!1,new ql(!1,null,!0)):this.backoffId_=_2(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&w2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ql{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function A2(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function R2(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function P2(t,e){e&&(t["X-Firebase-GMPID"]=e)}function C2(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function x2(t,e,n,r,i,o,s=!0){const a=T2(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return P2(u,e),A2(u,n),R2(u,o),C2(u,r),new S2(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function D2(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n){this._service=e,n instanceof xn?this._location=n:this._location=xn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ju(e,n)}get root(){const e=new xn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return D2(this._location.path)}get storage(){return this._service}get parent(){const e=k2(this._location.path);if(e===null)return null;const n=new xn(this._location.bucket,e);return new Ju(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw y2(e)}}function Nv(t,e){const n=e?.[u2];return n==null?null:xn.makeFromBucketSpec(n,t)}function N2(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Rw(i,t.app.options.projectId))}class O2{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=aT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=c2,this._maxUploadRetryTime=h2,this._requests=new Set,i!=null?this._bucket=xn.makeFromBucketSpec(i,this._host):this._bucket=Nv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=xn.makeFromBucketSpec(this._url,e):this._bucket=Nv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Dv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Dv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ju(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new v2(lT());{const s=x2(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Ov="@firebase/storage",Vv="0.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="storage";function V2(t=Mw(),e){t=Zn(t);const r=Nw(t,uT).getImmediate({identifier:e}),i=Sw("storage");return i&&M2(r,...i),r}function M2(t,e,n,r={}){N2(t,e,n,r)}function L2(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new O2(n,r,i,e,Ow)}function F2(){Sa(new bo(uT,L2,"PUBLIC").setMultipleInstances(!0)),Qr(Ov,Vv,""),Qr(Ov,Vv,"esm2017")}F2();var cT={exports:{}};/*! algoliasearch.umd.js | 4.22.1 |  Algolia, inc. | https://github.com/algolia/algoliasearch-client-javascript */(function(t,e){(function(n,r){t.exports=r()})(bT,function(){function n(d,p,g){return p in d?Object.defineProperty(d,p,{value:g,enumerable:!0,configurable:!0,writable:!0}):d[p]=g,d}function r(d,p){var g=Object.keys(d);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(d);p&&(_=_.filter(function(P){return Object.getOwnPropertyDescriptor(d,P).enumerable})),g.push.apply(g,_)}return g}function i(d){for(var p=1;p<arguments.length;p++){var g=arguments[p]!=null?arguments[p]:{};p%2?r(Object(g),!0).forEach(function(_){n(d,_,g[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(g)):r(Object(g)).forEach(function(_){Object.defineProperty(d,_,Object.getOwnPropertyDescriptor(g,_))})}return d}function o(d,p){if(d==null)return{};var g,_,P=function($,O){if($==null)return{};var U,X,Q={},ue=Object.keys($);for(X=0;X<ue.length;X++)U=ue[X],O.indexOf(U)>=0||(Q[U]=$[U]);return Q}(d,p);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(d);for(_=0;_<M.length;_++)g=M[_],p.indexOf(g)>=0||Object.prototype.propertyIsEnumerable.call(d,g)&&(P[g]=d[g])}return P}function s(d,p){return function(g){if(Array.isArray(g))return g}(d)||function(g,_){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]"){var P=[],M=!0,$=!1,O=void 0;try{for(var U,X=g[Symbol.iterator]();!(M=(U=X.next()).done)&&(P.push(U.value),!_||P.length!==_);M=!0);}catch(Q){$=!0,O=Q}finally{try{M||X.return==null||X.return()}finally{if($)throw O}}return P}}(d,p)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(d){return function(p){if(Array.isArray(p)){for(var g=0,_=new Array(p.length);g<p.length;g++)_[g]=p[g];return _}}(d)||function(p){if(Symbol.iterator in Object(p)||Object.prototype.toString.call(p)==="[object Arguments]")return Array.from(p)}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(d){var p,g="algoliasearch-client-js-".concat(d.key),_=function(){return p===void 0&&(p=d.localStorage||window.localStorage),p},P=function(){return JSON.parse(_().getItem(g)||"{}")},M=function(O){_().setItem(g,JSON.stringify(O))},$=function(){var O=d.timeToLive?1e3*d.timeToLive:null,U=P(),X=Object.fromEntries(Object.entries(U).filter(function(ue){return s(ue,2)[1].timestamp!==void 0}));if(M(X),O){var Q=Object.fromEntries(Object.entries(X).filter(function(ue){var ae=s(ue,2)[1],_e=new Date().getTime();return!(ae.timestamp+O<_e)}));M(Q)}};return{get:function(O,U){var X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then(function(){$();var Q=JSON.stringify(O);return P()[Q]}).then(function(Q){return Promise.all([Q?Q.value:U(),Q!==void 0])}).then(function(Q){var ue=s(Q,2),ae=ue[0],_e=ue[1];return Promise.all([ae,_e||X.miss(ae)])}).then(function(Q){return s(Q,1)[0]})},set:function(O,U){return Promise.resolve().then(function(){var X=P();return X[JSON.stringify(O)]={timestamp:new Date().getTime(),value:U},_().setItem(g,JSON.stringify(X)),U})},delete:function(O){return Promise.resolve().then(function(){var U=P();delete U[JSON.stringify(O)],_().setItem(g,JSON.stringify(U))})},clear:function(){return Promise.resolve().then(function(){_().removeItem(g)})}}}function u(d){var p=a(d.caches),g=p.shift();return g===void 0?{get:function(_,P){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},$=P();return $.then(function(O){return Promise.all([O,M.miss(O)])}).then(function(O){return s(O,1)[0]})},set:function(_,P){return Promise.resolve(P)},delete:function(_){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(_,P){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return g.get(_,P,M).catch(function(){return u({caches:p}).get(_,P,M)})},set:function(_,P){return g.set(_,P).catch(function(){return u({caches:p}).set(_,P)})},delete:function(_){return g.delete(_).catch(function(){return u({caches:p}).delete(_)})},clear:function(){return g.clear().catch(function(){return u({caches:p}).clear()})}}}function c(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{serializable:!0},p={};return{get:function(g,_){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},M=JSON.stringify(g);if(M in p)return Promise.resolve(d.serializable?JSON.parse(p[M]):p[M]);var $=_(),O=P&&P.miss||function(){return Promise.resolve()};return $.then(function(U){return O(U)}).then(function(){return $})},set:function(g,_){return p[JSON.stringify(g)]=d.serializable?JSON.stringify(_):_,Promise.resolve(_)},delete:function(g){return delete p[JSON.stringify(g)],Promise.resolve()},clear:function(){return p={},Promise.resolve()}}}function h(d,p,g){var _={"x-algolia-api-key":g,"x-algolia-application-id":p};return{headers:function(){return d===y.WithinHeaders?_:{}},queryParameters:function(){return d===y.WithinQueryParameters?_:{}}}}function f(d){var p=0;return d(function g(){return p++,new Promise(function(_){setTimeout(function(){_(d(g))},Math.min(100*p,1e3))})})}function v(d){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(g,_){return Promise.resolve()};return Object.assign(d,{wait:function(g){return v(d.then(function(_){return Promise.all([p(_,g),_])}).then(function(_){return _[1]}))}})}function A(d){for(var p=d.length-1;p>0;p--){var g=Math.floor(Math.random()*(p+1)),_=d[p];d[p]=d[g],d[g]=_}return d}function I(d,p){return p&&Object.keys(p).forEach(function(g){d[g]=p[g](d)}),d}function E(d){for(var p=arguments.length,g=new Array(p>1?p-1:0),_=1;_<p;_++)g[_-1]=arguments[_];var P=0;return d.replace(/%s/g,function(){return encodeURIComponent(g[P++])})}var y={WithinQueryParameters:0,WithinHeaders:1};function m(d,p){var g=d||{},_=g.data||{};return Object.keys(g).forEach(function(P){["timeout","headers","queryParameters","data","cacheable"].indexOf(P)===-1&&(_[P]=g[P])}),{data:Object.entries(_).length>0?_:void 0,timeout:g.timeout||p,headers:g.headers||{},queryParameters:g.queryParameters||{},cacheable:g.cacheable}}var w={Read:1,Write:2,Any:3},x=1,F=2,T=3;function D(d){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:x;return i(i({},d),{},{status:p,lastUpdate:Date.now()})}function j(d){return typeof d=="string"?{protocol:"https",url:d,accept:w.Any}:{protocol:d.protocol||"https",url:d.url,accept:d.accept||w.Any}}var q="DELETE",z="GET",Y="POST",Fe="PUT";function De(d,p){return Promise.all(p.map(function(g){return d.get(g,function(){return Promise.resolve(D(g))})})).then(function(g){var _=g.filter(function($){return function(O){return O.status===x||Date.now()-O.lastUpdate>12e4}($)}),P=g.filter(function($){return function(O){return O.status===T&&Date.now()-O.lastUpdate<=12e4}($)}),M=[].concat(a(_),a(P));return{getTimeout:function($,O){return(P.length===0&&$===0?1:P.length+3+$)*O},statelessHosts:M.length>0?M.map(function($){return j($)}):p}})}function ct(d,p,g,_){var P=[],M=function(ae,_e){if(!(ae.method===z||ae.data===void 0&&_e.data===void 0)){var pe=Array.isArray(ae.data)?ae.data:i(i({},ae.data),_e.data);return JSON.stringify(pe)}}(g,_),$=function(ae,_e){var pe=i(i({},ae.headers),_e.headers),Ve={};return Object.keys(pe).forEach(function(ze){var Yt=pe[ze];Ve[ze.toLowerCase()]=Yt}),Ve}(d,_),O=g.method,U=g.method!==z?{}:i(i({},g.data),_.data),X=i(i(i({"x-algolia-agent":d.userAgent.value},d.queryParameters),U),_.queryParameters),Q=0,ue=function ae(_e,pe){var Ve=_e.pop();if(Ve===void 0)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:re(P)};var ze={data:M,headers:$,method:O,url:Ae(Ve,g.path,X),connectTimeout:pe(Q,d.timeouts.connect),responseTimeout:pe(Q,_.timeout)},Yt=function(Jt){var xt={request:ze,response:Jt,host:Ve,triesLeft:_e.length};return P.push(xt),xt},ps={onSuccess:function(Jt){return function(xt){try{return JSON.parse(xt.content)}catch(di){throw function(Pr,Ji){return{name:"DeserializationError",message:Pr,response:Ji}}(di.message,xt)}}(Jt)},onRetry:function(Jt){var xt=Yt(Jt);return Jt.isTimedOut&&Q++,Promise.all([d.logger.info("Retryable failure",ie(xt)),d.hostsCache.set(Ve,D(Ve,Jt.isTimedOut?T:F))]).then(function(){return ae(_e,pe)})},onFail:function(Jt){throw Yt(Jt),function(xt,di){var Pr=xt.content,Ji=xt.status,ms=Pr;try{ms=JSON.parse(Pr).message}catch{}return function(vl,dh,FT){return{name:"ApiError",message:vl,status:dh,transporterStackTrace:FT}}(ms,Ji,di)}(Jt,re(P))}};return d.requester.send(ze).then(function(Jt){return function(xt,di){return function(Pr){var Ji=Pr.status;return Pr.isTimedOut||function(ms){var vl=ms.isTimedOut,dh=ms.status;return!vl&&~~dh==0}(Pr)||~~(Ji/100)!=2&&~~(Ji/100)!=4}(xt)?di.onRetry(xt):~~(xt.status/100)==2?di.onSuccess(xt):di.onFail(xt)}(Jt,ps)})};return De(d.hostsCache,p).then(function(ae){return ue(a(ae.statelessHosts).reverse(),ae.getTimeout)})}function Kt(d){var p=d.hostsCache,g=d.logger,_=d.requester,P=d.requestsCache,M=d.responsesCache,$=d.timeouts,O=d.userAgent,U=d.hosts,X=d.queryParameters,Q={hostsCache:p,logger:g,requester:_,requestsCache:P,responsesCache:M,timeouts:$,userAgent:O,headers:d.headers,queryParameters:X,hosts:U.map(function(ue){return j(ue)}),read:function(ue,ae){var _e=m(ae,Q.timeouts.read),pe=function(){return ct(Q,Q.hosts.filter(function(ze){return(ze.accept&w.Read)!=0}),ue,_e)};if((_e.cacheable!==void 0?_e.cacheable:ue.cacheable)!==!0)return pe();var Ve={request:ue,mappedRequestOptions:_e,transporter:{queryParameters:Q.queryParameters,headers:Q.headers}};return Q.responsesCache.get(Ve,function(){return Q.requestsCache.get(Ve,function(){return Q.requestsCache.set(Ve,pe()).then(function(ze){return Promise.all([Q.requestsCache.delete(Ve),ze])},function(ze){return Promise.all([Q.requestsCache.delete(Ve),Promise.reject(ze)])}).then(function(ze){var Yt=s(ze,2);return Yt[0],Yt[1]})})},{miss:function(ze){return Q.responsesCache.set(Ve,ze)}})},write:function(ue,ae){return ct(Q,Q.hosts.filter(function(_e){return(_e.accept&w.Write)!=0}),ue,m(ae,Q.timeouts.write))}};return Q}function Bt(d){var p={value:"Algolia for JavaScript (".concat(d,")"),add:function(g){var _="; ".concat(g.segment).concat(g.version!==void 0?" (".concat(g.version,")"):"");return p.value.indexOf(_)===-1&&(p.value="".concat(p.value).concat(_)),p}};return p}function Ae(d,p,g){var _=G(g),P="".concat(d.protocol,"://").concat(d.url,"/").concat(p.charAt(0)==="/"?p.substr(1):p);return _.length&&(P+="?".concat(_)),P}function G(d){return Object.keys(d).map(function(p){return E("%s=%s",p,(g=d[p],Object.prototype.toString.call(g)==="[object Object]"||Object.prototype.toString.call(g)==="[object Array]"?JSON.stringify(d[p]):d[p]));var g}).join("&")}function re(d){return d.map(function(p){return ie(p)})}function ie(d){var p=d.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return i(i({},d),{},{request:i(i({},d.request),{},{headers:i(i({},d.request.headers),p)})})}var Ee=function(d){return function(p,g){return d.transporter.write({method:Y,path:"2/abtests",data:p},g)}},Ne=function(d){return function(p,g){return d.transporter.write({method:q,path:E("2/abtests/%s",p)},g)}},dn=function(d){return function(p,g){return d.transporter.read({method:z,path:E("2/abtests/%s",p)},g)}},ht=function(d){return function(p){return d.transporter.read({method:z,path:"2/abtests"},p)}},rn=function(d){return function(p,g){return d.transporter.write({method:Y,path:E("2/abtests/%s/stop",p)},g)}},wt=function(d){return function(p){return d.transporter.read({method:z,path:"1/strategies/personalization"},p)}},Ln=function(d){return function(p,g){return d.transporter.write({method:Y,path:"1/strategies/personalization",data:p},g)}};function ss(d){return function p(g){return d.request(g).then(function(_){if(d.batch!==void 0&&d.batch(_.hits),!d.shouldStop(_))return _.cursor?p({cursor:_.cursor}):p({page:(g.page||0)+1})})}({})}var Kc=function(d){return function(p,g){var _=g||{},P=_.queryParameters,M=o(_,["queryParameters"]),$=i({acl:p},P!==void 0?{queryParameters:P}:{});return v(d.transporter.write({method:Y,path:"1/keys",data:$},M),function(O,U){return f(function(X){return ui(d)(O.key,U).catch(function(Q){if(Q.status!==404)throw Q;return X()})})})}},Yc=function(d){return function(p,g,_){var P=m(_);return P.queryParameters["X-Algolia-User-ID"]=p,d.transporter.write({method:Y,path:"1/clusters/mapping",data:{cluster:g}},P)}},$t=function(d){return function(p,g,_){return d.transporter.write({method:Y,path:"1/clusters/mapping/batch",data:{users:p,cluster:g}},_)}},ai=function(d){return function(p,g){return v(d.transporter.write({method:Y,path:E("/1/dictionaries/%s/batch",p),data:{clearExistingDictionaryEntries:!0,requests:{action:"addEntry",body:[]}}},g),function(_,P){return k(d)(_.taskID,P)})}},li=function(d){return function(p,g,_){return v(d.transporter.write({method:Y,path:E("1/indexes/%s/operation",p),data:{operation:"copy",destination:g}},_),function(P,M){return bn(d)(p,{methods:{waitTask:nt}}).waitTask(P.taskID,M)})}},Jc=function(d){return function(p,g,_){return li(d)(p,g,i(i({},_),{},{scope:[hh.Rules]}))}},or=function(d){return function(p,g,_){return li(d)(p,g,i(i({},_),{},{scope:[hh.Settings]}))}},Xc=function(d){return function(p,g,_){return li(d)(p,g,i(i({},_),{},{scope:[hh.Synonyms]}))}},Zc=function(d){return function(p,g){return p.method===z?d.transporter.read(p,g):d.transporter.write(p,g)}},eh=function(d){return function(p,g){return v(d.transporter.write({method:q,path:E("1/keys/%s",p)},g),function(_,P){return f(function(M){return ui(d)(p,P).then(M).catch(function($){if($.status!==404)throw $})})})}},th=function(d){return function(p,g,_){var P=g.map(function(M){return{action:"deleteEntry",body:{objectID:M}}});return v(d.transporter.write({method:Y,path:E("/1/dictionaries/%s/batch",p),data:{clearExistingDictionaryEntries:!1,requests:P}},_),function(M,$){return k(d)(M.taskID,$)})}},ui=function(d){return function(p,g){return d.transporter.read({method:z,path:E("1/keys/%s",p)},g)}},Sr=function(d){return function(p,g){return d.transporter.read({method:z,path:E("1/task/%s",p.toString())},g)}},cl=function(d){return function(p){return d.transporter.read({method:z,path:"/1/dictionaries/*/settings"},p)}},as=function(d){return function(p){return d.transporter.read({method:z,path:"1/logs"},p)}},Fn=function(d){return function(p){return d.transporter.read({method:z,path:"1/clusters/mapping/top"},p)}},ci=function(d){return function(p,g){return d.transporter.read({method:z,path:E("1/clusters/mapping/%s",p)},g)}},hl=function(d){return function(p){var g=p||{},_=g.retrieveMappings,P=o(g,["retrieveMappings"]);return _===!0&&(P.getClusters=!0),d.transporter.read({method:z,path:"1/clusters/mapping/pending"},P)}},bn=function(d){return function(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_={transporter:d.transporter,appId:d.appId,indexName:p};return I(_,g.methods)}},nh=function(d){return function(p){return d.transporter.read({method:z,path:"1/keys"},p)}},jn=function(d){return function(p){return d.transporter.read({method:z,path:"1/clusters"},p)}},dl=function(d){return function(p){return d.transporter.read({method:z,path:"1/indexes"},p)}},fl=function(d){return function(p){return d.transporter.read({method:z,path:"1/clusters/mapping"},p)}},pl=function(d){return function(p,g,_){return v(d.transporter.write({method:Y,path:E("1/indexes/%s/operation",p),data:{operation:"move",destination:g}},_),function(P,M){return bn(d)(p,{methods:{waitTask:nt}}).waitTask(P.taskID,M)})}},rh=function(d){return function(p,g){return v(d.transporter.write({method:Y,path:"1/indexes/*/batch",data:{requests:p}},g),function(_,P){return Promise.all(Object.keys(_.taskID).map(function(M){return bn(d)(M,{methods:{waitTask:nt}}).waitTask(_.taskID[M],P)}))})}},ml=function(d){return function(p,g){return d.transporter.read({method:Y,path:"1/indexes/*/objects",data:{requests:p}},g)}},hi=function(d){return function(p,g){var _=p.map(function(P){return i(i({},P),{},{params:G(P.params||{})})});return d.transporter.read({method:Y,path:"1/indexes/*/queries",data:{requests:_},cacheable:!0},g)}},ls=function(d){return function(p,g){return Promise.all(p.map(function(_){var P=_.params,M=P.facetName,$=P.facetQuery,O=o(P,["facetName","facetQuery"]);return bn(d)(_.indexName,{methods:{searchForFacetValues:qm}}).searchForFacetValues(M,$,i(i({},g),O))}))}},us=function(d){return function(p,g){var _=m(g);return _.queryParameters["X-Algolia-User-ID"]=p,d.transporter.write({method:q,path:"1/clusters/mapping"},_)}},ih=function(d){return function(p,g,_){var P=g.map(function(M){return{action:"addEntry",body:M}});return v(d.transporter.write({method:Y,path:E("/1/dictionaries/%s/batch",p),data:{clearExistingDictionaryEntries:!0,requests:P}},_),function(M,$){return k(d)(M.taskID,$)})}},gl=function(d){return function(p,g){return v(d.transporter.write({method:Y,path:E("1/keys/%s/restore",p)},g),function(_,P){return f(function(M){return ui(d)(p,P).catch(function($){if($.status!==404)throw $;return M()})})})}},oh=function(d){return function(p,g,_){var P=g.map(function(M){return{action:"addEntry",body:M}});return v(d.transporter.write({method:Y,path:E("/1/dictionaries/%s/batch",p),data:{clearExistingDictionaryEntries:!1,requests:P}},_),function(M,$){return k(d)(M.taskID,$)})}},yl=function(d){return function(p,g,_){return d.transporter.read({method:Y,path:E("/1/dictionaries/%s/search",p),data:{query:g},cacheable:!0},_)}},sh=function(d){return function(p,g){return d.transporter.read({method:Y,path:"1/clusters/mapping/search",data:{query:p}},g)}},S=function(d){return function(p,g){return v(d.transporter.write({method:Fe,path:"/1/dictionaries/*/settings",data:p},g),function(_,P){return k(d)(_.taskID,P)})}},C=function(d){return function(p,g){var _=Object.assign({},g),P=g||{},M=P.queryParameters,$=o(P,["queryParameters"]),O=M?{queryParameters:M}:{},U=["acl","indexes","referers","restrictSources","queryParameters","description","maxQueriesPerIPPerHour","maxHitsPerQuery"];return v(d.transporter.write({method:Fe,path:E("1/keys/%s",p),data:O},$),function(X,Q){return f(function(ue){return ui(d)(p,Q).then(function(ae){return function(_e){return Object.keys(_).filter(function(pe){return U.indexOf(pe)!==-1}).every(function(pe){if(Array.isArray(_e[pe])&&Array.isArray(_[pe])){var Ve=_e[pe];return Ve.length===_[pe].length&&Ve.every(function(ze,Yt){return ze===_[pe][Yt]})}return _e[pe]===_[pe]})}(ae)?Promise.resolve():ue()})})})}},k=function(d){return function(p,g){return f(function(_){return Sr(d)(p,g).then(function(P){return P.status!=="published"?_():void 0})})}},B=function(d){return function(p,g){return v(d.transporter.write({method:Y,path:E("1/indexes/%s/batch",d.indexName),data:{requests:p}},g),function(_,P){return nt(d)(_.taskID,P)})}},Z=function(d){return function(p){return ss(i(i({shouldStop:function(g){return g.cursor===void 0}},p),{},{request:function(g){return d.transporter.read({method:Y,path:E("1/indexes/%s/browse",d.indexName),data:g},p)}}))}},fe=function(d){return function(p){var g=i({hitsPerPage:1e3},p);return ss(i(i({shouldStop:function(_){return _.hits.length<g.hitsPerPage}},g),{},{request:function(_){return Wm(d)("",i(i({},g),_)).then(function(P){return i(i({},P),{},{hits:P.hits.map(function(M){return delete M._highlightResult,M})})})}}))}},oe=function(d){return function(p){var g=i({hitsPerPage:1e3},p);return ss(i(i({shouldStop:function(_){return _.hits.length<g.hitsPerPage}},g),{},{request:function(_){return Hm(d)("",i(i({},g),_)).then(function(P){return i(i({},P),{},{hits:P.hits.map(function(M){return delete M._highlightResult,M})})})}}))}},ne=function(d){return function(p,g,_){var P=_||{},M=P.batchSize,$=o(P,["batchSize"]),O={taskIDs:[],objectIDs:[]};return v(function U(){var X,Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,ue=[];for(X=Q;X<p.length&&(ue.push(p[X]),ue.length!==(M||1e3));X++);return ue.length===0?Promise.resolve(O):B(d)(ue.map(function(ae){return{action:g,body:ae}}),$).then(function(ae){return O.objectIDs=O.objectIDs.concat(ae.objectIDs),O.taskIDs.push(ae.taskID),X++,U(X)})}(),function(U,X){return Promise.all(U.taskIDs.map(function(Q){return nt(d)(Q,X)}))})}},ee=function(d){return function(p){return v(d.transporter.write({method:Y,path:E("1/indexes/%s/clear",d.indexName)},p),function(g,_){return nt(d)(g.taskID,_)})}},me=function(d){return function(p){var g=p||{},_=g.forwardToReplicas,P=m(o(g,["forwardToReplicas"]));return _&&(P.queryParameters.forwardToReplicas=1),v(d.transporter.write({method:Y,path:E("1/indexes/%s/rules/clear",d.indexName)},P),function(M,$){return nt(d)(M.taskID,$)})}},et=function(d){return function(p){var g=p||{},_=g.forwardToReplicas,P=m(o(g,["forwardToReplicas"]));return _&&(P.queryParameters.forwardToReplicas=1),v(d.transporter.write({method:Y,path:E("1/indexes/%s/synonyms/clear",d.indexName)},P),function(M,$){return nt(d)(M.taskID,$)})}},de=function(d){return function(p,g){return v(d.transporter.write({method:Y,path:E("1/indexes/%s/deleteByQuery",d.indexName),data:p},g),function(_,P){return nt(d)(_.taskID,P)})}},ke=function(d){return function(p){return v(d.transporter.write({method:q,path:E("1/indexes/%s",d.indexName)},p),function(g,_){return nt(d)(g.taskID,_)})}},dt=function(d){return function(p,g){return v(zt(d)([p],g).then(function(_){return{taskID:_.taskIDs[0]}}),function(_,P){return nt(d)(_.taskID,P)})}},zt=function(d){return function(p,g){var _=p.map(function(P){return{objectID:P}});return ne(d)(_,Yi.DeleteObject,g)}},tt=function(d){return function(p,g){var _=g||{},P=_.forwardToReplicas,M=m(o(_,["forwardToReplicas"]));return P&&(M.queryParameters.forwardToReplicas=1),v(d.transporter.write({method:q,path:E("1/indexes/%s/rules/%s",d.indexName,p)},M),function($,O){return nt(d)($.taskID,O)})}},Ar=function(d){return function(p,g){var _=g||{},P=_.forwardToReplicas,M=m(o(_,["forwardToReplicas"]));return P&&(M.queryParameters.forwardToReplicas=1),v(d.transporter.write({method:q,path:E("1/indexes/%s/synonyms/%s",d.indexName,p)},M),function($,O){return nt(d)($.taskID,O)})}},cs=function(d){return function(p){return ar(d)(p).then(function(){return!0}).catch(function(g){if(g.status!==404)throw g;return!1})}},Rr=function(d){return function(p,g,_){return d.transporter.read({method:Y,path:E("1/answers/%s/prediction",d.indexName),data:{query:p,queryLanguages:g},cacheable:!0},_)}},Un=function(d){return function(p,g){var _=g||{},P=_.query,M=_.paginate,$=o(_,["query","paginate"]),O=0;return function U(){return zm(d)(P||"",i(i({},$),{},{page:O})).then(function(X){for(var Q=0,ue=Object.entries(X.hits);Q<ue.length;Q++){var ae=s(ue[Q],2),_e=ae[0],pe=ae[1];if(p(pe))return{object:pe,position:parseInt(_e,10),page:O}}if(O++,M===!1||O>=X.nbPages)throw{name:"ObjectNotFoundError",message:"Object not found."};return U()})}()}},sr=function(d){return function(p,g){return d.transporter.read({method:z,path:E("1/indexes/%s/%s",d.indexName,p)},g)}},hs=function(){return function(d,p){for(var g=0,_=Object.entries(d.hits);g<_.length;g++){var P=s(_[g],2),M=P[0];if(P[1].objectID===p)return parseInt(M,10)}return-1}},ds=function(d){return function(p,g){var _=g||{},P=_.attributesToRetrieve,M=o(_,["attributesToRetrieve"]),$=p.map(function(O){return i({indexName:d.indexName,objectID:O},P?{attributesToRetrieve:P}:{})});return d.transporter.read({method:Y,path:"1/indexes/*/objects",data:{requests:$}},M)}},fs=function(d){return function(p,g){return d.transporter.read({method:z,path:E("1/indexes/%s/rules/%s",d.indexName,p)},g)}},ar=function(d){return function(p){return d.transporter.read({method:z,path:E("1/indexes/%s/settings",d.indexName),data:{getVersion:2}},p)}},Qi=function(d){return function(p,g){return d.transporter.read({method:z,path:E("1/indexes/%s/synonyms/%s",d.indexName,p)},g)}},Re=function(d){return function(p,g){return v(Oe(d)([p],g).then(function(_){return{objectID:_.objectIDs[0],taskID:_.taskIDs[0]}}),function(_,P){return nt(d)(_.taskID,P)})}},Oe=function(d){return function(p,g){var _=g||{},P=_.createIfNotExists,M=o(_,["createIfNotExists"]),$=P?Yi.PartialUpdateObject:Yi.PartialUpdateObjectNoCreate;return ne(d)(p,$,M)}},fn=function(d){return function(p,g){var _=g||{},P=_.safe,M=_.autoGenerateObjectIDIfNotExist,$=_.batchSize,O=o(_,["safe","autoGenerateObjectIDIfNotExist","batchSize"]),U=function(pe,Ve,ze,Yt){return v(d.transporter.write({method:Y,path:E("1/indexes/%s/operation",pe),data:{operation:ze,destination:Ve}},Yt),function(ps,Jt){return nt(d)(ps.taskID,Jt)})},X=Math.random().toString(36).substring(7),Q="".concat(d.indexName,"_tmp_").concat(X),ue=lh({appId:d.appId,transporter:d.transporter,indexName:Q}),ae=[],_e=U(d.indexName,Q,"copy",i(i({},O),{},{scope:["settings","synonyms","rules"]}));return ae.push(_e),v((P?_e.wait(O):_e).then(function(){var pe=ue(p,i(i({},O),{},{autoGenerateObjectIDIfNotExist:M,batchSize:$}));return ae.push(pe),P?pe.wait(O):pe}).then(function(){var pe=U(Q,d.indexName,"move",O);return ae.push(pe),P?pe.wait(O):pe}).then(function(){return Promise.all(ae)}).then(function(pe){var Ve=s(pe,3),ze=Ve[0],Yt=Ve[1],ps=Ve[2];return{objectIDs:Yt.objectIDs,taskIDs:[ze.taskID].concat(a(Yt.taskIDs),[ps.taskID])}}),function(pe,Ve){return Promise.all(ae.map(function(ze){return ze.wait(Ve)}))})}},Ki=function(d){return function(p,g){return uh(d)(p,i(i({},g),{},{clearExistingRules:!0}))}},ah=function(d){return function(p,g){return ch(d)(p,i(i({},g),{},{clearExistingSynonyms:!0}))}},kT=function(d){return function(p,g){return v(lh(d)([p],g).then(function(_){return{objectID:_.objectIDs[0],taskID:_.taskIDs[0]}}),function(_,P){return nt(d)(_.taskID,P)})}},lh=function(d){return function(p,g){var _=g||{},P=_.autoGenerateObjectIDIfNotExist,M=o(_,["autoGenerateObjectIDIfNotExist"]),$=P?Yi.AddObject:Yi.UpdateObject;if($===Yi.UpdateObject){var O=!0,U=!1,X=void 0;try{for(var Q,ue=p[Symbol.iterator]();!(O=(Q=ue.next()).done);O=!0)if(Q.value.objectID===void 0)return v(Promise.reject({name:"MissingObjectIDError",message:"All objects must have an unique objectID (like a primary key) to be valid. Algolia is also able to generate objectIDs automatically but *it's not recommended*. To do it, use the `{'autoGenerateObjectIDIfNotExist': true}` option."}))}catch(ae){U=!0,X=ae}finally{try{O||ue.return==null||ue.return()}finally{if(U)throw X}}}return ne(d)(p,$,M)}},DT=function(d){return function(p,g){return uh(d)([p],g)}},uh=function(d){return function(p,g){var _=g||{},P=_.forwardToReplicas,M=_.clearExistingRules,$=m(o(_,["forwardToReplicas","clearExistingRules"]));return P&&($.queryParameters.forwardToReplicas=1),M&&($.queryParameters.clearExistingRules=1),v(d.transporter.write({method:Y,path:E("1/indexes/%s/rules/batch",d.indexName),data:p},$),function(O,U){return nt(d)(O.taskID,U)})}},NT=function(d){return function(p,g){return ch(d)([p],g)}},ch=function(d){return function(p,g){var _=g||{},P=_.forwardToReplicas,M=_.clearExistingSynonyms,$=_.replaceExistingSynonyms,O=m(o(_,["forwardToReplicas","clearExistingSynonyms","replaceExistingSynonyms"]));return P&&(O.queryParameters.forwardToReplicas=1),($||M)&&(O.queryParameters.replaceExistingSynonyms=1),v(d.transporter.write({method:Y,path:E("1/indexes/%s/synonyms/batch",d.indexName),data:p},O),function(U,X){return nt(d)(U.taskID,X)})}},zm=function(d){return function(p,g){return d.transporter.read({method:Y,path:E("1/indexes/%s/query",d.indexName),data:{query:p},cacheable:!0},g)}},qm=function(d){return function(p,g,_){return d.transporter.read({method:Y,path:E("1/indexes/%s/facets/%s/query",d.indexName,p),data:{facetQuery:g},cacheable:!0},_)}},Wm=function(d){return function(p,g){return d.transporter.read({method:Y,path:E("1/indexes/%s/rules/search",d.indexName),data:{query:p}},g)}},Hm=function(d){return function(p,g){return d.transporter.read({method:Y,path:E("1/indexes/%s/synonyms/search",d.indexName),data:{query:p}},g)}},OT=function(d){return function(p,g){var _=g||{},P=_.forwardToReplicas,M=m(o(_,["forwardToReplicas"]));return P&&(M.queryParameters.forwardToReplicas=1),v(d.transporter.write({method:Fe,path:E("1/indexes/%s/settings",d.indexName),data:p},M),function($,O){return nt(d)($.taskID,O)})}},nt=function(d){return function(p,g){return f(function(_){return function(P){return function(M,$){return P.transporter.read({method:z,path:E("1/indexes/%s/task/%s",P.indexName,M.toString())},$)}}(d)(p,g).then(function(P){return P.status!=="published"?_():void 0})})}},Yi={AddObject:"addObject",UpdateObject:"updateObject",PartialUpdateObject:"partialUpdateObject",PartialUpdateObjectNoCreate:"partialUpdateObjectNoCreate",DeleteObject:"deleteObject",DeleteIndex:"delete",ClearIndex:"clear"},hh={Settings:"settings",Synonyms:"synonyms",Rules:"rules"},VT=1,MT=2,LT=3;function Gm(d,p,g){var _,P={appId:d,apiKey:p,timeouts:{connect:1,read:2,write:30},requester:{send:function(O){return new Promise(function(U){var X=new XMLHttpRequest;X.open(O.method,O.url,!0),Object.keys(O.headers).forEach(function(_e){return X.setRequestHeader(_e,O.headers[_e])});var Q,ue=function(_e,pe){return setTimeout(function(){X.abort(),U({status:0,content:pe,isTimedOut:!0})},1e3*_e)},ae=ue(O.connectTimeout,"Connection timeout");X.onreadystatechange=function(){X.readyState>X.OPENED&&Q===void 0&&(clearTimeout(ae),Q=ue(O.responseTimeout,"Socket timeout"))},X.onerror=function(){X.status===0&&(clearTimeout(ae),clearTimeout(Q),U({content:X.responseText||"Network request failed",status:X.status,isTimedOut:!1}))},X.onload=function(){clearTimeout(ae),clearTimeout(Q),U({content:X.responseText,status:X.status,isTimedOut:!1})},X.send(O.data)})}},logger:(_=LT,{debug:function(O,U){return VT>=_&&console.debug(O,U),Promise.resolve()},info:function(O,U){return MT>=_&&console.info(O,U),Promise.resolve()},error:function(O,U){return console.error(O,U),Promise.resolve()}}),responsesCache:c(),requestsCache:c({serializable:!1}),hostsCache:u({caches:[l({key:"".concat("4.22.1","-").concat(d)}),c()]}),userAgent:Bt("4.22.1").add({segment:"Browser"})},M=i(i({},P),g),$=function(){return function(O){return function(U){var X=U.region||"us",Q=h(y.WithinHeaders,U.appId,U.apiKey),ue=Kt(i(i({hosts:[{url:"personalization.".concat(X,".algolia.com")}]},U),{},{headers:i(i(i({},Q.headers()),{"content-type":"application/json"}),U.headers),queryParameters:i(i({},Q.queryParameters()),U.queryParameters)}));return I({appId:U.appId,transporter:ue},U.methods)}(i(i(i({},P),O),{},{methods:{getPersonalizationStrategy:wt,setPersonalizationStrategy:Ln}}))}};return function(O){var U=O.appId,X=h(O.authMode!==void 0?O.authMode:y.WithinHeaders,U,O.apiKey),Q=Kt(i(i({hosts:[{url:"".concat(U,"-dsn.algolia.net"),accept:w.Read},{url:"".concat(U,".algolia.net"),accept:w.Write}].concat(A([{url:"".concat(U,"-1.algolianet.com")},{url:"".concat(U,"-2.algolianet.com")},{url:"".concat(U,"-3.algolianet.com")}]))},O),{},{headers:i(i(i({},X.headers()),{"content-type":"application/x-www-form-urlencoded"}),O.headers),queryParameters:i(i({},X.queryParameters()),O.queryParameters)}));return I({transporter:Q,appId:U,addAlgoliaAgent:function(ue,ae){Q.userAgent.add({segment:ue,version:ae})},clearCache:function(){return Promise.all([Q.requestsCache.clear(),Q.responsesCache.clear()]).then(function(){})}},O.methods)}(i(i({},M),{},{methods:{search:hi,searchForFacetValues:ls,multipleBatch:rh,multipleGetObjects:ml,multipleQueries:hi,copyIndex:li,copySettings:or,copySynonyms:Xc,copyRules:Jc,moveIndex:pl,listIndices:dl,getLogs:as,listClusters:jn,multipleSearchForFacetValues:ls,getApiKey:ui,addApiKey:Kc,listApiKeys:nh,updateApiKey:C,deleteApiKey:eh,restoreApiKey:gl,assignUserID:Yc,assignUserIDs:$t,getUserID:ci,searchUserIDs:sh,listUserIDs:fl,getTopUserIDs:Fn,removeUserID:us,hasPendingMappings:hl,clearDictionaryEntries:ai,deleteDictionaryEntries:th,getDictionarySettings:cl,getAppTask:Sr,replaceDictionaryEntries:ih,saveDictionaryEntries:oh,searchDictionaryEntries:yl,setDictionarySettings:S,waitAppTask:k,customRequest:Zc,initIndex:function(O){return function(U){return bn(O)(U,{methods:{batch:B,delete:ke,findAnswers:Rr,getObject:sr,getObjects:ds,saveObject:kT,saveObjects:lh,search:zm,searchForFacetValues:qm,waitTask:nt,setSettings:OT,getSettings:ar,partialUpdateObject:Re,partialUpdateObjects:Oe,deleteObject:dt,deleteObjects:zt,deleteBy:de,clearObjects:ee,browseObjects:Z,getObjectPosition:hs,findObject:Un,exists:cs,saveSynonym:NT,saveSynonyms:ch,getSynonym:Qi,searchSynonyms:Hm,browseSynonyms:oe,deleteSynonym:Ar,clearSynonyms:et,replaceAllObjects:fn,replaceAllSynonyms:ah,searchRules:Wm,getRule:fs,deleteRule:tt,saveRule:DT,saveRules:uh,replaceAllRules:Ki,browseRules:fe,clearRules:me}})}},initAnalytics:function(){return function(O){return function(U){var X=U.region||"us",Q=h(y.WithinHeaders,U.appId,U.apiKey),ue=Kt(i(i({hosts:[{url:"analytics.".concat(X,".algolia.com")}]},U),{},{headers:i(i(i({},Q.headers()),{"content-type":"application/json"}),U.headers),queryParameters:i(i({},Q.queryParameters()),U.queryParameters)}));return I({appId:U.appId,transporter:ue},U.methods)}(i(i(i({},P),O),{},{methods:{addABTest:Ee,getABTest:dn,getABTests:ht,stopABTest:rn,deleteABTest:Ne}}))}},initPersonalization:$,initRecommendation:function(){return function(O){return M.logger.info("The `initRecommendation` method is deprecated. Use `initPersonalization` instead."),$()(O)}}}}))}return Gm.version="4.22.1",Gm})})(cT);var b2=cT.exports;const hT=jf(b2),j2={apiKey:"AIzaSyANe6FhYgb8cKaPQSlDiV-VpPI-TVmdgwc",authDomain:"crucial-binder-166413.firebaseapp.com",projectId:"crucial-binder-166413",storageBucket:"crucial-binder-166413.appspot.com",messagingSenderId:"251134816734",appId:"1:251134816734:web:a4ee50fbcb52d6c0176d4f",measurementId:"G-DFQWV78HE0"},U2=Vw(j2),os=zD();V2(U2);is(os,"documents");const Mv=xm(is(os,"documents")),B2="E77TDAP2ZW",$2="2016061c4660d6ecc71016602c36e34e",z2=hT(B2,$2),q2=z2.initIndex("asu-mecha");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Eo=function(){return Eo=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Eo.apply(this,arguments)},dT=function(t){return{loading:t==null,value:t}},W2=function(){return function(t,e){switch(e.type){case"error":return Eo(Eo({},t),{error:e.error,loading:!1,value:void 0});case"reset":return dT(e.defaultValue);case"value":return Eo(Eo({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},H2=function(t){var e=t?t():void 0,n=L.useReducer(W2(),dT(e)),r=n[0],i=n[1],o=L.useCallback(function(){var l=t?t():void 0;i({type:"reset",defaultValue:l})},[t]),s=L.useCallback(function(l){i({type:"error",error:l})},[]),a=L.useCallback(function(l){i({type:"value",value:l})},[]);return L.useMemo(function(){return{error:r.error,loading:r.loading,reset:o,setError:s,setValue:a,value:r.value}},[r.error,r.loading,o,s,a,r.value])},G2=function(t,e,n){var r=L.useRef(t);return L.useEffect(function(){e(t,r.current)||(r.current=t,n&&n())}),r},Q2=function(t,e){var n=!t&&!e,r=!!t&&!!e&&BD(t,e);return n||r},K2=function(t,e){return G2(t,Q2,e)},Y2=function(t,e){var n=H2(),r=n.error,i=n.loading,o=n.reset,s=n.setError,a=n.setValue,l=n.value,u=K2(t,o);return L.useEffect(function(){if(!u.current){a(void 0);return}var c=e?.snapshotListenOptions?xv(u.current,e.snapshotListenOptions,a,s):xv(u.current,a,s);return function(){c()}},[u.current]),[l,i,r]},fT=function(t,e){var n=Y2(t,e),r=n[0],i=n[1],o=n[2],s=J2(r,e?.snapshotOptions,e?.initialValue);return[s,i,o,r]},J2=function(t,e,n){return L.useMemo(function(){var r;return(r=t?.docs.map(function(i){return i.data(e)}))!==null&&r!==void 0?r:n},[t,e])};function Mn(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Bi(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const pT=6048e5,X2=864e5;let Z2={};function Qc(){return Z2}function Ba(t,e){const n=Qc(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Mn(t),o=i.getDay(),s=(o<r?7:0)+o-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function Xu(t){return Ba(t,{weekStartsOn:1})}function mT(t){const e=Mn(t),n=e.getFullYear(),r=Bi(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Xu(r),o=Bi(t,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const s=Xu(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function Lv(t){const e=Mn(t);return e.setHours(0,0,0,0),e}function Fv(t){const e=Mn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function eN(t,e){const n=Lv(t),r=Lv(e),i=+n-Fv(n),o=+r-Fv(r);return Math.round((i-o)/X2)}function tN(t){const e=mT(t),n=Bi(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Xu(n)}function nN(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function rN(t){if(!nN(t)&&typeof t!="number")return!1;const e=Mn(t);return!isNaN(Number(e))}function iN(t){const e=Mn(t),n=Bi(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const oN={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},sN=(t,e,n)=>{let r;const i=oN[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function od(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const aN={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},lN={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},uN={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cN={date:od({formats:aN,defaultWidth:"full"}),time:od({formats:lN,defaultWidth:"full"}),dateTime:od({formats:uN,defaultWidth:"full"})},hN={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},dN=(t,e,n,r)=>hN[t];function Os(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,a=n?.width?String(n.width):s;i=t.formattingValues[a]||t.formattingValues[s]}else{const s=t.defaultWidth,a=n?.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[s]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const fN={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},pN={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},mN={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},gN={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},yN={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},vN={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},_N=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},wN={ordinalNumber:_N,era:Os({values:fN,defaultWidth:"wide"}),quarter:Os({values:pN,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Os({values:mN,defaultWidth:"wide"}),day:Os({values:gN,defaultWidth:"wide"}),dayPeriod:Os({values:yN,defaultWidth:"wide",formattingValues:vN,defaultFormattingWidth:"wide"})};function Vs(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const s=o[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?TN(a,h=>h.test(s)):EN(a,h=>h.test(s));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const c=e.slice(s.length);return{value:u,rest:c}}}function EN(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function TN(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function IN(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let s=t.valueCallback?t.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;const a=e.slice(i.length);return{value:s,rest:a}}}const SN=/^(\d+)(th|st|nd|rd)?/i,AN=/\d+/i,RN={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},PN={any:[/^b/i,/^(a|c)/i]},CN={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},xN={any:[/1/i,/2/i,/3/i,/4/i]},kN={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},DN={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},NN={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ON={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},VN={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},MN={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},LN={ordinalNumber:IN({matchPattern:SN,parsePattern:AN,valueCallback:t=>parseInt(t,10)}),era:Vs({matchPatterns:RN,defaultMatchWidth:"wide",parsePatterns:PN,defaultParseWidth:"any"}),quarter:Vs({matchPatterns:CN,defaultMatchWidth:"wide",parsePatterns:xN,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Vs({matchPatterns:kN,defaultMatchWidth:"wide",parsePatterns:DN,defaultParseWidth:"any"}),day:Vs({matchPatterns:NN,defaultMatchWidth:"wide",parsePatterns:ON,defaultParseWidth:"any"}),dayPeriod:Vs({matchPatterns:VN,defaultMatchWidth:"any",parsePatterns:MN,defaultParseWidth:"any"})},FN={code:"en-US",formatDistance:sN,formatLong:cN,formatRelative:dN,localize:wN,match:LN,options:{weekStartsOn:0,firstWeekContainsDate:1}};function bN(t){const e=Mn(t);return eN(e,iN(e))+1}function jN(t){const e=Mn(t),n=+Xu(e)-+tN(e);return Math.round(n/pT)+1}function gT(t,e){const n=Mn(t),r=n.getFullYear(),i=Qc(),o=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,s=Bi(t,0);s.setFullYear(r+1,0,o),s.setHours(0,0,0,0);const a=Ba(s,e),l=Bi(t,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const u=Ba(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function UN(t,e){const n=Qc(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=gT(t,e),o=Bi(t,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),Ba(o,e)}function BN(t,e){const n=Mn(t),r=+Ba(n,e)-+UN(n,e);return Math.round(r/pT)+1}function Pe(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const xr={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Pe(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Pe(n+1,2)},d(t,e){return Pe(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Pe(t.getHours()%12||12,e.length)},H(t,e){return Pe(t.getHours(),e.length)},m(t,e){return Pe(t.getMinutes(),e.length)},s(t,e){return Pe(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Pe(i,e.length)}},eo={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},bv={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return xr.y(t,e)},Y:function(t,e,n,r){const i=gT(t,r),o=i>0?i:1-i;if(e==="YY"){const s=o%100;return Pe(s,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):Pe(o,e.length)},R:function(t,e){const n=mT(t);return Pe(n,e.length)},u:function(t,e){const n=t.getFullYear();return Pe(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Pe(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Pe(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return xr.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Pe(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=BN(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Pe(i,e.length)},I:function(t,e,n){const r=jN(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Pe(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):xr.d(t,e)},D:function(t,e,n){const r=bN(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Pe(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Pe(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Pe(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Pe(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=eo.noon:r===0?i=eo.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=eo.evening:r>=12?i=eo.afternoon:r>=4?i=eo.morning:i=eo.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return xr.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):xr.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Pe(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Pe(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):xr.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):xr.s(t,e)},S:function(t,e){return xr.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Uv(r);case"XXXX":case"XX":return yi(r);case"XXXXX":case"XXX":default:return yi(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return Uv(r);case"xxxx":case"xx":return yi(r);case"xxxxx":case"xxx":default:return yi(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+jv(r,":");case"OOOO":default:return"GMT"+yi(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+jv(r,":");case"zzzz":default:return"GMT"+yi(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Pe(r,e.length)},T:function(t,e,n){const r=t.getTime();return Pe(r,e.length)}};function jv(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+e+Pe(o,2)}function Uv(t,e){return t%60===0?(t>0?"-":"+")+Pe(Math.abs(t)/60,2):yi(t,e)}function yi(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Pe(Math.trunc(r/60),2),o=Pe(r%60,2);return n+i+e+o}const Bv=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},yT=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},$N=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return Bv(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",Bv(r,e)).replace("{{time}}",yT(i,e))},zN={p:yT,P:$N},qN=/^D+$/,WN=/^Y+$/,HN=["D","DD","YY","YYYY"];function GN(t){return qN.test(t)}function QN(t){return WN.test(t)}function KN(t,e,n){const r=YN(t,e,n);if(console.warn(r),HN.includes(t))throw new RangeError(r)}function YN(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const JN=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,XN=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ZN=/^'([^]*?)'?$/,eO=/''/g,tO=/[a-zA-Z]/;function nO(t,e,n){const r=Qc(),i=n?.locale??r.locale??FN,o=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,s=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Mn(t);if(!rN(a))throw new RangeError("Invalid time value");let l=e.match(XN).map(c=>{const h=c[0];if(h==="p"||h==="P"){const f=zN[h];return f(c,i.formatLong)}return c}).join("").match(JN).map(c=>{if(c==="''")return{isToken:!1,value:"'"};const h=c[0];if(h==="'")return{isToken:!1,value:rO(c)};if(bv[h])return{isToken:!0,value:c};if(h.match(tO))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:c}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const u={firstWeekContainsDate:o,weekStartsOn:s,locale:i};return l.map(c=>{if(!c.isToken)return c.value;const h=c.value;(!n?.useAdditionalWeekYearTokens&&QN(h)||!n?.useAdditionalDayOfYearTokens&&GN(h))&&KN(h,e,String(t));const f=bv[h[0]];return f(a,h,i.localize,u)}).join("")}function rO(t){const e=t.match(ZN);return e?e[1].replace(eO,"'"):t}function vT(t){const{CourseCode:e,CourseName:n,CreatedAt:r,Title:i,fileID:o,URL:s}=t.doc,a="https://drive.google.com/thumbnail?sz=w130&id="+o,l=new Image;return l.src=a,l.onload=()=>{console.log("Image loaded")},R.jsxs("a",{target:"_blank",rel:"noreferrer",className:"preview",href:s,children:[R.jsx("div",{className:"aspectwrapper",children:R.jsx("img",{src:a,alt:i})}),R.jsxs("div",{className:"overlay",children:[R.jsx("h2",{className:"title",children:i}),R.jsx("h2",{className:"course",children:"Course: "+e+"-"+n}),R.jsx("h2",{className:"date",children:"Uploaded: "+nO(r.toDate(),"MMM dd, yyyy hh:mm")})]})]})}const _T="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGkAAABpCAYAAAA5gg06AAAAAXNSR0IArs4c6QAACIlJREFUeAHtnWlsVUUUx7unhaba1oJ0sS1tEFxARMUYKSHAB6xiIogQxQgSNS5gokZjkAAaDZomEJdEUARCZIlxQUiIyyeCMSYogkqUUmppFWygfcgiXai/MZ3kpbz3vMvM3To3uZl7586cOef/nzMzd+7Me2lp5jAIGAQMAgYBg4BBwCBgEDAIGAQMAgYBg4BBwCBgEDAIGASCiEBmEJVKpVNNTc2MoqKieYWFhec7Ojr+SJU2Ks/Sw2BIbW3tNX19fQvT09MfRN8SqXNvb+/oo0eP/irvoxpmBdmwkSNHToOYp9GxnvASVTMzM28h0pB0CTIeROA5k/GcBoiZkKw4nse6u7t3JnsepfhAeVJ1dXUl3tEAwLMSec4A4Je2tLR0DIiL5O2lbYhPZjIgWAoxL1spHi86eOTIkbFW0kYhje+eVFlZWZ2dnf0hYN5qA9AlNtKGPqmvnkTzNpvmbQMoDrWB5P7GxsbxNtKHPmmGXxYwcluQkZGxnfLtEJRGU/eOXzr7Va4vJEHQEghaTx9ky5Mh6NyFCxc2+wWWX+V6ThIDhJcgaLVDgze1traed5g3tNk8HTjw/vMESK10ihae9JXTvGHO55knQdAigHrLJViGJJcAJs1OHzQVL1ibNIGFB+Q/0NTUFLOQNHJJtDd3EHQVfdDHIGdrkDAQaUjaMzBusNzrbu6yGMB9ApgFCgBtVCAjlCK0ksRIbjkk3agCGeQ0q5ATRhnaSKKZGwWwz6sChW9HhiRVYEo59ENioKCsz+vq6mqVsgdbqMWTGG7fC5CTVYKZlZXVq1JemGTpIEmM4lapBqGnpyd06zFUYaCcJPqih1CuWpWCUk5eXp5yXaXsoIfKDWewsEyH0UysZuuQGwaZSkliyD0Fkqp0GJ6Tk6PcO3XoqUOmUpIg6AEdSgqZyK7VJTvoclWSJIbbczQabEhyCy7D7juQke9WTrL8eNKoZM+iHq/Mk5gArdcJFvKn65QfZNnKSKKm36nTUORfjrcqmQfUqacO2UpIYlnWGJQr1aFgvEy8aVr8/WC5VkISUzZiTbb2A2/S2qRqN8BhAUpIouzrHZZvN1sda/XG2c0U9vRKSKKGe0VSGrPrz4QddLv6KyGJvkL0SZ4cVIj5FRUV2vs/T4yxWIgSkgCuwmJ5SpKxdvxFJYJCIiTdrZ4Mi8X6BU9X8eC5fZQ5lp0VP7nVPwz5XXsSX0yv8NpQPFdUrg+8Ltev8lyTxK4IbVNBqUCBp5v4dvVYqjRReaaCJN8+a0NUA0Pyq6NCRjI7XJN08eLF7mTCdcdD0hA8edfw4cNtbZ/RrZdq+a5JYqmVbyT1g1GTn5+/TTUwQZLnmiR2gP/tt0F4VD3906t+66GrfNdDcKEYn83PiqZHl5I25K5nq+Yi0oshemQO157Uj8SxgCCykAqzq7y8PC8g+ihRQwlJeFGzEm0UCEGXGbm5uXt5ya5RIE6pCJrkevT6gor0hp2KpIQkJgCC9uY/Hp0OAsoCpSg7FCbmGiHnIyaHdyJiOhXpWSrS21bFqSLpG6sFepUOIPIAZT21dktpaannsyLSTspfzHI0sW1nlowTIZXoyvj7VNdKSOJdKXAkSaMhay6rX48B1hpqc7mM1x1S1hzKPED5a0SFSVDe3gRxCaOUjO6EZJRqIqhOWEqAIqnBGwDtXUaB3+pQCxzmU4b4CZ5RqeTzfjmRn4H7LlUa+UwZSaKmothiKTjoIUD+ho7vc25gNv0vp/qWlJTkFxQU3IztE5H5OOH/frYhXSdlFlotUxlJdNK30weEcl8roB0G3B8J94sT8ARpMa5j1PYT2HYZNb+UtRwjSFdG816KrdfxXJBje+6QfNsh6T7PSRIF4uonCYqsFj5Y00H4TMj/3Kr9SgYOcYVtirs2l4kRaLNDkBChlCQ2eq1CZldi3UxsPwKiH7R1KCWpubn5OO31OlsaDLLE9Efv2TVZKUmicEh6hcB4UwImIGgdAwbb85yZCWS5iurs7DzDb3bnMuqpcyUoYpkh6B8wuevUqVPn7Jqm3JOEAtSWlShlu8bYVT5M6SFoNS/Q7U501kISiojm7lEnCkU0jyDnNae2KW/upCL8RUEjzd44atAYGTdYQ1qVh2ldvndqvy5P+k8fCBLTRGedKheRfDsgaJsbW7SSRBvcSi2azRmpz9lWAcdssbJXfM53dWhr7qRWotkrLi4WK4qmyrjBEkLS/XjRPrf2aidJKMiwcw/90w00f6PdKhyW/LwvvsAvXdp+cU1kn9bmLr5AJhXncf9DfFxUr/GgjRAkpsiUHMo+VVjRpqysrJivpF+TNsq79XbQF99tBQ+raTzzJKFQW1vbSZqBydQ01+20VQO9TIddWyHoHtVleupJUnkWhgzBo3bTR02ScWEPIUjMyz2iww5fSJKG8JHwM65nyvsQh8vxoBW69PdkdJdMeUZ9Wxn1HcejppAmJ1m6oMbjPb9zTseDtujU0VdPkoaJ/1Bi/cBmyLpNxgU9hJyNp0+ffrK9vf2Mbl0DQZI0khVHz3G9ErJyZVwAw0MMfp5iiC1GqZ4cgSJJWAxRw6ily1iNIzrhwPxaJDrFqDwr6HveRK8eoatXR+BIkob3N4HLAUb8t6yfh9h/Jf5YqwGCHH0Pcqt8YEmShlVVVY1my+UC7udD2AgZrzvEc05Q3uuxWGytF/1OKnsCT1K88mxiroOwuQA4FwAtrwCNl5HqGrl/8nwH525GbJ+mSuvls1CRFA8MfdcEQJ0EWXWc4qXY1s4J8op/NDtE3l8YCOyjD/yS5uzn+DKCch1akgYCyIvxtcTVAr7YUjIM8EeIa8Kh3LdxtnDfxn0LPxBymD8SFhsMzGEQMAgYBAwCBgGDgEHAIGAQMAgYBAwCBgGDgEHAIGAQMAgYBAwCBgGDgEHAIJAagX8B0ZRLy7UYZB4AAAAASUVORK5CYII=",wT="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGkAAABpCAYAAAA5gg06AAAAAXNSR0IArs4c6QAACOlJREFUeAHtXO2R2zYU9GXy3+ogdAVhKjA6iFyBmQp8HVipwOrA6sByBZQrsDoQXcHJFTi7ZzKDg/BNgBLOeDPvSOJj3759BI4nau7Fi2pVgapAVaAqUBWoClQFqgJVgarAggrcLRgre6gfP36sEOT1GOjL3d3dOXvQGsBfARSohT/AJ+N5649QR2ZXAAXpp+pIxz574BrATwEURUiFUU+FH0odlVUBVKVXKyNd19WUVX0PcBTDtoqmWgkPqDoklwKoQj9VwnKsqylXAVy4KIrPKppqJ1x4tT+DAlC/nyrgcayrKUMNrJAoSsgqmmoorKC1M60CUL2flA841tWUtgxmNBQlZhVNtRRm5F+sB4qs4K/hTerUgdnDYy35agKRBv4azs8OyzCQ7eDy52hfcf0O3szNABhzVhGmP5pIwIOFYU7MbbIHnHRzsbPPB0mSJ1mTMal38CaGDOb18LkWtZoQVFcYlQtzv+0VBYIhd3pQwQKxVfHUa+Fzk2CST2GisH3iZxkDtiFFkpNzFgyDe3nCzHPjagJuTGFkOl43QJYC+IKC7VlmHHF+UTBgxBbfFv5/MTFobmGmOGW8aATb3cQ4wXEqWJ8AS4Ug5js4Y6Syne/N7Dsuy+tzZLsGgU++JJ7ZuDd4bb9PmVOWIpEgCsVl/zIl2QKwvqNAq9Q8f0sNKOElvZsk3Fs+zZJzLVLakmcpUrbtjrln3vK+IwRFOcAH+FH9Chfir9Dewhu4gK/hubbgLFsd+OY1iJTyKQ9wj7bFTwofZZgr4Dl47aIIXXsSxFjDUxmFbVLlRCx4ymJxlZZpEGLuH7aHlMVRVRyLxRhz7KziFnWNzOfcrdulkgVPbqOxtsvJ8/ec4CP2Hse3EXH+wYPAzmcelG0xjg8EQhl/wDV/oR+V9otLjLkHDsd9vOh0NzDHsg3Jh2x5HEvRrYYxAv4BfoK77IQBHCusoOjEmBYexNeFWUQ/kg7Z8jpbUqOIPY6x1mNi44jRBYDvbFjF9CHhtWfSW1tSwOBqSGUfHLG2noHWNpyi+pCwawsx7uuYu4L38NTWA3BlEhJ9e0fAs2luke1I1rXlNbrEKCI85asEVXdiawuF9kYdrFzvdJyLbENiAm4TemNKzDFP0Sz60vaWdmtBZU7CxL2IdiYA7+E2O6PTdCd/tE1M3LfViUpucHK0WY/OsopFwnAS97GNQRxiLG1aoUFi40mkxzgthi7Hq7SRIJxEQ6zRkQVAHwKSaKx22wN2G4jfY7zQ5XW1NhKCk1ioDTrSAFmHAiUcLwychogYPeZo8XQxTG2zXvqRAJx3H12Yglja94a+taF9iebOEMTE1TD8sVngJwtF5/lyxoBjYBxmmdCxBuLDLNR5kx8MnFKs7h7UtDnrYka1MQCcgVLZSiUCYMa4tl0ICUKrhKR6YF3EULWYrr22OwDyF+ecbW2K9+SIT57PTxp+XghN29JNFxwMXGN5EZ+ForcuEOerCoDwbmeBLu56F7ijn99R+NVNQAAW6pXtJvBZSR2AUhcIkC+O/KGxRtO2dJOJw5cMRKhtZ8P1KVKOAtk4LR1Px2VpDtZ4PkXa6bJI0PaHAeNoaF+y2cThz0wkdjZcZ5GwVw4AeANP/TukAWZpZr3jI5Khpvzu+GCb6ywSJwNkj0MD/xeeuliAfGKmu/jJoMwXFxzGB6hUYakhtWxGbVPh/sQhWfgGfobPNaGyA2DKv0di+V2sGACl+PuNmlG7C3xVB/naayXJE1D5M3yDtgY+d2UJYDwx4qPh85PGZS8+jxzUqEJtCLiWV87GgB8AFziUd8V4d8SsrK+6cMDr4NeyzsDJ9tLSxDVq5ejiJ2kDy9hiaZc+8AZT5hnbB50YiNcExryt4qhJIZnQYnUqBq+Bc43VNJfLbRdHFTqgWCd17nQNjAN8KTtMcdUjCJwcJMoqjiZBn5V1r87jNYTh3MEhUIpuxjBtuxtLgLKLo4qORLeWZPn+yCRSiz6KkcuI3ap8pZvE9m5Le3PpsIpogxAnh8pbUyIUEZ6jUFxB2gKNRdo6OGufTk153HT7KLIj38fuzpQIelfwow+I5xhirSzxOk+cxoRRVDuSdd2Rkx7cWox3NpNGP8XjCog1zu1sAqK/hdu2OTn2vQ2rmD5kdJKzcpxzrPEOZ9Lsh9/Dj3Bf41jO8cH2LRBjZ9/y7nJXGklwZYQmMmAOPx0+uvgBv8GYNZziMxaPtDP8OB73wBpwbrWR6ycMaqwDLztf+eBfTruRFiS+hccY7+ZuqTQYCx6yguSc7pfimSUOMjnJ2UScv89CTAIFp/cRvOQpoTuFFP3Kp8iilTOZcX7C3Lep0yEm/ARPYU1qfovgIfPYrc4k2gkds4qF+StiwE/wlJZty8v64AAF+LlcrjtsD+wDnO9/BhyNBh4NOv+GC/gansP4b3P+ygGcrUgQpgXhJffqAfHosjW4oC9lWZ7ynF+OnJFdN2NuzNQGk+jXNK7SbWoCOVdSzq0utQ6p8LJsecHfcfDJZtzqGp+xz2wMn2aT552lSBC+Syw+v5jCL3Oktm8AJHZKy/VgkpLj42drJ9xRc20PAH4KsCI7HDdzATXzuxGbj+WMxZhzbcmHJdIPN2TIJR9rTwojRwcghTzHAmvmDTL+dD7GmVuwZsK7ySOSFBpBbE3GwqgJAiTlaupUfPUa8XhjxBRMqFg3dY2kWrjLvAsjJwdQinZ2gXv0DzKuz/kY27dgjQ/mVccgoa1GqKjCqIkAN8Vq6lTckGtHwe5DsHzG5vw7qQUBPukc4Qd8ZHL2IeQaQ4EwZoC/dI019H8Dl8bQF9w88mGexOR7K+ZbbeZq6qqCCygwbjcxv5uGBeglD5Hrj9nkRGXAcevcym2e5xvPcXVYCgUiVtOQIu41MIpcSRQqYjVtriHwLx8zYDUNJYtV7Eqi6AGraVNykYrn7rGahuKTfA4JoFC2TyG655Bj8TlYVtNQfHLPKQEUag1XjR/XFG/ZPru7hjKokEBcOm2HB4vh8az+qApUBaoCVYGqQFWgKlAVqApUBaoCVYFnpcB/RUg2S4CIBygAAAAASUVORK5CYII=",iO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAAAAXNSR0IArs4c6QAAA7RJREFUaAXtmEloFFEQhmc8uaEmLolrPERE4sX1KEJAIeBCNERckCCIehBPCh4ED4J4cTkIKirmJCKCiGgQDMRDPAQDrhjFxDVGTXIwrqjxK+yR2FP1epkeM4gFPz39v6q//nkz3f1ep1MRor+/fwbp1WAJmAiKQQnoA90e7nG8CK6k0+mPHAcvMLwR3AFR4wwF0/66c5pWgftR3Sr5J+Dk18l/0Ggn+KGYiEs9onBKXp3T4GhcdwF1rxifmYT5tF8E4X1wu/287/w253IBPgXPwSggszkHyMU7EljRxcB8LtwXVkJkHtNrAmbsJOOzgoTJWQ8eO7RagjRCj9OkAnwymskFWh5azEukZpehJ/SpqHpqPkKNoqbEDbjRalEIktpaRTNDLQwhYaegsiKj5Ds2cz7Mrgw3gkY1+O7TltPmcApGFgItiugbuDFGSWQarb1KD6EqI4tJAYWlhuD2WIJGET2Gg26l1xGjxE0jtE0R63VXxRulzx6lV3sctSEULVUKLytcEtQlRWQ6XybyHUuMT1XEGhQuZ4qHTisi7xQhWXVGCjEuy1J/JPdU8yunUm3ZVKpM4ZyUGJ+kZMjaOl/RoQhHXnyJce1ClLVHvmKEIvxF4ZyUGH+tZExWuKQobXY1D85+YrxTyZircDlT3D2GIjJPEXqpcE5KjD9QMpYpXBKU7FW1uKmRTo5ZqFQeCkJpM+PUChpE84LSK/4SF7EeRTDRezn6C5QeQsnGJV5QfMgQXR1PMbsK/VtGD+12nC2gMQiWAG0T8QF+tlYThUPjLNDicBQdNRfVA5oyXBeQvWSsoPa4odsLPz6W6MAiRIrAQ6PJe/i6gflBn8kvBw2GntA1QRqhxxErA53ACtkAbwZFlihji8Bp4IprVn1YXns9UUFxIwj6GZvIkdcTsiCTPak8EeUWGuap+5m8g+AraGLVeJ1j7sFUyc/c4ZqymGNXjbqq3F17CjSQLZ22FzV6B9KbRJoseRGqxfLEzHuN1tGlXesUkqsn7/cOh8/HHHUrEzXvfQF5P3IO9DkaZ4Za+bAfZG0Q4FZlkoyjvMILjKyLM7CCBBou5jABjAXFQF7gvwWy0mzlYuvhaAb1GxisNxNSqRo0zjvGB28I82uB9Rr7G2PJ/22S+rqYq/uXzdcmNVGJ6wTMvPyd/ptPfNZF0Jt5DmrIzMvdqDADc1tU27/Igje/1WH+bmFOuefKmPk2+HEFbVzM+cw/4by04E1nDGJ2B3gGtLfKmbTCPGJaNip/xE+n1KTrzKWnrAAAAABJRU5ErkJggg==",oO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAAAAXNSR0IArs4c6QAABcJJREFUaAXNmltoHFUYx93dXMSVFrIx3iLNbRNKfamtUsFq+2AUL2ltWlu0aiu+6LNYEAQfqrZSEOtdvGBUqihqkFYKrULpQ8GElpSSNtlk0zWmqTUxhWTJPf6+dWeZOXNmZ2Z3Y/bAZOb7n+/yn2/OnPOd2QSu8dHq6uqipaWlWxYWFpoxu5mjIhAI3Mh5nGNEDvrOcbRPTEz8MjQ0lARblBbw4rWxsfEZCL6I7u1e9A0dbqBtdnb2lf7+/oSBFeqclTiEHyLQAUivzCcgN/BJMpncMzg4OJqPH7OtI/GmpqaXCLgP0o46Zkdu1/iKzc/Pb4zFYoNuul76taQg/T7Gz3tx4FPnEvobL9B82tnUbcQZHq+R5JdtmiaA7HVxtAeDwYtzc3N/0LUsFApVg63Gdgvy9SZ1yyU6l8n82nwzbyEO6R0EPmSJZBU+I+iB3t7ebitslXhiOyH4Kr7qrT0ZqZOkr81IOVxkiDc0NKwigx0Eu1b1A4luMtvS19cXU/uyydzAHvr3Oeh8DvlnHfpc4aChwaN+14H0Saa0u/2SFr8Q289N7zBiKOfdPOG7FMyzmCJOZjZhsUG1IugpprFm5uGrap9Xuaen51uGVyu+5jU2b2swT1BItCorK7/mdIvZgkBXpqen1yUSCVkV82qjo6PdkUgkxBO9z+wIuRr85MjISNyMe7kO1tTU3ITiGlUZ4nsHBgbGVDxXeXx8fD+2ugVInrbvFiwrK5Ppy9IgPcbMcdAC5ilI3YJf29Ag64/m4jqI4QOqIdhhFSuEzFj/WeOnpr6+vkGDZ4WCZOE2VQPsqIoVQmbROY3vv1VfzGhRFXOTJeNSlloaWEHqCYvTtIDvHhXnZlaomJss06FlNkkbSG29WG1AdczCV61ibrIQ/0dVIgPLVKxQMr7DGl9TGiwrJGN8WKNxqwYrCMRQsWXXgUPWeJJxKTUtDed3WIACCawZUgfZ1gywP/2GEOK2So8M5DS3ugUvLy+XvaqtUVacsoEugBD/UdUh4yuZW3WZUVV9ySRkl8agM5ctXZAi6DjObC9oSUnJ65ogOUNUgneSkMdUB9xMTmuGZFxa238ny99mavStFiQ/4SOdOTfzng53w1LEqQLf4M4nVWVWtC8YMr4+Sag+RCbb30BwtabvIDX7kAZ3hVLE4/H4ZRy/o9G+DvLHybwuqEbdDkH6Y3xvV3tI1Bi7qr0q7lVO1eOiHA6HO/hKJWMwYjYmaJiV7cmKioph6uoz5r5s11I4VVVVHcL+cZ0e+NNUoL/r+rxgmT2nKNfW1q6gzJWpSWp0WyNLfYBvTk5OfscGw/ZCi0E0Gr0XUrs5domsa/g5xqRwv67PK2YhLkbpTfNvBL4hmxOCn6D/IocUZMvRl88Tazi7rrroyfv0Fsc0+icY579y7avZiIu1PGamw2Nc+q7aXKLL1Ger/7mRh3kCR1xsLd2pl9OCIMiOfmpqah2XnWpfHvJzZPZBSLapPsj6YTbsLSqeTdYSFwP2m8MEko82O0XkyKlB9Es+b0Tx9WnagW3aTePtzECbvQbRDhWdMU63k5lW+uQLrq40zZhBVmafozMzMx8w1cp7kGm8vK3MUt9nAOVCPmUw2/ygwDbRM3GzJS/wBub3KrAIgeTjfpLjCoQvUTCddqs9SMJT6NuGjBGD+X0b2zzHmxO9nIgbAfI5k/knIP8Vh40DCZjD91Ze2J+cYmQWICeFxcJZzM6yqCXw36KSR5Z3bxsfi7r4WHRex2HJiAsZWYk9kL8A+XMq+SUl7pF8K5k/r5JfcuIeyMs7YCNfFMTN5Bnfm0Q2t/Q7IOT7yXyX9BUNcSGTHvNSYj8isrmlyW82yDuunGaj//OaxedD4r2gi5kmL79yFFfGDbIMhw5mG13me9FZT3+yqIaKQVzODBsLeRalOFvMeygA/5L+oiVukOfXkquQXkUZsJ66J6f9qfhaksY/PyxXA/8LlLBDAO1jtCgAAAAASUVORK5CYII=",sO="E77TDAP2ZW",aO="8761a5cbc3b094847852417488c43f3b",lO=hT(sO,aO),uO=lO.initIndex("asu-mecha");function jm(t){var e=t.navbar,n=t.theme;const[r,i]=L.useState([]),[o,s]=L.useState("");return L.useEffect(()=>{uO.search(o).then(({hits:a})=>{i(a)})},[o]),R.jsxs("div",{className:"searchbar "+e,children:[R.jsx("input",{type:"search",value:o,onChange:a=>s(a.target.value),placeholder:"Search"}),o.length>0&&R.jsx("ul",{children:r.map(a=>R.jsx("li",{className:"search-result",dangerouslySetInnerHTML:{__html:a._highlightResult.Title.value}},a.objectID))}),R.jsx("img",{src:n=="light"?iO:oO,alt:"search"})]})}const Um=({theme:t,setTheme:e})=>{const[n,r]=L.useState(!1),i=()=>{window.scrollY>=250?r(!0):r(!1)};return window.addEventListener("scroll",i),R.jsxs("div",{className:"nav-container",children:[R.jsx(hO,{theme:t,setTheme:e,navbar:n}),R.jsx(dO,{theme:t,setTheme:e,navbar:n})]})},cO=({theme:t,setTheme:e})=>{const n=()=>{e(t==="light"?"dark":"light")},r=()=>{const i=document.querySelector(".sidebar");i.style.display="none"};return R.jsxs("ul",{className:"sidebar",children:[R.jsxs("div",{className:"toolbar",children:[R.jsx("li",{className:"sidebar-item",onClick:()=>r(),children:R.jsx("a",{children:R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"26",viewBox:"0 -960 960 960",width:"26",fill:t=="light"?"black":"white",children:R.jsx("path",{d:"m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"})})})}),R.jsx("img",{onClick:()=>n(),src:t=="light"?_T:wT,alt:"toggle",className:"toggle"})]}),R.jsx("li",{className:"sidebar-item",children:R.jsx("a",{href:"/#",children:"Home"})}),R.jsx("li",{className:"sidebar-item",children:R.jsx("a",{href:"/#/courses",children:"Courses"})}),R.jsx("li",{className:"sidebar-item",children:R.jsx("a",{href:"/#/feedback",children:"Feedback"})}),R.jsx("li",{className:"sidebar-item",children:R.jsx("a",{children:"Login"})}),R.jsx("li",{className:"sidebar-item",children:R.jsx("a",{href:"/#/upload",children:"Upload"})})]})},hO=({theme:t,setTheme:e,navbar:n})=>{const r=()=>{e(t==="light"?"dark":"light")};return R.jsxs("div",{children:[R.jsxs("nav",{className:"navbar desktop "+n,children:[R.jsx("li",{className:"logo",onClick:()=>window.location.href="/",children:R.jsx("h1",{children:"ASU MECHA"})}),R.jsx(jm,{navbar:n,theme:t}),R.jsxs("ul",{children:[R.jsx("li",{children:R.jsx("a",{href:"/#",children:"Home"})}),R.jsx("li",{children:R.jsx("a",{href:"/#/courses",children:"Courses"})}),R.jsx("li",{children:R.jsx("a",{href:"/#/feedback",children:"Feedback"})}),R.jsx("li",{children:R.jsx("a",{href:"/#/upload",children:"Upload"})})]}),R.jsx("img",{onClick:()=>r(),src:t=="light"?_T:wT,alt:"toggle",className:"toggle"})]}),R.jsx("div",{className:"spacer"})]})},dO=({theme:t,setTheme:e,navbar:n})=>{const r=()=>{const i=document.querySelector(".sidebar");i.style.display="flex"};return R.jsxs(R.Fragment,{children:[R.jsx(cO,{theme:t,setTheme:e}),R.jsx("div",{children:R.jsxs("nav",{className:"navbar mobile "+n,children:[R.jsx("li",{className:"logo",onClick:()=>window.location.href="/",children:R.jsx("h1",{children:"ASU MECHA"})}),R.jsx(jm,{navbar:n,theme:t}),R.jsx("li",{onClick:()=>r(),className:"menu-button",children:R.jsx("a",{children:R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"26",viewBox:"0 -960 960 960",width:"26",fill:t=="light"?"black":"white",children:R.jsx("path",{d:"M120-240v-80h720v80H120Zm0-200v-80h720v80H120Zm0-200v-80h720v80H120Z"})})})}),R.jsx("div",{className:"spacer"})]})})]})},fO=t=>{let e=t.currentTheme;return R.jsxs("div",{className:"hero",children:[R.jsx("h1",{children:"ASU MECHA"}),R.jsx(jm,{navbar:!0,theme:e})]})};function pO(){let t=0;const e=is(os,"documents"),n=gi(e,e2("CreatedAt","desc")),[r]=fT(n);return R.jsx("div",{children:r&&r.map(i=>R.jsx(vT,{doc:i},t++))})}function mO(){const t=localStorage.getItem("currentTheme"),[e,n]=L.useState(t||"dark");return L.useEffect(()=>{localStorage.setItem("currentTheme",e)},[e]),R.jsx(R.Fragment,{children:R.jsxs("div",{className:"container "+e+" home",children:[R.jsx(Um,{theme:e,setTheme:n}),R.jsx(fO,{currentTheme:e}),R.jsx("h1",{className:"title",children:"Recently Uploaded"}),R.jsx(pO,{})]})})}const gO="Spring",yO="Junior",vO="2024",_O=[{grade:"Junior",Semesters:[{semester:"Spring",Courses:[{courseCode:"MDP251",courseName:"Casting and Welding"},{courseCode:"MDP231",courseName:"Engineering Economy"},{courseCode:"MDP232",courseName:"Industrial Project Management"},{courseCode:"MDP212",courseName:"Mechanics of Machines"},{courseCode:"MCT232",courseName:"Electronics for Instrumentation"},{courseCode:"MEP221",courseName:"Fluid Mechanics and Turbo-machinery"}]}]}],wO=["Lecture Recording","Lecture Slides","Lecture Notes","Tutorial Recording","Tutorial Slides","Tutorial Notes","Labs","Quizzes","Midterm Exams","Final Exams","Solutions","Sheets","Other Materials"],ot={currentSemester:gO,currentGrade:yO,currentYear:vO,Grades:_O,Category:wO};function EO(){const[t,e]=L.useState(""),[n,r]=L.useState(0),[i,o]=L.useState(!0),[s,a]=L.useState(0),l=h=>{const f=ot.Grades.findIndex(v=>v.grade===h.target.value);a(f),console.log(f)},u=h=>{const f=ot.Grades[s].Semesters.findIndex(v=>v.semester===h.target.value);r(f),console.log(f)},c=h=>{e("Uploading document..."),console.log(h.target),h.preventDefault();const f=h.target?.[1].files[0],v=h.target?.[2]?.value,A=h.target?.[6]?.value,I=A.split("-")[0],E=A.split("-")[1],y=h.target?.[3]?.value,m=h.target?.[5]?.value,w=h.target?.[4]?.value,x=h.target?.[7]?.checked,F=ot.currentYear,T=new FileReader;f&&(T.readAsDataURL(f),T.onload=function(){var D=T.result.split(",")[1],j={dataReq:{data:D,name:f.name,type:f.type,course:A,category:y,semester:m,grade:w,old:x,year:F},fname:"uploadFilesToGoogleDrive"};console.log(j),fetch("https://script.google.com/macros/s/AKfycbzXkzwvCK-6KvM2eK7jtoDiEDIYdXzvTVQzOzU3MajW-5ihGUo17JkIXI65laf1Law/exec",{method:"POST",body:JSON.stringify(j)}).then(q=>q.json()).then(q=>{const z=["and","for","but","etc."],Y={Title:v,Name:f.name,CourseName:E,CourseCode:I,Category:y,Semester:m,Grade:w,Year:F,CreatedAt:ut.now(),Type:"Document",URL:q.url,fileID:q.id,Keywords:[...v.split(" "),...E.split(" ")].filter(ct=>!z.includes(ct.toLowerCase()))};console.log(q.path),au(Mv,Y);const Fe=Mv.id;q2.saveObject({...Y,objectID:Fe});const De=xm(is(os,"Courses"),I);console.log(I),console.log(De),oT(De).then(ct=>{const Kt=ct.data();var Bt=[];try{Bt=Kt.Types,Bt.find(Ae=>Ae===y)||(Kt.Types.push(y),au(De,Kt))}catch{Bt.push(y),au(De,{Types:Bt})}}),e("Document uploaded successfully")}).catch(q=>{console.log(q),e("Error uploading document")})})};return R.jsx("div",{children:R.jsxs("form",{onSubmit:c,className:"uploadform",children:[R.jsx("label",{htmlFor:"Type",children:"Choose a Type:"}),R.jsxs("select",{name:"Type",onChange:h=>o(h.target.value==="File"),children:[R.jsx("option",{value:"File",children:"File"}),R.jsx("option",{value:"Link",children:"Link"})]}),i&&R.jsxs(R.Fragment,{children:[R.jsx("label",{htmlFor:"file",children:"Choose a File:"}),R.jsx("input",{type:"file",name:"file"})]}),!i&&R.jsxs(R.Fragment,{children:[R.jsx("label",{htmlFor:"link",children:"Enter a Link:"}),R.jsx("input",{type:"text",name:"link"})]}),R.jsx("label",{htmlFor:"title",children:"Enter a Title:"}),R.jsx("input",{type:"text",name:"title"}),R.jsx("label",{htmlFor:"category",children:"Choose a Category:"}),R.jsx("select",{name:"category",children:ot.Category.map(h=>R.jsx("option",{value:h,children:h}))}),R.jsx("label",{htmlFor:"grade",children:"Choose a Grade:"}),R.jsx("select",{name:"grade",onChange:h=>l(h),children:ot.Grades.map(h=>R.jsx("option",{value:h.grade,children:h.grade}))}),R.jsx("label",{htmlFor:"semester",children:"Choose a Semester:"}),R.jsx("select",{name:"semester",onChange:h=>u(h),children:ot.Grades[s].Semesters.map(h=>R.jsx("option",{value:h.semester,children:h.semester}))}),R.jsx("label",{htmlFor:"course",children:"Choose a Course:"}),R.jsx("select",{name:"course",children:ot.Grades[s].Semesters[n].Courses.map(h=>R.jsx("option",{value:h.courseCode+"-"+h.courseName,children:h.courseCode+" - "+h.courseName}))}),R.jsx("label",{htmlFor:"oldMaterial",children:"Old Material?"}),R.jsx("input",{type:"checkbox",name:"oldMaterial"}),R.jsx("br",{}),R.jsx("button",{type:"submit",children:"Upload"}),R.jsx("p",{children:t})]})})}function TO(){const t=localStorage.getItem("currentTheme"),[e,n]=L.useState(t||"dark");return L.useEffect(()=>{localStorage.setItem("currentTheme",e)},[e]),R.jsxs("div",{className:"container upload "+e,children:[R.jsx(Um,{theme:e,setTheme:n}),R.jsx("h1",{children:"Upload Files"}),R.jsx(EO,{})]})}async function IO(t,e,n){console.log(e);const r=xm(is(os,"Courses"),t);var i=null;try{i=await o2(r)}catch{i=await oT(r)}const o=i.data();var s=[];try{s=o.Types}catch{au(r,{Types:[]})}for(var a=[],l=0;l<ot.Category.length;l++)s.find(u=>u===ot.Category[l])&&a.push(ot.Category[l]);return n(a),a}function SO(){for(var t=[],e=[],n=[],r=0;r<ot.Grades.length;r++){const l=ot?.Grades[r]?.grade;n=[];for(var i=0;i<ot.Grades[r].Semesters.length;i++){t=[];const u=ot?.Grades[r]?.Semesters[i]?.semester;for(var o=0;o<ot.Grades[r].Semesters[i].Courses.length;o++){const c=ot?.Grades[r]?.Semesters[i]?.Courses[o].courseCode;var s=[];const[h,f]=L.useState([]);L.useEffect(()=>{IO(c,h,f)},[]);for(var a=0;a<h.length;a++)h[a]&&s.push(R.jsxs("li",{className:"TypeButton",children:[R.jsx("a",{href:"#/search?grade="+l+"&semester="+u+"&CourseCode="+c+"&Category="+h[a],children:h[a]})," "]},a));s.length===0&&(s=[R.jsx("div",{className:"EmptyCourse",children:R.jsxs("p",{children:["We don't have any content for this course",R.jsx("br",{}),"New content will be added soon."]})},a)]),t.push(R.jsxs("div",{className:"card course",children:[R.jsx("input",{type:"radio",name:"Courses",id:"c"+r+i+o+a,className:"CoursesRadio"}),R.jsxs("label",{htmlFor:"c"+r+i+o+a,children:[R.jsx("div",{className:"row",children:R.jsx("div",{className:"description",children:R.jsx("h4",{children:ot.Grades[r].Semesters[i].Courses[o].courseCode+" - "+ot.Grades[r].Semesters[i].Courses[o].courseName})})}),R.jsx("div",{className:"content",children:R.jsx("ul",{children:s})})]},"c"+r+i+o+a)]}))}n.push(R.jsxs("div",{className:"card semester",children:[R.jsx("input",{type:"radio",name:"Semesters",id:"s"+r+i,className:"SemesterRadio"}),R.jsxs("label",{htmlFor:"s"+r+i,children:[R.jsx("div",{className:"row",children:R.jsx("div",{className:"description",children:R.jsx("h3",{children:ot.Grades[r].Semesters[i].semester})})}),R.jsx("div",{className:"content",children:R.jsx("div",{className:"description",children:R.jsx("ul",{children:t})})})]},"s"+r+i)]}))}e.push(R.jsxs("div",{className:"card grade",children:[R.jsx("input",{type:"radio",name:"Grades",id:"y"+r}),R.jsxs("label",{htmlFor:"y"+r,children:[R.jsx("div",{className:"row",children:R.jsx("div",{className:"description",children:R.jsx("h2",{children:ot.Grades[r].grade})})}),R.jsx("div",{className:"content",children:R.jsx("div",{className:"description",children:R.jsx("ul",{children:n})})})]},"y"+r)]}))}return R.jsx("div",{className:"wrapper",children:R.jsx("div",{className:"card-container",children:e})})}function AO(){const t=localStorage.getItem("currentTheme"),[e,n]=L.useState(t||"dark");return L.useEffect(()=>{localStorage.setItem("currentTheme",e)},[e]),R.jsxs("div",{className:"container courses "+e,children:[R.jsx(Um,{theme:e,setTheme:n}),R.jsx("h1",{className:"Title",children:"Courses"}),R.jsx(SO,{})]})}const ET="%[a-f0-9]{2}",$v=new RegExp("("+ET+")|([^%]+?)","gi"),zv=new RegExp("("+ET+")+","gi");function Ff(t,e){try{return[decodeURIComponent(t.join(""))]}catch{}if(t.length===1)return t;e=e||1;const n=t.slice(0,e),r=t.slice(e);return Array.prototype.concat.call([],Ff(n),Ff(r))}function RO(t){try{return decodeURIComponent(t)}catch{let e=t.match($v)||[];for(let n=1;n<e.length;n++)t=Ff(e,n).join(""),e=t.match($v)||[];return t}}function PO(t){const e={"%FE%FF":"","%FF%FE":""};let n=zv.exec(t);for(;n;){try{e[n[0]]=decodeURIComponent(n[0])}catch{const i=RO(n[0]);i!==n[0]&&(e[n[0]]=i)}n=zv.exec(t)}e["%C2"]="";const r=Object.keys(e);for(const i of r)t=t.replace(new RegExp(i,"g"),e[i]);return t}function CO(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return decodeURIComponent(t)}catch{return PO(t)}}function TT(t,e){if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t===""||e==="")return[];const n=t.indexOf(e);return n===-1?[]:[t.slice(0,n),t.slice(n+e.length)]}function xO(t,e){const n={};if(Array.isArray(e))for(const r of e){const i=Object.getOwnPropertyDescriptor(t,r);i?.enumerable&&Object.defineProperty(n,r,i)}else for(const r of Reflect.ownKeys(t)){const i=Object.getOwnPropertyDescriptor(t,r);if(i.enumerable){const o=t[r];e(r,o,t)&&Object.defineProperty(n,r,i)}}return n}const kO=t=>t==null,DO=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),bf=Symbol("encodeFragmentIdentifier");function NO(t){switch(t.arrayFormat){case"index":return e=>(n,r)=>{const i=n.length;return r===void 0||t.skipNull&&r===null||t.skipEmptyString&&r===""?n:r===null?[...n,[it(e,t),"[",i,"]"].join("")]:[...n,[it(e,t),"[",it(i,t),"]=",it(r,t)].join("")]};case"bracket":return e=>(n,r)=>r===void 0||t.skipNull&&r===null||t.skipEmptyString&&r===""?n:r===null?[...n,[it(e,t),"[]"].join("")]:[...n,[it(e,t),"[]=",it(r,t)].join("")];case"colon-list-separator":return e=>(n,r)=>r===void 0||t.skipNull&&r===null||t.skipEmptyString&&r===""?n:r===null?[...n,[it(e,t),":list="].join("")]:[...n,[it(e,t),":list=",it(r,t)].join("")];case"comma":case"separator":case"bracket-separator":{const e=t.arrayFormat==="bracket-separator"?"[]=":"=";return n=>(r,i)=>i===void 0||t.skipNull&&i===null||t.skipEmptyString&&i===""?r:(i=i===null?"":i,r.length===0?[[it(n,t),e,it(i,t)].join("")]:[[r,it(i,t)].join(t.arrayFormatSeparator)])}default:return e=>(n,r)=>r===void 0||t.skipNull&&r===null||t.skipEmptyString&&r===""?n:r===null?[...n,it(e,t)]:[...n,[it(e,t),"=",it(r,t)].join("")]}}function OO(t){let e;switch(t.arrayFormat){case"index":return(n,r,i)=>{if(e=/\[(\d*)]$/.exec(n),n=n.replace(/\[\d*]$/,""),!e){i[n]=r;return}i[n]===void 0&&(i[n]={}),i[n][e[1]]=r};case"bracket":return(n,r,i)=>{if(e=/(\[])$/.exec(n),n=n.replace(/\[]$/,""),!e){i[n]=r;return}if(i[n]===void 0){i[n]=[r];return}i[n]=[...i[n],r]};case"colon-list-separator":return(n,r,i)=>{if(e=/(:list)$/.exec(n),n=n.replace(/:list$/,""),!e){i[n]=r;return}if(i[n]===void 0){i[n]=[r];return}i[n]=[...i[n],r]};case"comma":case"separator":return(n,r,i)=>{const o=typeof r=="string"&&r.includes(t.arrayFormatSeparator),s=typeof r=="string"&&!o&&cr(r,t).includes(t.arrayFormatSeparator);r=s?cr(r,t):r;const a=o||s?r.split(t.arrayFormatSeparator).map(l=>cr(l,t)):r===null?r:cr(r,t);i[n]=a};case"bracket-separator":return(n,r,i)=>{const o=/(\[])$/.test(n);if(n=n.replace(/\[]$/,""),!o){i[n]=r&&cr(r,t);return}const s=r===null?[]:r.split(t.arrayFormatSeparator).map(a=>cr(a,t));if(i[n]===void 0){i[n]=s;return}i[n]=[...i[n],...s]};default:return(n,r,i)=>{if(i[n]===void 0){i[n]=r;return}i[n]=[...[i[n]].flat(),r]}}}function IT(t){if(typeof t!="string"||t.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function it(t,e){return e.encode?e.strict?DO(t):encodeURIComponent(t):t}function cr(t,e){return e.decode?CO(t):t}function ST(t){return Array.isArray(t)?t.sort():typeof t=="object"?ST(Object.keys(t)).sort((e,n)=>Number(e)-Number(n)).map(e=>t[e]):t}function AT(t){const e=t.indexOf("#");return e!==-1&&(t=t.slice(0,e)),t}function VO(t){let e="";const n=t.indexOf("#");return n!==-1&&(e=t.slice(n)),e}function qv(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&typeof t=="string"&&t.trim()!==""?t=Number(t):e.parseBooleans&&t!==null&&(t.toLowerCase()==="true"||t.toLowerCase()==="false")&&(t=t.toLowerCase()==="true"),t}function Bm(t){t=AT(t);const e=t.indexOf("?");return e===-1?"":t.slice(e+1)}function $m(t,e){e={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,...e},IT(e.arrayFormatSeparator);const n=OO(e),r=Object.create(null);if(typeof t!="string"||(t=t.trim().replace(/^[?#&]/,""),!t))return r;for(const i of t.split("&")){if(i==="")continue;const o=e.decode?i.replace(/\+/g," "):i;let[s,a]=TT(o,"=");s===void 0&&(s=o),a=a===void 0?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?a:cr(a,e),n(cr(s,e),a,r)}for(const[i,o]of Object.entries(r))if(typeof o=="object"&&o!==null)for(const[s,a]of Object.entries(o))o[s]=qv(a,e);else r[i]=qv(o,e);return e.sort===!1?r:(e.sort===!0?Object.keys(r).sort():Object.keys(r).sort(e.sort)).reduce((i,o)=>{const s=r[o];return i[o]=s&&typeof s=="object"&&!Array.isArray(s)?ST(s):s,i},Object.create(null))}function RT(t,e){if(!t)return"";e={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...e},IT(e.arrayFormatSeparator);const n=s=>e.skipNull&&kO(t[s])||e.skipEmptyString&&t[s]==="",r=NO(e),i={};for(const[s,a]of Object.entries(t))n(s)||(i[s]=a);const o=Object.keys(i);return e.sort!==!1&&o.sort(e.sort),o.map(s=>{const a=t[s];return a===void 0?"":a===null?it(s,e):Array.isArray(a)?a.length===0&&e.arrayFormat==="bracket-separator"?it(s,e)+"[]":a.reduce(r(s),[]).join("&"):it(s,e)+"="+it(a,e)}).filter(s=>s.length>0).join("&")}function PT(t,e){e={decode:!0,...e};let[n,r]=TT(t,"#");return n===void 0&&(n=t),{url:n?.split("?")?.[0]??"",query:$m(Bm(t),e),...e&&e.parseFragmentIdentifier&&r?{fragmentIdentifier:cr(r,e)}:{}}}function CT(t,e){e={encode:!0,strict:!0,[bf]:!0,...e};const n=AT(t.url).split("?")[0]||"",r=Bm(t.url),i={...$m(r,{sort:!1}),...t.query};let o=RT(i,e);o&&(o=`?${o}`);let s=VO(t.url);if(t.fragmentIdentifier){const a=new URL(n);a.hash=t.fragmentIdentifier,s=e[bf]?a.hash:`#${t.fragmentIdentifier}`}return`${n}${o}${s}`}function xT(t,e,n){n={parseFragmentIdentifier:!0,[bf]:!1,...n};const{url:r,query:i,fragmentIdentifier:o}=PT(t,n);return CT({url:r,query:xO(i,e),fragmentIdentifier:o},n)}function MO(t,e,n){const r=Array.isArray(e)?i=>!e.includes(i):(i,o)=>!e(i,o);return xT(t,r,n)}const LO=Object.freeze(Object.defineProperty({__proto__:null,exclude:MO,extract:Bm,parse:$m,parseUrl:PT,pick:xT,stringify:RT,stringifyUrl:CT},Symbol.toStringTag,{value:"Module"}));function FO(){const t=ww().search,e=LO.parse(t);var n=[],r=[],i=[],o=[],s=[];e.year&&n.push(e.year.split(",")),e.semester&&r.push(e.semester.split(",")),e.course&&i.push(e.course.split(",")),e.date&&o.push(e.date.split(",")),e.Category&&s.push(e.Category.split(",")),e.CourseCode&&i.push(e.CourseCode.split(",")),console.log(i[0]),console.log(s[0]),console.log(r[0]);const l=is(os,"documents");var u=gi(l);n[0]&&(u=gi(u,Ns("Year","in",n[0]))),r[0]&&(u=gi(u,Ns("Semester","in",r[0]))),i[0]&&(u=gi(u,Ns("CourseCode","in",i[0]))),o[0]&&(u=gi(u,Ns("date","in",o[0]))),s[0]&&(u=gi(u,Ns("Category","in",s[0])));const[c]=fT(u);return console.log(c),R.jsxs("div",{children:[R.jsx("h1",{children:i+"/"+s}),R.jsxs("p",{children:["Results(",c?.length,")"]}),R.jsx("div",{children:c&&c.map(h=>R.jsx(vT,{doc:h}))})]})}function bO(){return R.jsxs(yR,{children:[R.jsx(js,{path:"/",element:R.jsx(mO,{})}),R.jsx(js,{path:"/upload",element:R.jsx(TO,{})}),R.jsx(js,{path:"/courses",element:R.jsx(AO,{})}),R.jsx(js,{path:"/search",element:R.jsx(FO,{})})]})}const jO=wR([{path:"/*",element:R.jsx(bO,{})}]);sd.createRoot(document.getElementById("root")).render(R.jsx(t_.StrictMode,{children:R.jsx(xR,{router:jO})}));
