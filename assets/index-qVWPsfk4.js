function Hv(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var jT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $f(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gv={exports:{}},nc={},Qv={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var za=Symbol.for("react.element"),UT=Symbol.for("react.portal"),BT=Symbol.for("react.fragment"),$T=Symbol.for("react.strict_mode"),zT=Symbol.for("react.profiler"),qT=Symbol.for("react.provider"),WT=Symbol.for("react.context"),HT=Symbol.for("react.forward_ref"),GT=Symbol.for("react.suspense"),QT=Symbol.for("react.memo"),KT=Symbol.for("react.lazy"),Ym=Symbol.iterator;function YT(t){return t===null||typeof t!="object"?null:(t=Ym&&t[Ym]||t["@@iterator"],typeof t=="function"?t:null)}var Kv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yv=Object.assign,Jv={};function Xo(t,e,n){this.props=t,this.context=e,this.refs=Jv,this.updater=n||Kv}Xo.prototype.isReactComponent={};Xo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Xo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Xv(){}Xv.prototype=Xo.prototype;function zf(t,e,n){this.props=t,this.context=e,this.refs=Jv,this.updater=n||Kv}var qf=zf.prototype=new Xv;qf.constructor=zf;Yv(qf,Xo.prototype);qf.isPureReactComponent=!0;var Jm=Array.isArray,Zv=Object.prototype.hasOwnProperty,Wf={current:null},e_={key:!0,ref:!0,__self:!0,__source:!0};function t_(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Zv.call(e,r)&&!e_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:za,type:t,key:o,ref:s,props:i,_owner:Wf.current}}function JT(t,e){return{$$typeof:za,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Hf(t){return typeof t=="object"&&t!==null&&t.$$typeof===za}function XT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Xm=/\/+/g;function gh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?XT(""+t.key):e.toString(36)}function Ql(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case za:case UT:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+gh(s,0):r,Jm(i)?(n="",t!=null&&(n=t.replace(Xm,"$&/")+"/"),Ql(i,e,n,"",function(u){return u})):i!=null&&(Hf(i)&&(i=JT(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Xm,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Jm(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+gh(o,a);s+=Ql(o,e,n,l,i)}else if(l=YT(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+gh(o,a++),s+=Ql(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Tl(t,e,n){if(t==null)return t;var r=[],i=0;return Ql(t,r,"","",function(o){return e.call(n,o,i++)}),r}function ZT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Gt={current:null},Kl={transition:null},eS={ReactCurrentDispatcher:Gt,ReactCurrentBatchConfig:Kl,ReactCurrentOwner:Wf};ve.Children={map:Tl,forEach:function(t,e,n){Tl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Tl(t,function(){e++}),e},toArray:function(t){return Tl(t,function(e){return e})||[]},only:function(t){if(!Hf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ve.Component=Xo;ve.Fragment=BT;ve.Profiler=zT;ve.PureComponent=zf;ve.StrictMode=$T;ve.Suspense=GT;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eS;ve.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Yv({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Wf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Zv.call(e,l)&&!e_.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:za,type:t.type,key:i,ref:o,props:r,_owner:s}};ve.createContext=function(t){return t={$$typeof:WT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:qT,_context:t},t.Consumer=t};ve.createElement=t_;ve.createFactory=function(t){var e=t_.bind(null,t);return e.type=t,e};ve.createRef=function(){return{current:null}};ve.forwardRef=function(t){return{$$typeof:HT,render:t}};ve.isValidElement=Hf;ve.lazy=function(t){return{$$typeof:KT,_payload:{_status:-1,_result:t},_init:ZT}};ve.memo=function(t,e){return{$$typeof:QT,type:t,compare:e===void 0?null:e}};ve.startTransition=function(t){var e=Kl.transition;Kl.transition={};try{t()}finally{Kl.transition=e}};ve.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ve.useCallback=function(t,e){return Gt.current.useCallback(t,e)};ve.useContext=function(t){return Gt.current.useContext(t)};ve.useDebugValue=function(){};ve.useDeferredValue=function(t){return Gt.current.useDeferredValue(t)};ve.useEffect=function(t,e){return Gt.current.useEffect(t,e)};ve.useId=function(){return Gt.current.useId()};ve.useImperativeHandle=function(t,e,n){return Gt.current.useImperativeHandle(t,e,n)};ve.useInsertionEffect=function(t,e){return Gt.current.useInsertionEffect(t,e)};ve.useLayoutEffect=function(t,e){return Gt.current.useLayoutEffect(t,e)};ve.useMemo=function(t,e){return Gt.current.useMemo(t,e)};ve.useReducer=function(t,e,n){return Gt.current.useReducer(t,e,n)};ve.useRef=function(t){return Gt.current.useRef(t)};ve.useState=function(t){return Gt.current.useState(t)};ve.useSyncExternalStore=function(t,e,n){return Gt.current.useSyncExternalStore(t,e,n)};ve.useTransition=function(){return Gt.current.useTransition()};ve.version="18.2.0";Qv.exports=ve;var M=Qv.exports;const n_=$f(M),tS=Hv({__proto__:null,default:n_},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nS=M,rS=Symbol.for("react.element"),iS=Symbol.for("react.fragment"),oS=Object.prototype.hasOwnProperty,sS=nS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aS={key:!0,ref:!0,__self:!0,__source:!0};function r_(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)oS.call(e,r)&&!aS.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:rS,type:t,key:o,ref:s,props:i,_owner:sS.current}}nc.Fragment=iS;nc.jsx=r_;nc.jsxs=r_;Gv.exports=nc;var S=Gv.exports,ud={},i_={exports:{}},cn={},o_={exports:{}},s_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,re){var ie=G.length;G.push(re);e:for(;0<ie;){var Ee=ie-1>>>1,Ne=G[Ee];if(0<i(Ne,re))G[Ee]=re,G[ie]=Ne,ie=Ee;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var re=G[0],ie=G.pop();if(ie!==re){G[0]=ie;e:for(var Ee=0,Ne=G.length,dn=Ne>>>1;Ee<dn;){var ht=2*(Ee+1)-1,rn=G[ht],wt=ht+1,bn=G[wt];if(0>i(rn,ie))wt<Ne&&0>i(bn,rn)?(G[Ee]=bn,G[wt]=ie,Ee=wt):(G[Ee]=rn,G[ht]=ie,Ee=ht);else if(wt<Ne&&0>i(bn,ie))G[Ee]=bn,G[wt]=ie,Ee=wt;else break e}}return re}function i(G,re){var ie=G.sortIndex-re.sortIndex;return ie!==0?ie:G.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,h=null,d=3,v=!1,A=!1,I=!1,E=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(G){for(var re=n(u);re!==null;){if(re.callback===null)r(u);else if(re.startTime<=G)r(u),re.sortIndex=re.expirationTime,e(l,re);else break;re=n(u)}}function x(G){if(I=!1,w(G),!A)if(n(l)!==null)A=!0,Bt(L);else{var re=n(u);re!==null&&Ae(x,re.startTime-G)}}function L(G,re){A=!1,I&&(I=!1,g(j),j=-1),v=!0;var ie=d;try{for(w(re),h=n(l);h!==null&&(!(h.expirationTime>re)||G&&!Y());){var Ee=h.callback;if(typeof Ee=="function"){h.callback=null,d=h.priorityLevel;var Ne=Ee(h.expirationTime<=re);re=t.unstable_now(),typeof Ne=="function"?h.callback=Ne:h===n(l)&&r(l),w(re)}else r(l);h=n(l)}if(h!==null)var dn=!0;else{var ht=n(u);ht!==null&&Ae(x,ht.startTime-re),dn=!1}return dn}finally{h=null,d=ie,v=!1}}var T=!1,D=null,j=-1,q=5,z=-1;function Y(){return!(t.unstable_now()-z<q)}function Le(){if(D!==null){var G=t.unstable_now();z=G;var re=!0;try{re=D(!0,G)}finally{re?De():(T=!1,D=null)}}else T=!1}var De;if(typeof m=="function")De=function(){m(Le)};else if(typeof MessageChannel<"u"){var ct=new MessageChannel,Kt=ct.port2;ct.port1.onmessage=Le,De=function(){Kt.postMessage(null)}}else De=function(){E(Le,0)};function Bt(G){D=G,T||(T=!0,De())}function Ae(G,re){j=E(function(){G(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){A||v||(A=!0,Bt(L))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(G){switch(d){case 1:case 2:case 3:var re=3;break;default:re=d}var ie=d;d=re;try{return G()}finally{d=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,re){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ie=d;d=G;try{return re()}finally{d=ie}},t.unstable_scheduleCallback=function(G,re,ie){var Ee=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?Ee+ie:Ee):ie=Ee,G){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=ie+Ne,G={id:c++,callback:re,priorityLevel:G,startTime:ie,expirationTime:Ne,sortIndex:-1},ie>Ee?(G.sortIndex=ie,e(u,G),n(l)===null&&G===n(u)&&(I?(g(j),j=-1):I=!0,Ae(x,ie-Ee))):(G.sortIndex=Ne,e(l,G),A||v||(A=!0,Bt(L))),G},t.unstable_shouldYield=Y,t.unstable_wrapCallback=function(G){var re=d;return function(){var ie=d;d=re;try{return G.apply(this,arguments)}finally{d=ie}}}})(s_);o_.exports=s_;var lS=o_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_=M,ln=lS;function F(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l_=new Set,aa={};function Wi(t,e){Mo(t,e),Mo(t+"Capture",e)}function Mo(t,e){for(aa[t]=e,t=0;t<e.length;t++)l_.add(e[t])}var gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cd=Object.prototype.hasOwnProperty,uS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zm={},eg={};function cS(t){return cd.call(eg,t)?!0:cd.call(Zm,t)?!1:uS.test(t)?eg[t]=!0:(Zm[t]=!0,!1)}function hS(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function dS(t,e,n,r){if(e===null||typeof e>"u"||hS(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ct[t]=new Qt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ct[e]=new Qt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ct[t]=new Qt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ct[t]=new Qt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ct[t]=new Qt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ct[t]=new Qt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ct[t]=new Qt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ct[t]=new Qt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ct[t]=new Qt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Gf=/[\-:]([a-z])/g;function Qf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Gf,Qf);Ct[e]=new Qt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Gf,Qf);Ct[e]=new Qt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Gf,Qf);Ct[e]=new Qt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ct[t]=new Qt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ct.xlinkHref=new Qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ct[t]=new Qt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Kf(t,e,n,r){var i=Ct.hasOwnProperty(e)?Ct[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(dS(e,n,i,r)&&(n=null),r||i===null?cS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Sr=a_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sl=Symbol.for("react.element"),lo=Symbol.for("react.portal"),uo=Symbol.for("react.fragment"),Yf=Symbol.for("react.strict_mode"),hd=Symbol.for("react.profiler"),u_=Symbol.for("react.provider"),c_=Symbol.for("react.context"),Jf=Symbol.for("react.forward_ref"),dd=Symbol.for("react.suspense"),fd=Symbol.for("react.suspense_list"),Xf=Symbol.for("react.memo"),Dr=Symbol.for("react.lazy"),h_=Symbol.for("react.offscreen"),tg=Symbol.iterator;function vs(t){return t===null||typeof t!="object"?null:(t=tg&&t[tg]||t["@@iterator"],typeof t=="function"?t:null)}var He=Object.assign,yh;function Ls(t){if(yh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);yh=e&&e[1]||""}return`
`+yh+t}var vh=!1;function _h(t,e){if(!t||vh)return"";vh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{vh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ls(t):""}function fS(t){switch(t.tag){case 5:return Ls(t.type);case 16:return Ls("Lazy");case 13:return Ls("Suspense");case 19:return Ls("SuspenseList");case 0:case 2:case 15:return t=_h(t.type,!1),t;case 11:return t=_h(t.type.render,!1),t;case 1:return t=_h(t.type,!0),t;default:return""}}function pd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case uo:return"Fragment";case lo:return"Portal";case hd:return"Profiler";case Yf:return"StrictMode";case dd:return"Suspense";case fd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case c_:return(t.displayName||"Context")+".Consumer";case u_:return(t._context.displayName||"Context")+".Provider";case Jf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Xf:return e=t.displayName||null,e!==null?e:pd(t.type)||"Memo";case Dr:e=t._payload,t=t._init;try{return pd(t(e))}catch{}}return null}function pS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pd(e);case 8:return e===Yf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Jr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function d_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function mS(t){var e=d_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Il(t){t._valueTracker||(t._valueTracker=mS(t))}function f_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=d_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function cu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function md(t,e){var n=e.checked;return He({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ng(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Jr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function p_(t,e){e=e.checked,e!=null&&Kf(t,"checked",e,!1)}function gd(t,e){p_(t,e);var n=Jr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?yd(t,e.type,n):e.hasOwnProperty("defaultValue")&&yd(t,e.type,Jr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function rg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function yd(t,e,n){(e!=="number"||cu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Fs=Array.isArray;function Ro(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Jr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function vd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(F(91));return He({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ig(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(F(92));if(Fs(n)){if(1<n.length)throw Error(F(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Jr(n)}}function m_(t,e){var n=Jr(e.value),r=Jr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function og(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function g_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _d(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?g_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Al,y_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Al=Al||document.createElement("div"),Al.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Al.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function la(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ws={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gS=["Webkit","ms","Moz","O"];Object.keys(Ws).forEach(function(t){gS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ws[e]=Ws[t]})});function v_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ws.hasOwnProperty(t)&&Ws[t]?(""+e).trim():e+"px"}function __(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=v_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var yS=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wd(t,e){if(e){if(yS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(F(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(F(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(F(61))}if(e.style!=null&&typeof e.style!="object")throw Error(F(62))}}function Ed(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Td=null;function Zf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Sd=null,Po=null,Co=null;function sg(t){if(t=Ha(t)){if(typeof Sd!="function")throw Error(F(280));var e=t.stateNode;e&&(e=ac(e),Sd(t.stateNode,t.type,e))}}function w_(t){Po?Co?Co.push(t):Co=[t]:Po=t}function E_(){if(Po){var t=Po,e=Co;if(Co=Po=null,sg(t),e)for(t=0;t<e.length;t++)sg(e[t])}}function T_(t,e){return t(e)}function S_(){}var wh=!1;function I_(t,e,n){if(wh)return t(e,n);wh=!0;try{return T_(t,e,n)}finally{wh=!1,(Po!==null||Co!==null)&&(S_(),E_())}}function ua(t,e){var n=t.stateNode;if(n===null)return null;var r=ac(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(F(231,e,typeof n));return n}var Id=!1;if(gr)try{var _s={};Object.defineProperty(_s,"passive",{get:function(){Id=!0}}),window.addEventListener("test",_s,_s),window.removeEventListener("test",_s,_s)}catch{Id=!1}function vS(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Hs=!1,hu=null,du=!1,Ad=null,_S={onError:function(t){Hs=!0,hu=t}};function wS(t,e,n,r,i,o,s,a,l){Hs=!1,hu=null,vS.apply(_S,arguments)}function ES(t,e,n,r,i,o,s,a,l){if(wS.apply(this,arguments),Hs){if(Hs){var u=hu;Hs=!1,hu=null}else throw Error(F(198));du||(du=!0,Ad=u)}}function Hi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function A_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ag(t){if(Hi(t)!==t)throw Error(F(188))}function TS(t){var e=t.alternate;if(!e){if(e=Hi(t),e===null)throw Error(F(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ag(i),t;if(o===r)return ag(i),e;o=o.sibling}throw Error(F(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?t:e}function R_(t){return t=TS(t),t!==null?P_(t):null}function P_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=P_(t);if(e!==null)return e;t=t.sibling}return null}var C_=ln.unstable_scheduleCallback,lg=ln.unstable_cancelCallback,SS=ln.unstable_shouldYield,IS=ln.unstable_requestPaint,tt=ln.unstable_now,AS=ln.unstable_getCurrentPriorityLevel,ep=ln.unstable_ImmediatePriority,x_=ln.unstable_UserBlockingPriority,fu=ln.unstable_NormalPriority,RS=ln.unstable_LowPriority,k_=ln.unstable_IdlePriority,rc=null,Gn=null;function PS(t){if(Gn&&typeof Gn.onCommitFiberRoot=="function")try{Gn.onCommitFiberRoot(rc,t,void 0,(t.current.flags&128)===128)}catch{}}var kn=Math.clz32?Math.clz32:kS,CS=Math.log,xS=Math.LN2;function kS(t){return t>>>=0,t===0?32:31-(CS(t)/xS|0)|0}var Rl=64,Pl=4194304;function js(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function pu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=js(a):(o&=s,o!==0&&(r=js(o)))}else s=n&~i,s!==0?r=js(s):o!==0&&(r=js(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-kn(e),i=1<<n,r|=t[n],e&=~i;return r}function DS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function NS(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-kn(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=DS(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Rd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function D_(){var t=Rl;return Rl<<=1,!(Rl&4194240)&&(Rl=64),t}function Eh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function qa(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-kn(e),t[e]=n}function OS(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-kn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function tp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-kn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ce=0;function N_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var O_,np,V_,M_,b_,Pd=!1,Cl=[],Fr=null,jr=null,Ur=null,ca=new Map,ha=new Map,Or=[],VS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ug(t,e){switch(t){case"focusin":case"focusout":Fr=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":ca.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ha.delete(e.pointerId)}}function ws(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Ha(e),e!==null&&np(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function MS(t,e,n,r,i){switch(e){case"focusin":return Fr=ws(Fr,t,e,n,r,i),!0;case"dragenter":return jr=ws(jr,t,e,n,r,i),!0;case"mouseover":return Ur=ws(Ur,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ca.set(o,ws(ca.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ha.set(o,ws(ha.get(o)||null,t,e,n,r,i)),!0}return!1}function L_(t){var e=Ti(t.target);if(e!==null){var n=Hi(e);if(n!==null){if(e=n.tag,e===13){if(e=A_(n),e!==null){t.blockedOn=e,b_(t.priority,function(){V_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Cd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Td=r,n.target.dispatchEvent(r),Td=null}else return e=Ha(n),e!==null&&np(e),t.blockedOn=n,!1;e.shift()}return!0}function cg(t,e,n){Yl(t)&&n.delete(e)}function bS(){Pd=!1,Fr!==null&&Yl(Fr)&&(Fr=null),jr!==null&&Yl(jr)&&(jr=null),Ur!==null&&Yl(Ur)&&(Ur=null),ca.forEach(cg),ha.forEach(cg)}function Es(t,e){t.blockedOn===e&&(t.blockedOn=null,Pd||(Pd=!0,ln.unstable_scheduleCallback(ln.unstable_NormalPriority,bS)))}function da(t){function e(i){return Es(i,t)}if(0<Cl.length){Es(Cl[0],t);for(var n=1;n<Cl.length;n++){var r=Cl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Fr!==null&&Es(Fr,t),jr!==null&&Es(jr,t),Ur!==null&&Es(Ur,t),ca.forEach(e),ha.forEach(e),n=0;n<Or.length;n++)r=Or[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Or.length&&(n=Or[0],n.blockedOn===null);)L_(n),n.blockedOn===null&&Or.shift()}var xo=Sr.ReactCurrentBatchConfig,mu=!0;function LS(t,e,n,r){var i=Ce,o=xo.transition;xo.transition=null;try{Ce=1,rp(t,e,n,r)}finally{Ce=i,xo.transition=o}}function FS(t,e,n,r){var i=Ce,o=xo.transition;xo.transition=null;try{Ce=4,rp(t,e,n,r)}finally{Ce=i,xo.transition=o}}function rp(t,e,n,r){if(mu){var i=Cd(t,e,n,r);if(i===null)Dh(t,e,r,gu,n),ug(t,r);else if(MS(i,t,e,n,r))r.stopPropagation();else if(ug(t,r),e&4&&-1<VS.indexOf(t)){for(;i!==null;){var o=Ha(i);if(o!==null&&O_(o),o=Cd(t,e,n,r),o===null&&Dh(t,e,r,gu,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Dh(t,e,r,null,n)}}var gu=null;function Cd(t,e,n,r){if(gu=null,t=Zf(r),t=Ti(t),t!==null)if(e=Hi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=A_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return gu=t,null}function F_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(AS()){case ep:return 1;case x_:return 4;case fu:case RS:return 16;case k_:return 536870912;default:return 16}default:return 16}}var Mr=null,ip=null,Jl=null;function j_(){if(Jl)return Jl;var t,e=ip,n=e.length,r,i="value"in Mr?Mr.value:Mr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Jl=i.slice(t,1<r?1-r:void 0)}function Xl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function xl(){return!0}function hg(){return!1}function hn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?xl:hg,this.isPropagationStopped=hg,this}return He(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xl)},persist:function(){},isPersistent:xl}),e}var Zo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},op=hn(Zo),Wa=He({},Zo,{view:0,detail:0}),jS=hn(Wa),Th,Sh,Ts,ic=He({},Wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ts&&(Ts&&t.type==="mousemove"?(Th=t.screenX-Ts.screenX,Sh=t.screenY-Ts.screenY):Sh=Th=0,Ts=t),Th)},movementY:function(t){return"movementY"in t?t.movementY:Sh}}),dg=hn(ic),US=He({},ic,{dataTransfer:0}),BS=hn(US),$S=He({},Wa,{relatedTarget:0}),Ih=hn($S),zS=He({},Zo,{animationName:0,elapsedTime:0,pseudoElement:0}),qS=hn(zS),WS=He({},Zo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),HS=hn(WS),GS=He({},Zo,{data:0}),fg=hn(GS),QS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},YS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=YS[t])?!!e[t]:!1}function sp(){return JS}var XS=He({},Wa,{key:function(t){if(t.key){var e=QS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Xl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?KS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sp,charCode:function(t){return t.type==="keypress"?Xl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ZS=hn(XS),eI=He({},ic,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pg=hn(eI),tI=He({},Wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sp}),nI=hn(tI),rI=He({},Zo,{propertyName:0,elapsedTime:0,pseudoElement:0}),iI=hn(rI),oI=He({},ic,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),sI=hn(oI),aI=[9,13,27,32],ap=gr&&"CompositionEvent"in window,Gs=null;gr&&"documentMode"in document&&(Gs=document.documentMode);var lI=gr&&"TextEvent"in window&&!Gs,U_=gr&&(!ap||Gs&&8<Gs&&11>=Gs),mg=" ",gg=!1;function B_(t,e){switch(t){case"keyup":return aI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var co=!1;function uI(t,e){switch(t){case"compositionend":return $_(e);case"keypress":return e.which!==32?null:(gg=!0,mg);case"textInput":return t=e.data,t===mg&&gg?null:t;default:return null}}function cI(t,e){if(co)return t==="compositionend"||!ap&&B_(t,e)?(t=j_(),Jl=ip=Mr=null,co=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return U_&&e.locale!=="ko"?null:e.data;default:return null}}var hI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hI[t.type]:e==="textarea"}function z_(t,e,n,r){w_(r),e=yu(e,"onChange"),0<e.length&&(n=new op("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Qs=null,fa=null;function dI(t){e0(t,0)}function oc(t){var e=po(t);if(f_(e))return t}function fI(t,e){if(t==="change")return e}var q_=!1;if(gr){var Ah;if(gr){var Rh="oninput"in document;if(!Rh){var vg=document.createElement("div");vg.setAttribute("oninput","return;"),Rh=typeof vg.oninput=="function"}Ah=Rh}else Ah=!1;q_=Ah&&(!document.documentMode||9<document.documentMode)}function _g(){Qs&&(Qs.detachEvent("onpropertychange",W_),fa=Qs=null)}function W_(t){if(t.propertyName==="value"&&oc(fa)){var e=[];z_(e,fa,t,Zf(t)),I_(dI,e)}}function pI(t,e,n){t==="focusin"?(_g(),Qs=e,fa=n,Qs.attachEvent("onpropertychange",W_)):t==="focusout"&&_g()}function mI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return oc(fa)}function gI(t,e){if(t==="click")return oc(e)}function yI(t,e){if(t==="input"||t==="change")return oc(e)}function vI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nn=typeof Object.is=="function"?Object.is:vI;function pa(t,e){if(Nn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!cd.call(e,i)||!Nn(t[i],e[i]))return!1}return!0}function wg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Eg(t,e){var n=wg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wg(n)}}function H_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?H_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function G_(){for(var t=window,e=cu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=cu(t.document)}return e}function lp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function _I(t){var e=G_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&H_(n.ownerDocument.documentElement,n)){if(r!==null&&lp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Eg(n,o);var s=Eg(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var wI=gr&&"documentMode"in document&&11>=document.documentMode,ho=null,xd=null,Ks=null,kd=!1;function Tg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kd||ho==null||ho!==cu(r)||(r=ho,"selectionStart"in r&&lp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ks&&pa(Ks,r)||(Ks=r,r=yu(xd,"onSelect"),0<r.length&&(e=new op("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ho)))}function kl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var fo={animationend:kl("Animation","AnimationEnd"),animationiteration:kl("Animation","AnimationIteration"),animationstart:kl("Animation","AnimationStart"),transitionend:kl("Transition","TransitionEnd")},Ph={},Q_={};gr&&(Q_=document.createElement("div").style,"AnimationEvent"in window||(delete fo.animationend.animation,delete fo.animationiteration.animation,delete fo.animationstart.animation),"TransitionEvent"in window||delete fo.transitionend.transition);function sc(t){if(Ph[t])return Ph[t];if(!fo[t])return t;var e=fo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Q_)return Ph[t]=e[n];return t}var K_=sc("animationend"),Y_=sc("animationiteration"),J_=sc("animationstart"),X_=sc("transitionend"),Z_=new Map,Sg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ri(t,e){Z_.set(t,e),Wi(e,[t])}for(var Ch=0;Ch<Sg.length;Ch++){var xh=Sg[Ch],EI=xh.toLowerCase(),TI=xh[0].toUpperCase()+xh.slice(1);ri(EI,"on"+TI)}ri(K_,"onAnimationEnd");ri(Y_,"onAnimationIteration");ri(J_,"onAnimationStart");ri("dblclick","onDoubleClick");ri("focusin","onFocus");ri("focusout","onBlur");ri(X_,"onTransitionEnd");Mo("onMouseEnter",["mouseout","mouseover"]);Mo("onMouseLeave",["mouseout","mouseover"]);Mo("onPointerEnter",["pointerout","pointerover"]);Mo("onPointerLeave",["pointerout","pointerover"]);Wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Us="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Us));function Ig(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ES(r,e,void 0,t),t.currentTarget=null}function e0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Ig(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Ig(i,a,u),o=l}}}if(du)throw t=Ad,du=!1,Ad=null,t}function Fe(t,e){var n=e[Md];n===void 0&&(n=e[Md]=new Set);var r=t+"__bubble";n.has(r)||(t0(e,t,2,!1),n.add(r))}function kh(t,e,n){var r=0;e&&(r|=4),t0(n,t,r,e)}var Dl="_reactListening"+Math.random().toString(36).slice(2);function ma(t){if(!t[Dl]){t[Dl]=!0,l_.forEach(function(n){n!=="selectionchange"&&(SI.has(n)||kh(n,!1,t),kh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Dl]||(e[Dl]=!0,kh("selectionchange",!1,e))}}function t0(t,e,n,r){switch(F_(e)){case 1:var i=LS;break;case 4:i=FS;break;default:i=rp}n=i.bind(null,e,n,t),i=void 0,!Id||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Dh(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Ti(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}I_(function(){var u=o,c=Zf(n),h=[];e:{var d=Z_.get(t);if(d!==void 0){var v=op,A=t;switch(t){case"keypress":if(Xl(n)===0)break e;case"keydown":case"keyup":v=ZS;break;case"focusin":A="focus",v=Ih;break;case"focusout":A="blur",v=Ih;break;case"beforeblur":case"afterblur":v=Ih;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=dg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=BS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=nI;break;case K_:case Y_:case J_:v=qS;break;case X_:v=iI;break;case"scroll":v=jS;break;case"wheel":v=sI;break;case"copy":case"cut":case"paste":v=HS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=pg}var I=(e&4)!==0,E=!I&&t==="scroll",g=I?d!==null?d+"Capture":null:d;I=[];for(var m=u,w;m!==null;){w=m;var x=w.stateNode;if(w.tag===5&&x!==null&&(w=x,g!==null&&(x=ua(m,g),x!=null&&I.push(ga(m,x,w)))),E)break;m=m.return}0<I.length&&(d=new v(d,A,null,n,c),h.push({event:d,listeners:I}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",d&&n!==Td&&(A=n.relatedTarget||n.fromElement)&&(Ti(A)||A[yr]))break e;if((v||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,v?(A=n.relatedTarget||n.toElement,v=u,A=A?Ti(A):null,A!==null&&(E=Hi(A),A!==E||A.tag!==5&&A.tag!==6)&&(A=null)):(v=null,A=u),v!==A)){if(I=dg,x="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(I=pg,x="onPointerLeave",g="onPointerEnter",m="pointer"),E=v==null?d:po(v),w=A==null?d:po(A),d=new I(x,m+"leave",v,n,c),d.target=E,d.relatedTarget=w,x=null,Ti(c)===u&&(I=new I(g,m+"enter",A,n,c),I.target=w,I.relatedTarget=E,x=I),E=x,v&&A)t:{for(I=v,g=A,m=0,w=I;w;w=to(w))m++;for(w=0,x=g;x;x=to(x))w++;for(;0<m-w;)I=to(I),m--;for(;0<w-m;)g=to(g),w--;for(;m--;){if(I===g||g!==null&&I===g.alternate)break t;I=to(I),g=to(g)}I=null}else I=null;v!==null&&Ag(h,d,v,I,!1),A!==null&&E!==null&&Ag(h,E,A,I,!0)}}e:{if(d=u?po(u):window,v=d.nodeName&&d.nodeName.toLowerCase(),v==="select"||v==="input"&&d.type==="file")var L=fI;else if(yg(d))if(q_)L=yI;else{L=mI;var T=pI}else(v=d.nodeName)&&v.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(L=gI);if(L&&(L=L(t,u))){z_(h,L,n,c);break e}T&&T(t,d,u),t==="focusout"&&(T=d._wrapperState)&&T.controlled&&d.type==="number"&&yd(d,"number",d.value)}switch(T=u?po(u):window,t){case"focusin":(yg(T)||T.contentEditable==="true")&&(ho=T,xd=u,Ks=null);break;case"focusout":Ks=xd=ho=null;break;case"mousedown":kd=!0;break;case"contextmenu":case"mouseup":case"dragend":kd=!1,Tg(h,n,c);break;case"selectionchange":if(wI)break;case"keydown":case"keyup":Tg(h,n,c)}var D;if(ap)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else co?B_(t,n)&&(j="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(U_&&n.locale!=="ko"&&(co||j!=="onCompositionStart"?j==="onCompositionEnd"&&co&&(D=j_()):(Mr=c,ip="value"in Mr?Mr.value:Mr.textContent,co=!0)),T=yu(u,j),0<T.length&&(j=new fg(j,t,null,n,c),h.push({event:j,listeners:T}),D?j.data=D:(D=$_(n),D!==null&&(j.data=D)))),(D=lI?uI(t,n):cI(t,n))&&(u=yu(u,"onBeforeInput"),0<u.length&&(c=new fg("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=D))}e0(h,e)})}function ga(t,e,n){return{instance:t,listener:e,currentTarget:n}}function yu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ua(t,n),o!=null&&r.unshift(ga(t,o,i)),o=ua(t,e),o!=null&&r.push(ga(t,o,i))),t=t.return}return r}function to(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ag(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=ua(n,o),l!=null&&s.unshift(ga(n,l,a))):i||(l=ua(n,o),l!=null&&s.push(ga(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var II=/\r\n?/g,AI=/\u0000|\uFFFD/g;function Rg(t){return(typeof t=="string"?t:""+t).replace(II,`
`).replace(AI,"")}function Nl(t,e,n){if(e=Rg(e),Rg(t)!==e&&n)throw Error(F(425))}function vu(){}var Dd=null,Nd=null;function Od(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Vd=typeof setTimeout=="function"?setTimeout:void 0,RI=typeof clearTimeout=="function"?clearTimeout:void 0,Pg=typeof Promise=="function"?Promise:void 0,PI=typeof queueMicrotask=="function"?queueMicrotask:typeof Pg<"u"?function(t){return Pg.resolve(null).then(t).catch(CI)}:Vd;function CI(t){setTimeout(function(){throw t})}function Nh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),da(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);da(e)}function Br(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Cg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var es=Math.random().toString(36).slice(2),zn="__reactFiber$"+es,ya="__reactProps$"+es,yr="__reactContainer$"+es,Md="__reactEvents$"+es,xI="__reactListeners$"+es,kI="__reactHandles$"+es;function Ti(t){var e=t[zn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[yr]||n[zn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Cg(t);t!==null;){if(n=t[zn])return n;t=Cg(t)}return e}t=n,n=t.parentNode}return null}function Ha(t){return t=t[zn]||t[yr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function po(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(F(33))}function ac(t){return t[ya]||null}var bd=[],mo=-1;function ii(t){return{current:t}}function Be(t){0>mo||(t.current=bd[mo],bd[mo]=null,mo--)}function Me(t,e){mo++,bd[mo]=t.current,t.current=e}var Xr={},jt=ii(Xr),en=ii(!1),Mi=Xr;function bo(t,e){var n=t.type.contextTypes;if(!n)return Xr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function tn(t){return t=t.childContextTypes,t!=null}function _u(){Be(en),Be(jt)}function xg(t,e,n){if(jt.current!==Xr)throw Error(F(168));Me(jt,e),Me(en,n)}function n0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(F(108,pS(t)||"Unknown",i));return He({},n,r)}function wu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xr,Mi=jt.current,Me(jt,t),Me(en,en.current),!0}function kg(t,e,n){var r=t.stateNode;if(!r)throw Error(F(169));n?(t=n0(t,e,Mi),r.__reactInternalMemoizedMergedChildContext=t,Be(en),Be(jt),Me(jt,t)):Be(en),Me(en,n)}var ur=null,lc=!1,Oh=!1;function r0(t){ur===null?ur=[t]:ur.push(t)}function DI(t){lc=!0,r0(t)}function oi(){if(!Oh&&ur!==null){Oh=!0;var t=0,e=Ce;try{var n=ur;for(Ce=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ur=null,lc=!1}catch(i){throw ur!==null&&(ur=ur.slice(t+1)),C_(ep,oi),i}finally{Ce=e,Oh=!1}}return null}var go=[],yo=0,Eu=null,Tu=0,mn=[],gn=0,bi=null,hr=1,dr="";function gi(t,e){go[yo++]=Tu,go[yo++]=Eu,Eu=t,Tu=e}function i0(t,e,n){mn[gn++]=hr,mn[gn++]=dr,mn[gn++]=bi,bi=t;var r=hr;t=dr;var i=32-kn(r)-1;r&=~(1<<i),n+=1;var o=32-kn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,hr=1<<32-kn(e)+i|n<<i|r,dr=o+t}else hr=1<<o|n<<i|r,dr=t}function up(t){t.return!==null&&(gi(t,1),i0(t,1,0))}function cp(t){for(;t===Eu;)Eu=go[--yo],go[yo]=null,Tu=go[--yo],go[yo]=null;for(;t===bi;)bi=mn[--gn],mn[gn]=null,dr=mn[--gn],mn[gn]=null,hr=mn[--gn],mn[gn]=null}var an=null,sn=null,$e=!1,Pn=null;function o0(t,e){var n=_n(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Dg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,an=t,sn=Br(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,an=t,sn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=bi!==null?{id:hr,overflow:dr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=_n(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,an=t,sn=null,!0):!1;default:return!1}}function Ld(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Fd(t){if($e){var e=sn;if(e){var n=e;if(!Dg(t,e)){if(Ld(t))throw Error(F(418));e=Br(n.nextSibling);var r=an;e&&Dg(t,e)?o0(r,n):(t.flags=t.flags&-4097|2,$e=!1,an=t)}}else{if(Ld(t))throw Error(F(418));t.flags=t.flags&-4097|2,$e=!1,an=t}}}function Ng(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;an=t}function Ol(t){if(t!==an)return!1;if(!$e)return Ng(t),$e=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Od(t.type,t.memoizedProps)),e&&(e=sn)){if(Ld(t))throw s0(),Error(F(418));for(;e;)o0(t,e),e=Br(e.nextSibling)}if(Ng(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){sn=Br(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}sn=null}}else sn=an?Br(t.stateNode.nextSibling):null;return!0}function s0(){for(var t=sn;t;)t=Br(t.nextSibling)}function Lo(){sn=an=null,$e=!1}function hp(t){Pn===null?Pn=[t]:Pn.push(t)}var NI=Sr.ReactCurrentBatchConfig;function In(t,e){if(t&&t.defaultProps){e=He({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Su=ii(null),Iu=null,vo=null,dp=null;function fp(){dp=vo=Iu=null}function pp(t){var e=Su.current;Be(Su),t._currentValue=e}function jd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ko(t,e){Iu=t,dp=vo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Zt=!0),t.firstContext=null)}function En(t){var e=t._currentValue;if(dp!==t)if(t={context:t,memoizedValue:e,next:null},vo===null){if(Iu===null)throw Error(F(308));vo=t,Iu.dependencies={lanes:0,firstContext:t}}else vo=vo.next=t;return e}var Si=null;function mp(t){Si===null?Si=[t]:Si.push(t)}function a0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,mp(e)):(n.next=i.next,i.next=n),e.interleaved=n,vr(t,r)}function vr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Nr=!1;function gp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function l0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $r(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Se&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,vr(t,n)}return i=r.interleaved,i===null?(e.next=e,mp(r)):(e.next=i.next,i.next=e),r.interleaved=e,vr(t,n)}function Zl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tp(t,n)}}function Og(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Au(t,e,n,r){var i=t.updateQueue;Nr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;s=0,c=u=l=null,a=o;do{var d=a.lane,v=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var A=t,I=a;switch(d=e,v=n,I.tag){case 1:if(A=I.payload,typeof A=="function"){h=A.call(v,h,d);break e}h=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=I.payload,d=typeof A=="function"?A.call(v,h,d):A,d==null)break e;h=He({},h,d);break e;case 2:Nr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else v={eventTime:v,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=v,l=h):c=c.next=v,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Fi|=s,t.lanes=s,t.memoizedState=h}}function Vg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(F(191,i));i.call(r)}}}var u0=new a_.Component().refs;function Ud(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:He({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var uc={isMounted:function(t){return(t=t._reactInternals)?Hi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ht(),i=qr(t),o=pr(r,i);o.payload=e,n!=null&&(o.callback=n),e=$r(t,o,i),e!==null&&(Dn(e,t,i,r),Zl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ht(),i=qr(t),o=pr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=$r(t,o,i),e!==null&&(Dn(e,t,i,r),Zl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ht(),r=qr(t),i=pr(n,r);i.tag=2,e!=null&&(i.callback=e),e=$r(t,i,r),e!==null&&(Dn(e,t,r,n),Zl(e,t,r))}};function Mg(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!pa(n,r)||!pa(i,o):!0}function c0(t,e,n){var r=!1,i=Xr,o=e.contextType;return typeof o=="object"&&o!==null?o=En(o):(i=tn(e)?Mi:jt.current,r=e.contextTypes,o=(r=r!=null)?bo(t,i):Xr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=uc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function bg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&uc.enqueueReplaceState(e,e.state,null)}function Bd(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=u0,gp(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=En(o):(o=tn(e)?Mi:jt.current,i.context=bo(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Ud(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&uc.enqueueReplaceState(i,i.state,null),Au(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ss(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===u0&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,t))}return t}function Vl(t,e){throw t=Object.prototype.toString.call(e),Error(F(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Lg(t){var e=t._init;return e(t._payload)}function h0(t){function e(g,m){if(t){var w=g.deletions;w===null?(g.deletions=[m],g.flags|=16):w.push(m)}}function n(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=Wr(g,m),g.index=0,g.sibling=null,g}function o(g,m,w){return g.index=w,t?(w=g.alternate,w!==null?(w=w.index,w<m?(g.flags|=2,m):w):(g.flags|=2,m)):(g.flags|=1048576,m)}function s(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,m,w,x){return m===null||m.tag!==6?(m=Uh(w,g.mode,x),m.return=g,m):(m=i(m,w),m.return=g,m)}function l(g,m,w,x){var L=w.type;return L===uo?c(g,m,w.props.children,x,w.key):m!==null&&(m.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Dr&&Lg(L)===m.type)?(x=i(m,w.props),x.ref=Ss(g,m,w),x.return=g,x):(x=ou(w.type,w.key,w.props,null,g.mode,x),x.ref=Ss(g,m,w),x.return=g,x)}function u(g,m,w,x){return m===null||m.tag!==4||m.stateNode.containerInfo!==w.containerInfo||m.stateNode.implementation!==w.implementation?(m=Bh(w,g.mode,x),m.return=g,m):(m=i(m,w.children||[]),m.return=g,m)}function c(g,m,w,x,L){return m===null||m.tag!==7?(m=Ni(w,g.mode,x,L),m.return=g,m):(m=i(m,w),m.return=g,m)}function h(g,m,w){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Uh(""+m,g.mode,w),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Sl:return w=ou(m.type,m.key,m.props,null,g.mode,w),w.ref=Ss(g,null,m),w.return=g,w;case lo:return m=Bh(m,g.mode,w),m.return=g,m;case Dr:var x=m._init;return h(g,x(m._payload),w)}if(Fs(m)||vs(m))return m=Ni(m,g.mode,w,null),m.return=g,m;Vl(g,m)}return null}function d(g,m,w,x){var L=m!==null?m.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return L!==null?null:a(g,m,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Sl:return w.key===L?l(g,m,w,x):null;case lo:return w.key===L?u(g,m,w,x):null;case Dr:return L=w._init,d(g,m,L(w._payload),x)}if(Fs(w)||vs(w))return L!==null?null:c(g,m,w,x,null);Vl(g,w)}return null}function v(g,m,w,x,L){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(w)||null,a(m,g,""+x,L);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Sl:return g=g.get(x.key===null?w:x.key)||null,l(m,g,x,L);case lo:return g=g.get(x.key===null?w:x.key)||null,u(m,g,x,L);case Dr:var T=x._init;return v(g,m,w,T(x._payload),L)}if(Fs(x)||vs(x))return g=g.get(w)||null,c(m,g,x,L,null);Vl(m,x)}return null}function A(g,m,w,x){for(var L=null,T=null,D=m,j=m=0,q=null;D!==null&&j<w.length;j++){D.index>j?(q=D,D=null):q=D.sibling;var z=d(g,D,w[j],x);if(z===null){D===null&&(D=q);break}t&&D&&z.alternate===null&&e(g,D),m=o(z,m,j),T===null?L=z:T.sibling=z,T=z,D=q}if(j===w.length)return n(g,D),$e&&gi(g,j),L;if(D===null){for(;j<w.length;j++)D=h(g,w[j],x),D!==null&&(m=o(D,m,j),T===null?L=D:T.sibling=D,T=D);return $e&&gi(g,j),L}for(D=r(g,D);j<w.length;j++)q=v(D,g,j,w[j],x),q!==null&&(t&&q.alternate!==null&&D.delete(q.key===null?j:q.key),m=o(q,m,j),T===null?L=q:T.sibling=q,T=q);return t&&D.forEach(function(Y){return e(g,Y)}),$e&&gi(g,j),L}function I(g,m,w,x){var L=vs(w);if(typeof L!="function")throw Error(F(150));if(w=L.call(w),w==null)throw Error(F(151));for(var T=L=null,D=m,j=m=0,q=null,z=w.next();D!==null&&!z.done;j++,z=w.next()){D.index>j?(q=D,D=null):q=D.sibling;var Y=d(g,D,z.value,x);if(Y===null){D===null&&(D=q);break}t&&D&&Y.alternate===null&&e(g,D),m=o(Y,m,j),T===null?L=Y:T.sibling=Y,T=Y,D=q}if(z.done)return n(g,D),$e&&gi(g,j),L;if(D===null){for(;!z.done;j++,z=w.next())z=h(g,z.value,x),z!==null&&(m=o(z,m,j),T===null?L=z:T.sibling=z,T=z);return $e&&gi(g,j),L}for(D=r(g,D);!z.done;j++,z=w.next())z=v(D,g,j,z.value,x),z!==null&&(t&&z.alternate!==null&&D.delete(z.key===null?j:z.key),m=o(z,m,j),T===null?L=z:T.sibling=z,T=z);return t&&D.forEach(function(Le){return e(g,Le)}),$e&&gi(g,j),L}function E(g,m,w,x){if(typeof w=="object"&&w!==null&&w.type===uo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Sl:e:{for(var L=w.key,T=m;T!==null;){if(T.key===L){if(L=w.type,L===uo){if(T.tag===7){n(g,T.sibling),m=i(T,w.props.children),m.return=g,g=m;break e}}else if(T.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Dr&&Lg(L)===T.type){n(g,T.sibling),m=i(T,w.props),m.ref=Ss(g,T,w),m.return=g,g=m;break e}n(g,T);break}else e(g,T);T=T.sibling}w.type===uo?(m=Ni(w.props.children,g.mode,x,w.key),m.return=g,g=m):(x=ou(w.type,w.key,w.props,null,g.mode,x),x.ref=Ss(g,m,w),x.return=g,g=x)}return s(g);case lo:e:{for(T=w.key;m!==null;){if(m.key===T)if(m.tag===4&&m.stateNode.containerInfo===w.containerInfo&&m.stateNode.implementation===w.implementation){n(g,m.sibling),m=i(m,w.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else e(g,m);m=m.sibling}m=Bh(w,g.mode,x),m.return=g,g=m}return s(g);case Dr:return T=w._init,E(g,m,T(w._payload),x)}if(Fs(w))return A(g,m,w,x);if(vs(w))return I(g,m,w,x);Vl(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,m!==null&&m.tag===6?(n(g,m.sibling),m=i(m,w),m.return=g,g=m):(n(g,m),m=Uh(w,g.mode,x),m.return=g,g=m),s(g)):n(g,m)}return E}var Fo=h0(!0),d0=h0(!1),Ga={},Qn=ii(Ga),va=ii(Ga),_a=ii(Ga);function Ii(t){if(t===Ga)throw Error(F(174));return t}function yp(t,e){switch(Me(_a,e),Me(va,t),Me(Qn,Ga),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:_d(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=_d(e,t)}Be(Qn),Me(Qn,e)}function jo(){Be(Qn),Be(va),Be(_a)}function f0(t){Ii(_a.current);var e=Ii(Qn.current),n=_d(e,t.type);e!==n&&(Me(va,t),Me(Qn,n))}function vp(t){va.current===t&&(Be(Qn),Be(va))}var qe=ii(0);function Ru(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Vh=[];function _p(){for(var t=0;t<Vh.length;t++)Vh[t]._workInProgressVersionPrimary=null;Vh.length=0}var eu=Sr.ReactCurrentDispatcher,Mh=Sr.ReactCurrentBatchConfig,Li=0,We=null,ft=null,gt=null,Pu=!1,Ys=!1,wa=0,OI=0;function kt(){throw Error(F(321))}function wp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Nn(t[n],e[n]))return!1;return!0}function Ep(t,e,n,r,i,o){if(Li=o,We=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,eu.current=t===null||t.memoizedState===null?LI:FI,t=n(r,i),Ys){o=0;do{if(Ys=!1,wa=0,25<=o)throw Error(F(301));o+=1,gt=ft=null,e.updateQueue=null,eu.current=jI,t=n(r,i)}while(Ys)}if(eu.current=Cu,e=ft!==null&&ft.next!==null,Li=0,gt=ft=We=null,Pu=!1,e)throw Error(F(300));return t}function Tp(){var t=wa!==0;return wa=0,t}function $n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?We.memoizedState=gt=t:gt=gt.next=t,gt}function Tn(){if(ft===null){var t=We.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var e=gt===null?We.memoizedState:gt.next;if(e!==null)gt=e,ft=t;else{if(t===null)throw Error(F(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},gt===null?We.memoizedState=gt=t:gt=gt.next=t}return gt}function Ea(t,e){return typeof e=="function"?e(t):e}function bh(t){var e=Tn(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=ft,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Li&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,s=r):l=l.next=h,We.lanes|=c,Fi|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Nn(r,e.memoizedState)||(Zt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,We.lanes|=o,Fi|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Lh(t){var e=Tn(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Nn(o,e.memoizedState)||(Zt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function p0(){}function m0(t,e){var n=We,r=Tn(),i=e(),o=!Nn(r.memoizedState,i);if(o&&(r.memoizedState=i,Zt=!0),r=r.queue,Sp(v0.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||gt!==null&&gt.memoizedState.tag&1){if(n.flags|=2048,Ta(9,y0.bind(null,n,r,i,e),void 0,null),yt===null)throw Error(F(349));Li&30||g0(n,e,i)}return i}function g0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function y0(t,e,n,r){e.value=n,e.getSnapshot=r,_0(e)&&w0(t)}function v0(t,e,n){return n(function(){_0(e)&&w0(t)})}function _0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Nn(t,n)}catch{return!0}}function w0(t){var e=vr(t,1);e!==null&&Dn(e,t,1,-1)}function Fg(t){var e=$n();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ea,lastRenderedState:t},e.queue=t,t=t.dispatch=bI.bind(null,We,t),[e.memoizedState,t]}function Ta(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function E0(){return Tn().memoizedState}function tu(t,e,n,r){var i=$n();We.flags|=t,i.memoizedState=Ta(1|e,n,void 0,r===void 0?null:r)}function cc(t,e,n,r){var i=Tn();r=r===void 0?null:r;var o=void 0;if(ft!==null){var s=ft.memoizedState;if(o=s.destroy,r!==null&&wp(r,s.deps)){i.memoizedState=Ta(e,n,o,r);return}}We.flags|=t,i.memoizedState=Ta(1|e,n,o,r)}function jg(t,e){return tu(8390656,8,t,e)}function Sp(t,e){return cc(2048,8,t,e)}function T0(t,e){return cc(4,2,t,e)}function S0(t,e){return cc(4,4,t,e)}function I0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function A0(t,e,n){return n=n!=null?n.concat([t]):null,cc(4,4,I0.bind(null,e,t),n)}function Ip(){}function R0(t,e){var n=Tn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function P0(t,e){var n=Tn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function C0(t,e,n){return Li&21?(Nn(n,e)||(n=D_(),We.lanes|=n,Fi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Zt=!0),t.memoizedState=n)}function VI(t,e){var n=Ce;Ce=n!==0&&4>n?n:4,t(!0);var r=Mh.transition;Mh.transition={};try{t(!1),e()}finally{Ce=n,Mh.transition=r}}function x0(){return Tn().memoizedState}function MI(t,e,n){var r=qr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},k0(t))D0(e,n);else if(n=a0(t,e,n,r),n!==null){var i=Ht();Dn(n,t,r,i),N0(n,e,r)}}function bI(t,e,n){var r=qr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(k0(t))D0(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Nn(a,s)){var l=e.interleaved;l===null?(i.next=i,mp(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=a0(t,e,i,r),n!==null&&(i=Ht(),Dn(n,t,r,i),N0(n,e,r))}}function k0(t){var e=t.alternate;return t===We||e!==null&&e===We}function D0(t,e){Ys=Pu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function N0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tp(t,n)}}var Cu={readContext:En,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useInsertionEffect:kt,useLayoutEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useMutableSource:kt,useSyncExternalStore:kt,useId:kt,unstable_isNewReconciler:!1},LI={readContext:En,useCallback:function(t,e){return $n().memoizedState=[t,e===void 0?null:e],t},useContext:En,useEffect:jg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,tu(4194308,4,I0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return tu(4194308,4,t,e)},useInsertionEffect:function(t,e){return tu(4,2,t,e)},useMemo:function(t,e){var n=$n();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=$n();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=MI.bind(null,We,t),[r.memoizedState,t]},useRef:function(t){var e=$n();return t={current:t},e.memoizedState=t},useState:Fg,useDebugValue:Ip,useDeferredValue:function(t){return $n().memoizedState=t},useTransition:function(){var t=Fg(!1),e=t[0];return t=VI.bind(null,t[1]),$n().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=We,i=$n();if($e){if(n===void 0)throw Error(F(407));n=n()}else{if(n=e(),yt===null)throw Error(F(349));Li&30||g0(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,jg(v0.bind(null,r,o,t),[t]),r.flags|=2048,Ta(9,y0.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=$n(),e=yt.identifierPrefix;if($e){var n=dr,r=hr;n=(r&~(1<<32-kn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=wa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=OI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},FI={readContext:En,useCallback:R0,useContext:En,useEffect:Sp,useImperativeHandle:A0,useInsertionEffect:T0,useLayoutEffect:S0,useMemo:P0,useReducer:bh,useRef:E0,useState:function(){return bh(Ea)},useDebugValue:Ip,useDeferredValue:function(t){var e=Tn();return C0(e,ft.memoizedState,t)},useTransition:function(){var t=bh(Ea)[0],e=Tn().memoizedState;return[t,e]},useMutableSource:p0,useSyncExternalStore:m0,useId:x0,unstable_isNewReconciler:!1},jI={readContext:En,useCallback:R0,useContext:En,useEffect:Sp,useImperativeHandle:A0,useInsertionEffect:T0,useLayoutEffect:S0,useMemo:P0,useReducer:Lh,useRef:E0,useState:function(){return Lh(Ea)},useDebugValue:Ip,useDeferredValue:function(t){var e=Tn();return ft===null?e.memoizedState=t:C0(e,ft.memoizedState,t)},useTransition:function(){var t=Lh(Ea)[0],e=Tn().memoizedState;return[t,e]},useMutableSource:p0,useSyncExternalStore:m0,useId:x0,unstable_isNewReconciler:!1};function Uo(t,e){try{var n="",r=e;do n+=fS(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Fh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function $d(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var UI=typeof WeakMap=="function"?WeakMap:Map;function O0(t,e,n){n=pr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ku||(ku=!0,Xd=r),$d(t,e)},n}function V0(t,e,n){n=pr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){$d(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){$d(t,e),typeof r!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Ug(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new UI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=eA.bind(null,t,e,n),e.then(t,t))}function Bg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $g(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=pr(-1,1),e.tag=2,$r(n,e,1))),n.lanes|=1),t)}var BI=Sr.ReactCurrentOwner,Zt=!1;function qt(t,e,n,r){e.child=t===null?d0(e,null,n,r):Fo(e,t.child,n,r)}function zg(t,e,n,r,i){n=n.render;var o=e.ref;return ko(e,i),r=Ep(t,e,n,r,o,i),n=Tp(),t!==null&&!Zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_r(t,e,i)):($e&&n&&up(e),e.flags|=1,qt(t,e,r,i),e.child)}function qg(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Np(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,M0(t,e,o,r,i)):(t=ou(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:pa,n(s,r)&&t.ref===e.ref)return _r(t,e,i)}return e.flags|=1,t=Wr(o,r),t.ref=e.ref,t.return=e,e.child=t}function M0(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(pa(o,r)&&t.ref===e.ref)if(Zt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Zt=!0);else return e.lanes=t.lanes,_r(t,e,i)}return zd(t,e,n,r,i)}function b0(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me(wo,on),on|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Me(wo,on),on|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Me(wo,on),on|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Me(wo,on),on|=r;return qt(t,e,i,n),e.child}function L0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function zd(t,e,n,r,i){var o=tn(n)?Mi:jt.current;return o=bo(e,o),ko(e,i),n=Ep(t,e,n,r,o,i),r=Tp(),t!==null&&!Zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,_r(t,e,i)):($e&&r&&up(e),e.flags|=1,qt(t,e,n,i),e.child)}function Wg(t,e,n,r,i){if(tn(n)){var o=!0;wu(e)}else o=!1;if(ko(e,i),e.stateNode===null)nu(t,e),c0(e,n,r),Bd(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=En(u):(u=tn(n)?Mi:jt.current,u=bo(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&bg(e,s,r,u),Nr=!1;var d=e.memoizedState;s.state=d,Au(e,r,s,i),l=e.memoizedState,a!==r||d!==l||en.current||Nr?(typeof c=="function"&&(Ud(e,n,c,r),l=e.memoizedState),(a=Nr||Mg(e,n,a,r,d,l,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,l0(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:In(e.type,a),s.props=u,h=e.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=En(l):(l=tn(n)?Mi:jt.current,l=bo(e,l));var v=n.getDerivedStateFromProps;(c=typeof v=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||d!==l)&&bg(e,s,r,l),Nr=!1,d=e.memoizedState,s.state=d,Au(e,r,s,i);var A=e.memoizedState;a!==h||d!==A||en.current||Nr?(typeof v=="function"&&(Ud(e,n,v,r),A=e.memoizedState),(u=Nr||Mg(e,n,u,r,d,A,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,A,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,A,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=A),s.props=r,s.state=A,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return qd(t,e,n,r,o,i)}function qd(t,e,n,r,i,o){L0(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&kg(e,n,!1),_r(t,e,o);r=e.stateNode,BI.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Fo(e,t.child,null,o),e.child=Fo(e,null,a,o)):qt(t,e,a,o),e.memoizedState=r.state,i&&kg(e,n,!0),e.child}function F0(t){var e=t.stateNode;e.pendingContext?xg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&xg(t,e.context,!1),yp(t,e.containerInfo)}function Hg(t,e,n,r,i){return Lo(),hp(i),e.flags|=256,qt(t,e,n,r),e.child}var Wd={dehydrated:null,treeContext:null,retryLane:0};function Hd(t){return{baseLanes:t,cachePool:null,transitions:null}}function j0(t,e,n){var r=e.pendingProps,i=qe.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Me(qe,i&1),t===null)return Fd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=fc(s,r,0,null),t=Ni(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Hd(n),e.memoizedState=Wd,t):Ap(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return $I(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Wr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Wr(a,o):(o=Ni(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Hd(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Wd,r}return o=t.child,t=o.sibling,r=Wr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ap(t,e){return e=fc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ml(t,e,n,r){return r!==null&&hp(r),Fo(e,t.child,null,n),t=Ap(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function $I(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Fh(Error(F(422))),Ml(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=fc({mode:"visible",children:r.children},i,0,null),o=Ni(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Fo(e,t.child,null,s),e.child.memoizedState=Hd(s),e.memoizedState=Wd,o);if(!(e.mode&1))return Ml(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(F(419)),r=Fh(o,r,void 0),Ml(t,e,s,r)}if(a=(s&t.childLanes)!==0,Zt||a){if(r=yt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,vr(t,i),Dn(r,t,i,-1))}return Dp(),r=Fh(Error(F(421))),Ml(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=tA.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,sn=Br(i.nextSibling),an=e,$e=!0,Pn=null,t!==null&&(mn[gn++]=hr,mn[gn++]=dr,mn[gn++]=bi,hr=t.id,dr=t.overflow,bi=e),e=Ap(e,r.children),e.flags|=4096,e)}function Gg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),jd(t.return,e,n)}function jh(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function U0(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(qt(t,e,r.children,n),r=qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Gg(t,n,e);else if(t.tag===19)Gg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Me(qe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ru(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),jh(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ru(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}jh(e,!0,n,null,o);break;case"together":jh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function nu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _r(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Fi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(F(153));if(e.child!==null){for(t=e.child,n=Wr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Wr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function zI(t,e,n){switch(e.tag){case 3:F0(e),Lo();break;case 5:f0(e);break;case 1:tn(e.type)&&wu(e);break;case 4:yp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Me(Su,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Me(qe,qe.current&1),e.flags|=128,null):n&e.child.childLanes?j0(t,e,n):(Me(qe,qe.current&1),t=_r(t,e,n),t!==null?t.sibling:null);Me(qe,qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return U0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Me(qe,qe.current),r)break;return null;case 22:case 23:return e.lanes=0,b0(t,e,n)}return _r(t,e,n)}var B0,Gd,$0,z0;B0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gd=function(){};$0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ii(Qn.current);var o=null;switch(n){case"input":i=md(t,i),r=md(t,r),o=[];break;case"select":i=He({},i,{value:void 0}),r=He({},r,{value:void 0}),o=[];break;case"textarea":i=vd(t,i),r=vd(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=vu)}wd(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(aa.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i?.[u],r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(aa.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Fe("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};z0=function(t,e,n,r){n!==r&&(e.flags|=4)};function Is(t,e){if(!$e)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Dt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function qI(t,e,n){var r=e.pendingProps;switch(cp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(e),null;case 1:return tn(e.type)&&_u(),Dt(e),null;case 3:return r=e.stateNode,jo(),Be(en),Be(jt),_p(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ol(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Pn!==null&&(tf(Pn),Pn=null))),Gd(t,e),Dt(e),null;case 5:vp(e);var i=Ii(_a.current);if(n=e.type,t!==null&&e.stateNode!=null)$0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(F(166));return Dt(e),null}if(t=Ii(Qn.current),Ol(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[zn]=e,r[ya]=o,t=(e.mode&1)!==0,n){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(i=0;i<Us.length;i++)Fe(Us[i],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":ng(r,o),Fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fe("invalid",r);break;case"textarea":ig(r,o),Fe("invalid",r)}wd(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Nl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Nl(r.textContent,a,t),i=["children",""+a]):aa.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Fe("scroll",r)}switch(n){case"input":Il(r),rg(r,o,!0);break;case"textarea":Il(r),og(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=vu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=g_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[zn]=e,t[ya]=r,B0(t,e,!1,!1),e.stateNode=t;e:{switch(s=Ed(n,r),n){case"dialog":Fe("cancel",t),Fe("close",t),i=r;break;case"iframe":case"object":case"embed":Fe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Us.length;i++)Fe(Us[i],t);i=r;break;case"source":Fe("error",t),i=r;break;case"img":case"image":case"link":Fe("error",t),Fe("load",t),i=r;break;case"details":Fe("toggle",t),i=r;break;case"input":ng(t,r),i=md(t,r),Fe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=He({},r,{value:void 0}),Fe("invalid",t);break;case"textarea":ig(t,r),i=vd(t,r),Fe("invalid",t);break;default:i=r}wd(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?__(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&y_(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&la(t,l):typeof l=="number"&&la(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(aa.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Fe("scroll",t):l!=null&&Kf(t,o,l,s))}switch(n){case"input":Il(t),rg(t,r,!1);break;case"textarea":Il(t),og(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Jr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Ro(t,!!r.multiple,o,!1):r.defaultValue!=null&&Ro(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=vu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Dt(e),null;case 6:if(t&&e.stateNode!=null)z0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(F(166));if(n=Ii(_a.current),Ii(Qn.current),Ol(e)){if(r=e.stateNode,n=e.memoizedProps,r[zn]=e,(o=r.nodeValue!==n)&&(t=an,t!==null))switch(t.tag){case 3:Nl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Nl(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zn]=e,e.stateNode=r}return Dt(e),null;case 13:if(Be(qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if($e&&sn!==null&&e.mode&1&&!(e.flags&128))s0(),Lo(),e.flags|=98560,o=!1;else if(o=Ol(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(F(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(F(317));o[zn]=e}else Lo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Dt(e),o=!1}else Pn!==null&&(tf(Pn),Pn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||qe.current&1?pt===0&&(pt=3):Dp())),e.updateQueue!==null&&(e.flags|=4),Dt(e),null);case 4:return jo(),Gd(t,e),t===null&&ma(e.stateNode.containerInfo),Dt(e),null;case 10:return pp(e.type._context),Dt(e),null;case 17:return tn(e.type)&&_u(),Dt(e),null;case 19:if(Be(qe),o=e.memoizedState,o===null)return Dt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Is(o,!1);else{if(pt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Ru(t),s!==null){for(e.flags|=128,Is(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Me(qe,qe.current&1|2),e.child}t=t.sibling}o.tail!==null&&tt()>Bo&&(e.flags|=128,r=!0,Is(o,!1),e.lanes=4194304)}else{if(!r)if(t=Ru(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Is(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!$e)return Dt(e),null}else 2*tt()-o.renderingStartTime>Bo&&n!==1073741824&&(e.flags|=128,r=!0,Is(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=tt(),e.sibling=null,n=qe.current,Me(qe,r?n&1|2:n&1),e):(Dt(e),null);case 22:case 23:return kp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?on&1073741824&&(Dt(e),e.subtreeFlags&6&&(e.flags|=8192)):Dt(e),null;case 24:return null;case 25:return null}throw Error(F(156,e.tag))}function WI(t,e){switch(cp(e),e.tag){case 1:return tn(e.type)&&_u(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return jo(),Be(en),Be(jt),_p(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vp(e),null;case 13:if(Be(qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(F(340));Lo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Be(qe),null;case 4:return jo(),null;case 10:return pp(e.type._context),null;case 22:case 23:return kp(),null;case 24:return null;default:return null}}var bl=!1,Vt=!1,HI=typeof WeakSet=="function"?WeakSet:Set,J=null;function _o(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ke(t,e,r)}else n.current=null}function Qd(t,e,n){try{n()}catch(r){Ke(t,e,r)}}var Qg=!1;function GI(t,e){if(Dd=mu,t=G_(),lp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var v;h!==n||i!==0&&h.nodeType!==3||(a=s+i),h!==o||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(v=h.firstChild)!==null;)d=h,h=v;for(;;){if(h===t)break t;if(d===n&&++u===i&&(a=s),d===o&&++c===r&&(l=s),(v=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Nd={focusedElem:t,selectionRange:n},mu=!1,J=e;J!==null;)if(e=J,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,J=t;else for(;J!==null;){e=J;try{var A=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var I=A.memoizedProps,E=A.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?I:In(e.type,I),E);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(x){Ke(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,J=t;break}J=e.return}return A=Qg,Qg=!1,A}function Js(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Qd(e,n,o)}i=i.next}while(i!==r)}}function hc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Kd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function q0(t){var e=t.alternate;e!==null&&(t.alternate=null,q0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[zn],delete e[ya],delete e[Md],delete e[xI],delete e[kI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function W0(t){return t.tag===5||t.tag===3||t.tag===4}function Kg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||W0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=vu));else if(r!==4&&(t=t.child,t!==null))for(Yd(t,e,n),t=t.sibling;t!==null;)Yd(t,e,n),t=t.sibling}function Jd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Jd(t,e,n),t=t.sibling;t!==null;)Jd(t,e,n),t=t.sibling}var Et=null,An=!1;function Cr(t,e,n){for(n=n.child;n!==null;)H0(t,e,n),n=n.sibling}function H0(t,e,n){if(Gn&&typeof Gn.onCommitFiberUnmount=="function")try{Gn.onCommitFiberUnmount(rc,n)}catch{}switch(n.tag){case 5:Vt||_o(n,e);case 6:var r=Et,i=An;Et=null,Cr(t,e,n),Et=r,An=i,Et!==null&&(An?(t=Et,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Et.removeChild(n.stateNode));break;case 18:Et!==null&&(An?(t=Et,n=n.stateNode,t.nodeType===8?Nh(t.parentNode,n):t.nodeType===1&&Nh(t,n),da(t)):Nh(Et,n.stateNode));break;case 4:r=Et,i=An,Et=n.stateNode.containerInfo,An=!0,Cr(t,e,n),Et=r,An=i;break;case 0:case 11:case 14:case 15:if(!Vt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Qd(n,e,s),i=i.next}while(i!==r)}Cr(t,e,n);break;case 1:if(!Vt&&(_o(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ke(n,e,a)}Cr(t,e,n);break;case 21:Cr(t,e,n);break;case 22:n.mode&1?(Vt=(r=Vt)||n.memoizedState!==null,Cr(t,e,n),Vt=r):Cr(t,e,n);break;default:Cr(t,e,n)}}function Yg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new HI),e.forEach(function(r){var i=nA.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Sn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Et=a.stateNode,An=!1;break e;case 3:Et=a.stateNode.containerInfo,An=!0;break e;case 4:Et=a.stateNode.containerInfo,An=!0;break e}a=a.return}if(Et===null)throw Error(F(160));H0(o,s,i),Et=null,An=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ke(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)G0(e,t),e=e.sibling}function G0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Sn(e,t),Bn(t),r&4){try{Js(3,t,t.return),hc(3,t)}catch(I){Ke(t,t.return,I)}try{Js(5,t,t.return)}catch(I){Ke(t,t.return,I)}}break;case 1:Sn(e,t),Bn(t),r&512&&n!==null&&_o(n,n.return);break;case 5:if(Sn(e,t),Bn(t),r&512&&n!==null&&_o(n,n.return),t.flags&32){var i=t.stateNode;try{la(i,"")}catch(I){Ke(t,t.return,I)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&p_(i,o),Ed(a,s);var u=Ed(a,o);for(s=0;s<l.length;s+=2){var c=l[s],h=l[s+1];c==="style"?__(i,h):c==="dangerouslySetInnerHTML"?y_(i,h):c==="children"?la(i,h):Kf(i,c,h,u)}switch(a){case"input":gd(i,o);break;case"textarea":m_(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var v=o.value;v!=null?Ro(i,!!o.multiple,v,!1):d!==!!o.multiple&&(o.defaultValue!=null?Ro(i,!!o.multiple,o.defaultValue,!0):Ro(i,!!o.multiple,o.multiple?[]:"",!1))}i[ya]=o}catch(I){Ke(t,t.return,I)}}break;case 6:if(Sn(e,t),Bn(t),r&4){if(t.stateNode===null)throw Error(F(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(I){Ke(t,t.return,I)}}break;case 3:if(Sn(e,t),Bn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{da(e.containerInfo)}catch(I){Ke(t,t.return,I)}break;case 4:Sn(e,t),Bn(t);break;case 13:Sn(e,t),Bn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Cp=tt())),r&4&&Yg(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Vt=(u=Vt)||c,Sn(e,t),Vt=u):Sn(e,t),Bn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(J=t,c=t.child;c!==null;){for(h=J=c;J!==null;){switch(d=J,v=d.child,d.tag){case 0:case 11:case 14:case 15:Js(4,d,d.return);break;case 1:_o(d,d.return);var A=d.stateNode;if(typeof A.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,A.props=e.memoizedProps,A.state=e.memoizedState,A.componentWillUnmount()}catch(I){Ke(r,n,I)}}break;case 5:_o(d,d.return);break;case 22:if(d.memoizedState!==null){Xg(h);continue}}v!==null?(v.return=d,J=v):Xg(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=v_("display",s))}catch(I){Ke(t,t.return,I)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(I){Ke(t,t.return,I)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Sn(e,t),Bn(t),r&4&&Yg(t);break;case 21:break;default:Sn(e,t),Bn(t)}}function Bn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(W0(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(la(i,""),r.flags&=-33);var o=Kg(t);Jd(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Kg(t);Yd(t,a,s);break;default:throw Error(F(161))}}catch(l){Ke(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function QI(t,e,n){J=t,Q0(t)}function Q0(t,e,n){for(var r=(t.mode&1)!==0;J!==null;){var i=J,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||bl;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Vt;a=bl;var u=Vt;if(bl=s,(Vt=l)&&!u)for(J=i;J!==null;)s=J,l=s.child,s.tag===22&&s.memoizedState!==null?Zg(i):l!==null?(l.return=s,J=l):Zg(i);for(;o!==null;)J=o,Q0(o),o=o.sibling;J=i,bl=a,Vt=u}Jg(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,J=o):Jg(t)}}function Jg(t){for(;J!==null;){var e=J;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Vt||hc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Vt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:In(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Vg(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Vg(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&da(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Vt||e.flags&512&&Kd(e)}catch(d){Ke(e,e.return,d)}}if(e===t){J=null;break}if(n=e.sibling,n!==null){n.return=e.return,J=n;break}J=e.return}}function Xg(t){for(;J!==null;){var e=J;if(e===t){J=null;break}var n=e.sibling;if(n!==null){n.return=e.return,J=n;break}J=e.return}}function Zg(t){for(;J!==null;){var e=J;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{hc(4,e)}catch(l){Ke(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ke(e,i,l)}}var o=e.return;try{Kd(e)}catch(l){Ke(e,o,l)}break;case 5:var s=e.return;try{Kd(e)}catch(l){Ke(e,s,l)}}}catch(l){Ke(e,e.return,l)}if(e===t){J=null;break}var a=e.sibling;if(a!==null){a.return=e.return,J=a;break}J=e.return}}var KI=Math.ceil,xu=Sr.ReactCurrentDispatcher,Rp=Sr.ReactCurrentOwner,wn=Sr.ReactCurrentBatchConfig,Se=0,yt=null,lt=null,At=0,on=0,wo=ii(0),pt=0,Sa=null,Fi=0,dc=0,Pp=0,Xs=null,Xt=null,Cp=0,Bo=1/0,lr=null,ku=!1,Xd=null,zr=null,Ll=!1,br=null,Du=0,Zs=0,Zd=null,ru=-1,iu=0;function Ht(){return Se&6?tt():ru!==-1?ru:ru=tt()}function qr(t){return t.mode&1?Se&2&&At!==0?At&-At:NI.transition!==null?(iu===0&&(iu=D_()),iu):(t=Ce,t!==0||(t=window.event,t=t===void 0?16:F_(t.type)),t):1}function Dn(t,e,n,r){if(50<Zs)throw Zs=0,Zd=null,Error(F(185));qa(t,n,r),(!(Se&2)||t!==yt)&&(t===yt&&(!(Se&2)&&(dc|=n),pt===4&&Vr(t,At)),nn(t,r),n===1&&Se===0&&!(e.mode&1)&&(Bo=tt()+500,lc&&oi()))}function nn(t,e){var n=t.callbackNode;NS(t,e);var r=pu(t,t===yt?At:0);if(r===0)n!==null&&lg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&lg(n),e===1)t.tag===0?DI(ey.bind(null,t)):r0(ey.bind(null,t)),PI(function(){!(Se&6)&&oi()}),n=null;else{switch(N_(r)){case 1:n=ep;break;case 4:n=x_;break;case 16:n=fu;break;case 536870912:n=k_;break;default:n=fu}n=nw(n,K0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function K0(t,e){if(ru=-1,iu=0,Se&6)throw Error(F(327));var n=t.callbackNode;if(Do()&&t.callbackNode!==n)return null;var r=pu(t,t===yt?At:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Nu(t,r);else{e=r;var i=Se;Se|=2;var o=J0();(yt!==t||At!==e)&&(lr=null,Bo=tt()+500,Di(t,e));do try{XI();break}catch(a){Y0(t,a)}while(!0);fp(),xu.current=o,Se=i,lt!==null?e=0:(yt=null,At=0,e=pt)}if(e!==0){if(e===2&&(i=Rd(t),i!==0&&(r=i,e=ef(t,i))),e===1)throw n=Sa,Di(t,0),Vr(t,r),nn(t,tt()),n;if(e===6)Vr(t,r);else{if(i=t.current.alternate,!(r&30)&&!YI(i)&&(e=Nu(t,r),e===2&&(o=Rd(t),o!==0&&(r=o,e=ef(t,o))),e===1))throw n=Sa,Di(t,0),Vr(t,r),nn(t,tt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(F(345));case 2:yi(t,Xt,lr);break;case 3:if(Vr(t,r),(r&130023424)===r&&(e=Cp+500-tt(),10<e)){if(pu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ht(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Vd(yi.bind(null,t,Xt,lr),e);break}yi(t,Xt,lr);break;case 4:if(Vr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-kn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*KI(r/1960))-r,10<r){t.timeoutHandle=Vd(yi.bind(null,t,Xt,lr),r);break}yi(t,Xt,lr);break;case 5:yi(t,Xt,lr);break;default:throw Error(F(329))}}}return nn(t,tt()),t.callbackNode===n?K0.bind(null,t):null}function ef(t,e){var n=Xs;return t.current.memoizedState.isDehydrated&&(Di(t,e).flags|=256),t=Nu(t,e),t!==2&&(e=Xt,Xt=n,e!==null&&tf(e)),t}function tf(t){Xt===null?Xt=t:Xt.push.apply(Xt,t)}function YI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Nn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vr(t,e){for(e&=~Pp,e&=~dc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-kn(e),r=1<<n;t[n]=-1,e&=~r}}function ey(t){if(Se&6)throw Error(F(327));Do();var e=pu(t,0);if(!(e&1))return nn(t,tt()),null;var n=Nu(t,e);if(t.tag!==0&&n===2){var r=Rd(t);r!==0&&(e=r,n=ef(t,r))}if(n===1)throw n=Sa,Di(t,0),Vr(t,e),nn(t,tt()),n;if(n===6)throw Error(F(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,yi(t,Xt,lr),nn(t,tt()),null}function xp(t,e){var n=Se;Se|=1;try{return t(e)}finally{Se=n,Se===0&&(Bo=tt()+500,lc&&oi())}}function ji(t){br!==null&&br.tag===0&&!(Se&6)&&Do();var e=Se;Se|=1;var n=wn.transition,r=Ce;try{if(wn.transition=null,Ce=1,t)return t()}finally{Ce=r,wn.transition=n,Se=e,!(Se&6)&&oi()}}function kp(){on=wo.current,Be(wo)}function Di(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,RI(n)),lt!==null)for(n=lt.return;n!==null;){var r=n;switch(cp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_u();break;case 3:jo(),Be(en),Be(jt),_p();break;case 5:vp(r);break;case 4:jo();break;case 13:Be(qe);break;case 19:Be(qe);break;case 10:pp(r.type._context);break;case 22:case 23:kp()}n=n.return}if(yt=t,lt=t=Wr(t.current,null),At=on=e,pt=0,Sa=null,Pp=dc=Fi=0,Xt=Xs=null,Si!==null){for(e=0;e<Si.length;e++)if(n=Si[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Si=null}return t}function Y0(t,e){do{var n=lt;try{if(fp(),eu.current=Cu,Pu){for(var r=We.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Pu=!1}if(Li=0,gt=ft=We=null,Ys=!1,wa=0,Rp.current=null,n===null||n.return===null){pt=1,Sa=e,lt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=At,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var v=Bg(s);if(v!==null){v.flags&=-257,$g(v,s,a,o,e),v.mode&1&&Ug(o,u,e),e=v,l=u;var A=e.updateQueue;if(A===null){var I=new Set;I.add(l),e.updateQueue=I}else A.add(l);break e}else{if(!(e&1)){Ug(o,u,e),Dp();break e}l=Error(F(426))}}else if($e&&a.mode&1){var E=Bg(s);if(E!==null){!(E.flags&65536)&&(E.flags|=256),$g(E,s,a,o,e),hp(Uo(l,a));break e}}o=l=Uo(l,a),pt!==4&&(pt=2),Xs===null?Xs=[o]:Xs.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var g=O0(o,l,e);Og(o,g);break e;case 1:a=l;var m=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof m.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(zr===null||!zr.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e;var x=V0(o,a,e);Og(o,x);break e}}o=o.return}while(o!==null)}Z0(n)}catch(L){e=L,lt===n&&n!==null&&(lt=n=n.return);continue}break}while(!0)}function J0(){var t=xu.current;return xu.current=Cu,t===null?Cu:t}function Dp(){(pt===0||pt===3||pt===2)&&(pt=4),yt===null||!(Fi&268435455)&&!(dc&268435455)||Vr(yt,At)}function Nu(t,e){var n=Se;Se|=2;var r=J0();(yt!==t||At!==e)&&(lr=null,Di(t,e));do try{JI();break}catch(i){Y0(t,i)}while(!0);if(fp(),Se=n,xu.current=r,lt!==null)throw Error(F(261));return yt=null,At=0,pt}function JI(){for(;lt!==null;)X0(lt)}function XI(){for(;lt!==null&&!SS();)X0(lt)}function X0(t){var e=tw(t.alternate,t,on);t.memoizedProps=t.pendingProps,e===null?Z0(t):lt=e,Rp.current=null}function Z0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=WI(n,e),n!==null){n.flags&=32767,lt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pt=6,lt=null;return}}else if(n=qI(n,e,on),n!==null){lt=n;return}if(e=e.sibling,e!==null){lt=e;return}lt=e=t}while(e!==null);pt===0&&(pt=5)}function yi(t,e,n){var r=Ce,i=wn.transition;try{wn.transition=null,Ce=1,ZI(t,e,n,r)}finally{wn.transition=i,Ce=r}return null}function ZI(t,e,n,r){do Do();while(br!==null);if(Se&6)throw Error(F(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(F(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(OS(t,o),t===yt&&(lt=yt=null,At=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ll||(Ll=!0,nw(fu,function(){return Do(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=wn.transition,wn.transition=null;var s=Ce;Ce=1;var a=Se;Se|=4,Rp.current=null,GI(t,n),G0(n,t),_I(Nd),mu=!!Dd,Nd=Dd=null,t.current=n,QI(n),IS(),Se=a,Ce=s,wn.transition=o}else t.current=n;if(Ll&&(Ll=!1,br=t,Du=i),o=t.pendingLanes,o===0&&(zr=null),PS(n.stateNode),nn(t,tt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ku)throw ku=!1,t=Xd,Xd=null,t;return Du&1&&t.tag!==0&&Do(),o=t.pendingLanes,o&1?t===Zd?Zs++:(Zs=0,Zd=t):Zs=0,oi(),null}function Do(){if(br!==null){var t=N_(Du),e=wn.transition,n=Ce;try{if(wn.transition=null,Ce=16>t?16:t,br===null)var r=!1;else{if(t=br,br=null,Du=0,Se&6)throw Error(F(331));var i=Se;for(Se|=4,J=t.current;J!==null;){var o=J,s=o.child;if(J.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(J=u;J!==null;){var c=J;switch(c.tag){case 0:case 11:case 15:Js(8,c,o)}var h=c.child;if(h!==null)h.return=c,J=h;else for(;J!==null;){c=J;var d=c.sibling,v=c.return;if(q0(c),c===u){J=null;break}if(d!==null){d.return=v,J=d;break}J=v}}}var A=o.alternate;if(A!==null){var I=A.child;if(I!==null){A.child=null;do{var E=I.sibling;I.sibling=null,I=E}while(I!==null)}}J=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,J=s;else e:for(;J!==null;){if(o=J,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Js(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,J=g;break e}J=o.return}}var m=t.current;for(J=m;J!==null;){s=J;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,J=w;else e:for(s=m;J!==null;){if(a=J,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:hc(9,a)}}catch(L){Ke(a,a.return,L)}if(a===s){J=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,J=x;break e}J=a.return}}if(Se=i,oi(),Gn&&typeof Gn.onPostCommitFiberRoot=="function")try{Gn.onPostCommitFiberRoot(rc,t)}catch{}r=!0}return r}finally{Ce=n,wn.transition=e}}return!1}function ty(t,e,n){e=Uo(n,e),e=O0(t,e,1),t=$r(t,e,1),e=Ht(),t!==null&&(qa(t,1,e),nn(t,e))}function Ke(t,e,n){if(t.tag===3)ty(t,t,n);else for(;e!==null;){if(e.tag===3){ty(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zr===null||!zr.has(r))){t=Uo(n,t),t=V0(e,t,1),e=$r(e,t,1),t=Ht(),e!==null&&(qa(e,1,t),nn(e,t));break}}e=e.return}}function eA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ht(),t.pingedLanes|=t.suspendedLanes&n,yt===t&&(At&n)===n&&(pt===4||pt===3&&(At&130023424)===At&&500>tt()-Cp?Di(t,0):Pp|=n),nn(t,e)}function ew(t,e){e===0&&(t.mode&1?(e=Pl,Pl<<=1,!(Pl&130023424)&&(Pl=4194304)):e=1);var n=Ht();t=vr(t,e),t!==null&&(qa(t,e,n),nn(t,n))}function tA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ew(t,n)}function nA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(e),ew(t,n)}var tw;tw=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||en.current)Zt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Zt=!1,zI(t,e,n);Zt=!!(t.flags&131072)}else Zt=!1,$e&&e.flags&1048576&&i0(e,Tu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;nu(t,e),t=e.pendingProps;var i=bo(e,jt.current);ko(e,n),i=Ep(null,e,r,t,i,n);var o=Tp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,tn(r)?(o=!0,wu(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,gp(e),i.updater=uc,e.stateNode=i,i._reactInternals=e,Bd(e,r,t,n),e=qd(null,e,r,!0,o,n)):(e.tag=0,$e&&o&&up(e),qt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(nu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=iA(r),t=In(r,t),i){case 0:e=zd(null,e,r,t,n);break e;case 1:e=Wg(null,e,r,t,n);break e;case 11:e=zg(null,e,r,t,n);break e;case 14:e=qg(null,e,r,In(r.type,t),n);break e}throw Error(F(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:In(r,i),zd(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:In(r,i),Wg(t,e,r,i,n);case 3:e:{if(F0(e),t===null)throw Error(F(387));r=e.pendingProps,o=e.memoizedState,i=o.element,l0(t,e),Au(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Uo(Error(F(423)),e),e=Hg(t,e,r,n,i);break e}else if(r!==i){i=Uo(Error(F(424)),e),e=Hg(t,e,r,n,i);break e}else for(sn=Br(e.stateNode.containerInfo.firstChild),an=e,$e=!0,Pn=null,n=d0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Lo(),r===i){e=_r(t,e,n);break e}qt(t,e,r,n)}e=e.child}return e;case 5:return f0(e),t===null&&Fd(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Od(r,i)?s=null:o!==null&&Od(r,o)&&(e.flags|=32),L0(t,e),qt(t,e,s,n),e.child;case 6:return t===null&&Fd(e),null;case 13:return j0(t,e,n);case 4:return yp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Fo(e,null,r,n):qt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:In(r,i),zg(t,e,r,i,n);case 7:return qt(t,e,e.pendingProps,n),e.child;case 8:return qt(t,e,e.pendingProps.children,n),e.child;case 12:return qt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Me(Su,r._currentValue),r._currentValue=s,o!==null)if(Nn(o.value,s)){if(o.children===i.children&&!en.current){e=_r(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=pr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),jd(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(F(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),jd(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}qt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ko(e,n),i=En(i),r=r(i),e.flags|=1,qt(t,e,r,n),e.child;case 14:return r=e.type,i=In(r,e.pendingProps),i=In(r.type,i),qg(t,e,r,i,n);case 15:return M0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:In(r,i),nu(t,e),e.tag=1,tn(r)?(t=!0,wu(e)):t=!1,ko(e,n),c0(e,r,i),Bd(e,r,i,n),qd(null,e,r,!0,t,n);case 19:return U0(t,e,n);case 22:return b0(t,e,n)}throw Error(F(156,e.tag))};function nw(t,e){return C_(t,e)}function rA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,e,n,r){return new rA(t,e,n,r)}function Np(t){return t=t.prototype,!(!t||!t.isReactComponent)}function iA(t){if(typeof t=="function")return Np(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Jf)return 11;if(t===Xf)return 14}return 2}function Wr(t,e){var n=t.alternate;return n===null?(n=_n(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ou(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Np(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case uo:return Ni(n.children,i,o,e);case Yf:s=8,i|=8;break;case hd:return t=_n(12,n,e,i|2),t.elementType=hd,t.lanes=o,t;case dd:return t=_n(13,n,e,i),t.elementType=dd,t.lanes=o,t;case fd:return t=_n(19,n,e,i),t.elementType=fd,t.lanes=o,t;case h_:return fc(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case u_:s=10;break e;case c_:s=9;break e;case Jf:s=11;break e;case Xf:s=14;break e;case Dr:s=16,r=null;break e}throw Error(F(130,t==null?t:typeof t,""))}return e=_n(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Ni(t,e,n,r){return t=_n(7,t,r,e),t.lanes=n,t}function fc(t,e,n,r){return t=_n(22,t,r,e),t.elementType=h_,t.lanes=n,t.stateNode={isHidden:!1},t}function Uh(t,e,n){return t=_n(6,t,null,e),t.lanes=n,t}function Bh(t,e,n){return e=_n(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function oA(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Eh(0),this.expirationTimes=Eh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Eh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Op(t,e,n,r,i,o,s,a,l){return t=new oA(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=_n(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gp(o),t}function sA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function rw(t){if(!t)return Xr;t=t._reactInternals;e:{if(Hi(t)!==t||t.tag!==1)throw Error(F(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(tn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(F(171))}if(t.tag===1){var n=t.type;if(tn(n))return n0(t,n,e)}return e}function iw(t,e,n,r,i,o,s,a,l){return t=Op(n,r,!0,t,i,o,s,a,l),t.context=rw(null),n=t.current,r=Ht(),i=qr(n),o=pr(r,i),o.callback=e??null,$r(n,o,i),t.current.lanes=i,qa(t,i,r),nn(t,r),t}function pc(t,e,n,r){var i=e.current,o=Ht(),s=qr(i);return n=rw(n),e.context===null?e.context=n:e.pendingContext=n,e=pr(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=$r(i,e,s),t!==null&&(Dn(t,i,s,o),Zl(t,i,s)),s}function Ou(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ny(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Vp(t,e){ny(t,e),(t=t.alternate)&&ny(t,e)}function aA(){return null}var ow=typeof reportError=="function"?reportError:function(t){console.error(t)};function Mp(t){this._internalRoot=t}mc.prototype.render=Mp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(F(409));pc(t,e,null,null)};mc.prototype.unmount=Mp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ji(function(){pc(null,t,null,null)}),e[yr]=null}};function mc(t){this._internalRoot=t}mc.prototype.unstable_scheduleHydration=function(t){if(t){var e=M_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Or.length&&e!==0&&e<Or[n].priority;n++);Or.splice(n,0,t),n===0&&L_(t)}};function bp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function gc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ry(){}function lA(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Ou(s);o.call(u)}}var s=iw(e,r,t,0,null,!1,!1,"",ry);return t._reactRootContainer=s,t[yr]=s.current,ma(t.nodeType===8?t.parentNode:t),ji(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Ou(l);a.call(u)}}var l=Op(t,0,!1,null,null,!1,!1,"",ry);return t._reactRootContainer=l,t[yr]=l.current,ma(t.nodeType===8?t.parentNode:t),ji(function(){pc(e,l,n,r)}),l}function yc(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Ou(s);a.call(l)}}pc(e,s,t,i)}else s=lA(n,e,t,i,r);return Ou(s)}O_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=js(e.pendingLanes);n!==0&&(tp(e,n|1),nn(e,tt()),!(Se&6)&&(Bo=tt()+500,oi()))}break;case 13:ji(function(){var r=vr(t,1);if(r!==null){var i=Ht();Dn(r,t,1,i)}}),Vp(t,1)}};np=function(t){if(t.tag===13){var e=vr(t,134217728);if(e!==null){var n=Ht();Dn(e,t,134217728,n)}Vp(t,134217728)}};V_=function(t){if(t.tag===13){var e=qr(t),n=vr(t,e);if(n!==null){var r=Ht();Dn(n,t,e,r)}Vp(t,e)}};M_=function(){return Ce};b_=function(t,e){var n=Ce;try{return Ce=t,e()}finally{Ce=n}};Sd=function(t,e,n){switch(e){case"input":if(gd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ac(r);if(!i)throw Error(F(90));f_(r),gd(r,i)}}}break;case"textarea":m_(t,n);break;case"select":e=n.value,e!=null&&Ro(t,!!n.multiple,e,!1)}};T_=xp;S_=ji;var uA={usingClientEntryPoint:!1,Events:[Ha,po,ac,w_,E_,xp]},As={findFiberByHostInstance:Ti,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},cA={bundleType:As.bundleType,version:As.version,rendererPackageName:As.rendererPackageName,rendererConfig:As.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=R_(t),t===null?null:t.stateNode},findFiberByHostInstance:As.findFiberByHostInstance||aA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fl.isDisabled&&Fl.supportsFiber)try{rc=Fl.inject(cA),Gn=Fl}catch{}}cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uA;cn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bp(e))throw Error(F(200));return sA(t,e,null,n)};cn.createRoot=function(t,e){if(!bp(t))throw Error(F(299));var n=!1,r="",i=ow;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Op(t,1,!1,null,null,n,!1,r,i),t[yr]=e.current,ma(t.nodeType===8?t.parentNode:t),new Mp(e)};cn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(F(188)):(t=Object.keys(t).join(","),Error(F(268,t)));return t=R_(e),t=t===null?null:t.stateNode,t};cn.flushSync=function(t){return ji(t)};cn.hydrate=function(t,e,n){if(!gc(e))throw Error(F(200));return yc(null,t,e,!0,n)};cn.hydrateRoot=function(t,e,n){if(!bp(t))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=ow;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=iw(e,null,t,1,n??null,i,!1,o,s),t[yr]=e.current,ma(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new mc(e)};cn.render=function(t,e,n){if(!gc(e))throw Error(F(200));return yc(null,t,e,!1,n)};cn.unmountComponentAtNode=function(t){if(!gc(t))throw Error(F(40));return t._reactRootContainer?(ji(function(){yc(null,null,t,!1,function(){t._reactRootContainer=null,t[yr]=null})}),!0):!1};cn.unstable_batchedUpdates=xp;cn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!gc(n))throw Error(F(200));if(t==null||t._reactInternals===void 0)throw Error(F(38));return yc(t,e,n,!1,r)};cn.version="18.2.0-next-9e3b772b8-20220608";function sw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sw)}catch(t){console.error(t)}}sw(),i_.exports=cn;var Lp=i_.exports;const hA=$f(Lp),dA=Hv({__proto__:null,default:hA},[Lp]);var iy=Lp;ud.createRoot=iy.createRoot,ud.hydrateRoot=iy.hydrateRoot;/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ye(){return Ye=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ye.apply(this,arguments)}var Ze;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ze||(Ze={}));const oy="popstate";function fA(t){t===void 0&&(t={});function e(i,o){let{pathname:s="/",search:a="",hash:l=""}=rr(i.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),Ia("",{pathname:s,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let s=i.document.querySelector("base"),a="";if(s&&s.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof o=="string"?o:Qa(o))}function r(i,o){Zr(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return mA(e,n,r,t)}function ge(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Zr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pA(){return Math.random().toString(36).substr(2,8)}function sy(t,e){return{usr:t.state,key:t.key,idx:e}}function Ia(t,e,n,r){return n===void 0&&(n=null),Ye({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?rr(e):e,{state:n,key:e&&e.key||r||pA()})}function Qa(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function rr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function mA(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Ze.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(Ye({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function h(){a=Ze.Pop;let E=c(),g=E==null?null:E-u;u=E,l&&l({action:a,location:I.location,delta:g})}function d(E,g){a=Ze.Push;let m=Ia(I.location,E,g);n&&n(m,E),u=c()+1;let w=sy(m,u),x=I.createHref(m);try{s.pushState(w,"",x)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(x)}o&&l&&l({action:a,location:I.location,delta:1})}function v(E,g){a=Ze.Replace;let m=Ia(I.location,E,g);n&&n(m,E),u=c();let w=sy(m,u),x=I.createHref(m);s.replaceState(w,"",x),o&&l&&l({action:a,location:I.location,delta:0})}function A(E){let g=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof E=="string"?E:Qa(E);return ge(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let I={get action(){return a},get location(){return t(i,s)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(oy,h),l=E,()=>{i.removeEventListener(oy,h),l=null}},createHref(E){return e(i,E)},createURL:A,encodeLocation(E){let g=A(E);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:d,replace:v,go(E){return s.go(E)}};return I}var Qe;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Qe||(Qe={}));const gA=new Set(["lazy","caseSensitive","path","id","index","children"]);function yA(t){return t.index===!0}function nf(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let s=[...n,o],a=typeof i.id=="string"?i.id:s.join("-");if(ge(i.index!==!0||!i.children,"Cannot specify children on an index route"),ge(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),yA(i)){let l=Ye({},i,e(i),{id:a});return r[a]=l,l}else{let l=Ye({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=nf(i.children,e,s,r)),l}})}function Eo(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?rr(e):e,i=Ka(r.pathname||"/",n);if(i==null)return null;let o=aw(t);_A(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=CA(o[a],DA(i));return s}function vA(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function aw(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(ge(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Oi([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(ge(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),aw(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:RA(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of lw(o.path))i(o,s,l)}),e}function lw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=lw(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function _A(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:PA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const wA=/^:[\w-]+$/,EA=3,TA=2,SA=1,IA=10,AA=-2,ay=t=>t==="*";function RA(t,e){let n=t.split("/"),r=n.length;return n.some(ay)&&(r+=AA),e&&(r+=TA),n.filter(i=>!ay(i)).reduce((i,o)=>i+(wA.test(o)?EA:o===""?SA:IA),r)}function PA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function CA(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=xA({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=a.route;o.push({params:r,pathname:Oi([i,c.pathname]),pathnameBase:LA(Oi([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=Oi([i,c.pathnameBase]))}return o}function xA(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=kA(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{let{paramName:d,isOptional:v}=c;if(d==="*"){let I=a[h]||"";s=o.slice(0,o.length-I.length).replace(/(.)\/+$/,"$1")}const A=a[h];return v&&!A?u[d]=void 0:u[d]=NA(A||"",d),u},{}),pathname:o,pathnameBase:s,pattern:t}}function kA(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Zr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function DA(t){try{return decodeURI(t)}catch(e){return Zr(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function NA(t,e){try{return decodeURIComponent(t)}catch(n){return Zr(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Ka(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function OA(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?rr(t):t;return{pathname:n?n.startsWith("/")?n:VA(n,e):e,search:FA(r),hash:jA(i)}}function VA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function $h(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uw(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function MA(t,e){let n=uw(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function bA(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=rr(t):(i=Ye({},t),ge(!i.pathname||!i.pathname.includes("?"),$h("?","pathname","search",i)),ge(!i.pathname||!i.pathname.includes("#"),$h("#","pathname","hash",i)),ge(!i.search||!i.search.includes("#"),$h("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let h=e.length-1;if(!r&&s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}a=h>=0?e[h]:"/"}let l=OA(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Oi=t=>t.join("/").replace(/\/\/+/g,"/"),LA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),FA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,jA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Fp{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function cw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const hw=["post","put","patch","delete"],UA=new Set(hw),BA=["get",...hw],$A=new Set(BA),zA=new Set([301,302,303,307,308]),qA=new Set([307,308]),zh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},WA={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Rs={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},dw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,HA=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),fw="remix-router-transitions";function GA(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;ge(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let R=t.detectErrorBoundary;i=C=>({hasErrorBoundary:R(C)})}else i=HA;let o={},s=nf(t.routes,i,void 0,o),a,l=t.basename||"/",u=Ye({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},t.future),c=null,h=new Set,d=null,v=null,A=null,I=t.hydrationData!=null,E=Eo(s,t.history.location,l),g=null;if(E==null){let R=pn(404,{pathname:t.history.location.pathname}),{matches:C,route:k}=my(s);E=C,g={[k.id]:R}}let m,w=E.some(R=>R.route.lazy),x=E.some(R=>R.route.loader);if(w)m=!1;else if(!x)m=!0;else if(u.v7_partialHydration){let R=t.hydrationData?t.hydrationData.loaderData:null,C=t.hydrationData?t.hydrationData.errors:null;m=E.every(k=>k.route.loader&&k.route.loader.hydrate!==!0&&(R&&R[k.route.id]!==void 0||C&&C[k.route.id]!==void 0))}else m=t.hydrationData!=null;let L,T={historyAction:t.history.action,location:t.history.location,matches:E,initialized:m,navigation:zh,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||g,fetchers:new Map,blockers:new Map},D=Ze.Pop,j=!1,q,z=!1,Y=new Map,Le=null,De=!1,ct=!1,Kt=[],Bt=[],Ae=new Map,G=0,re=-1,ie=new Map,Ee=new Set,Ne=new Map,dn=new Map,ht=new Set,rn=new Map,wt=new Map,bn=!1;function ls(){if(c=t.history.listen(R=>{let{action:C,location:k,delta:B}=R;if(bn){bn=!1;return}Zr(wt.size===0||B!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Z=cs({currentLocation:T.location,nextLocation:k,historyAction:C});if(Z&&B!=null){bn=!0,t.history.go(B*-1),pi(Z,{state:"blocked",location:k,proceed(){pi(Z,{state:"proceeding",proceed:void 0,reset:void 0,location:k}),t.history.go(B)},reset(){let fe=new Map(T.blockers);fe.set(Z,Rs),$t({blockers:fe})}});return}return or(C,k)}),n){iR(e,Y);let R=()=>oR(e,Y);e.addEventListener("pagehide",R),Le=()=>e.removeEventListener("pagehide",R)}return T.initialized||or(Ze.Pop,T.location,{initialHydration:!0}),L}function Xc(){c&&c(),Le&&Le(),h.clear(),q&&q.abort(),T.fetchers.forEach((R,C)=>Fn(C)),T.blockers.forEach((R,C)=>vl(C))}function Zc(R){return h.add(R),()=>h.delete(R)}function $t(R,C){C===void 0&&(C={}),T=Ye({},T,R);let k=[],B=[];u.v7_fetcherPersist&&T.fetchers.forEach((Z,fe)=>{Z.state==="idle"&&(ht.has(fe)?B.push(fe):k.push(fe))}),[...h].forEach(Z=>Z(T,{deletedFetchers:B,unstable_viewTransitionOpts:C.viewTransitionOpts,unstable_flushSync:C.flushSync===!0})),u.v7_fetcherPersist&&(k.forEach(Z=>T.fetchers.delete(Z)),B.forEach(Z=>Fn(Z)))}function ci(R,C,k){var B,Z;let{flushSync:fe}=k===void 0?{}:k,oe=T.actionData!=null&&T.navigation.formMethod!=null&&Rn(T.navigation.formMethod)&&T.navigation.state==="loading"&&((B=R.state)==null?void 0:B._isRedirect)!==!0,ne;C.actionData?Object.keys(C.actionData).length>0?ne=C.actionData:ne=null:oe?ne=T.actionData:ne=null;let ee=C.loaderData?py(T.loaderData,C.loaderData,C.matches||[],C.errors):T.loaderData,me=T.blockers;me.size>0&&(me=new Map(me),me.forEach((ke,dt)=>me.set(dt,Rs)));let nt=j===!0||T.navigation.formMethod!=null&&Rn(T.navigation.formMethod)&&((Z=R.state)==null?void 0:Z._isRedirect)!==!0;a&&(s=a,a=void 0),De||D===Ze.Pop||(D===Ze.Push?t.history.push(R,R.state):D===Ze.Replace&&t.history.replace(R,R.state));let de;if(D===Ze.Pop){let ke=Y.get(T.location.pathname);ke&&ke.has(R.pathname)?de={currentLocation:T.location,nextLocation:R}:Y.has(R.pathname)&&(de={currentLocation:R,nextLocation:T.location})}else if(z){let ke=Y.get(T.location.pathname);ke?ke.add(R.pathname):(ke=new Set([R.pathname]),Y.set(T.location.pathname,ke)),de={currentLocation:T.location,nextLocation:R}}$t(Ye({},C,{actionData:ne,loaderData:ee,historyAction:D,location:R,initialized:!0,navigation:zh,revalidation:"idle",restoreScrollPosition:wl(R,C.matches||T.matches),preventScrollReset:nt,blockers:me}),{viewTransitionOpts:de,flushSync:fe===!0}),D=Ze.Pop,j=!1,z=!1,De=!1,ct=!1,Kt=[],Bt=[]}async function hi(R,C){if(typeof R=="number"){t.history.go(R);return}let k=rf(T.location,T.matches,l,u.v7_prependBasename,R,u.v7_relativeSplatPath,C?.fromRouteId,C?.relative),{path:B,submission:Z,error:fe}=ly(u.v7_normalizeFormMethod,!1,k,C),oe=T.location,ne=Ia(T.location,B,C&&C.state);ne=Ye({},ne,t.history.encodeLocation(ne));let ee=C&&C.replace!=null?C.replace:void 0,me=Ze.Push;ee===!0?me=Ze.Replace:ee===!1||Z!=null&&Rn(Z.formMethod)&&Z.formAction===T.location.pathname+T.location.search&&(me=Ze.Replace);let nt=C&&"preventScrollReset"in C?C.preventScrollReset===!0:void 0,de=(C&&C.unstable_flushSync)===!0,ke=cs({currentLocation:oe,nextLocation:ne,historyAction:me});if(ke){pi(ke,{state:"blocked",location:ne,proceed(){pi(ke,{state:"proceeding",proceed:void 0,reset:void 0,location:ne}),hi(R,C)},reset(){let dt=new Map(T.blockers);dt.set(ke,Rs),$t({blockers:dt})}});return}return await or(me,ne,{submission:Z,pendingError:fe,preventScrollReset:nt,replace:C&&C.replace,enableViewTransition:C&&C.unstable_viewTransition,flushSync:de})}function eh(){if(us(),$t({revalidation:"loading"}),T.navigation.state!=="submitting"){if(T.navigation.state==="idle"){or(T.historyAction,T.location,{startUninterruptedRevalidation:!0});return}or(D||T.historyAction,T.navigation.location,{overrideNavigation:T.navigation})}}async function or(R,C,k){q&&q.abort(),q=null,D=R,De=(k&&k.startUninterruptedRevalidation)===!0,lh(T.location,T.matches),j=(k&&k.preventScrollReset)===!0,z=(k&&k.enableViewTransition)===!0;let B=a||s,Z=k&&k.overrideNavigation,fe=Eo(B,C,l),oe=(k&&k.flushSync)===!0;if(!fe){let dt=pn(404,{pathname:C.pathname}),{matches:zt,route:rt}=my(B);hs(),ci(C,{matches:zt,loaderData:{},errors:{[rt.id]:dt}},{flushSync:oe});return}if(T.initialized&&!ct&&XA(T.location,C)&&!(k&&k.submission&&Rn(k.submission.formMethod))){ci(C,{matches:fe},{flushSync:oe});return}q=new AbortController;let ne=Cs(t.history,C,q.signal,k&&k.submission),ee,me;if(k&&k.pendingError)me={[ea(fe).route.id]:k.pendingError};else if(k&&k.submission&&Rn(k.submission.formMethod)){let dt=await th(ne,C,k.submission,fe,{replace:k.replace,flushSync:oe});if(dt.shortCircuited)return;ee=dt.pendingActionData,me=dt.pendingActionError,Z=qh(C,k.submission),oe=!1,ne=new Request(ne.url,{signal:ne.signal})}let{shortCircuited:nt,loaderData:de,errors:ke}=await nh(ne,C,fe,Z,k&&k.submission,k&&k.fetcherSubmission,k&&k.replace,k&&k.initialHydration===!0,oe,ee,me);nt||(q=null,ci(C,Ye({matches:fe},ee?{actionData:ee}:{},{loaderData:de,errors:ke})))}async function th(R,C,k,B,Z){Z===void 0&&(Z={}),us();let fe=nR(C,k);$t({navigation:fe},{flushSync:Z.flushSync===!0});let oe,ne=sf(B,C);if(!ne.route.action&&!ne.route.lazy)oe={type:Qe.error,error:pn(405,{method:R.method,pathname:C.pathname,routeId:ne.route.id})};else if(oe=await Ps("action",R,ne,B,o,i,l,u.v7_relativeSplatPath),R.signal.aborted)return{shortCircuited:!0};if(Ri(oe)){let ee;return Z&&Z.replace!=null?ee=Z.replace:ee=oe.location===T.location.pathname+T.location.search,await Ir(T,oe,{submission:k,replace:ee}),{shortCircuited:!0}}if(To(oe)){let ee=ea(B,ne.route.id);return(Z&&Z.replace)!==!0&&(D=Ze.Push),{pendingActionData:{},pendingActionError:{[ee.route.id]:oe.error}}}if(Ai(oe))throw pn(400,{type:"defer-action"});return{pendingActionData:{[ne.route.id]:oe.data}}}async function nh(R,C,k,B,Z,fe,oe,ne,ee,me,nt){let de=B||qh(C,Z),ke=Z||fe||vy(de),dt=a||s,[zt,rt]=uy(t.history,T,k,ke,C,u.v7_partialHydration&&ne===!0,ct,Kt,Bt,ht,Ne,Ee,dt,l,me,nt);if(hs(Re=>!(k&&k.some(Oe=>Oe.route.id===Re))||zt&&zt.some(Oe=>Oe.route.id===Re)),re=++G,zt.length===0&&rt.length===0){let Re=gl();return ci(C,Ye({matches:k,loaderData:{},errors:nt||null},me?{actionData:me}:{},Re?{fetchers:new Map(T.fetchers)}:{}),{flushSync:ee}),{shortCircuited:!0}}if(!De&&(!u.v7_partialHydration||!ne)){rt.forEach(Oe=>{let fn=T.fetchers.get(Oe.key),Xi=xs(void 0,fn?fn.data:void 0);T.fetchers.set(Oe.key,Xi)});let Re=me||T.actionData;$t(Ye({navigation:de},Re?Object.keys(Re).length===0?{actionData:null}:{actionData:Re}:{},rt.length>0?{fetchers:new Map(T.fetchers)}:{}),{flushSync:ee})}rt.forEach(Re=>{Ae.has(Re.key)&&jn(Re.key),Re.controller&&Ae.set(Re.key,Re.controller)});let Ar=()=>rt.forEach(Re=>jn(Re.key));q&&q.signal.addEventListener("abort",Ar);let{results:ds,loaderResults:Rr,fetcherResults:Un}=await fl(T.matches,k,zt,rt,R);if(R.signal.aborted)return{shortCircuited:!0};q&&q.signal.removeEventListener("abort",Ar),rt.forEach(Re=>Ae.delete(Re.key));let sr=gy(ds);if(sr){if(sr.idx>=zt.length){let Re=rt[sr.idx-zt.length].key;Ee.add(Re)}return await Ir(T,sr.result,{replace:oe}),{shortCircuited:!0}}let{loaderData:fs,errors:ps}=fy(T,k,zt,Rr,nt,rt,Un,rn);rn.forEach((Re,Oe)=>{Re.subscribe(fn=>{(fn||Re.done)&&rn.delete(Oe)})});let ms=gl(),ar=yl(re),Ji=ms||ar||rt.length>0;return Ye({loaderData:fs,errors:ps},Ji?{fetchers:new Map(T.fetchers)}:{})}function rh(R,C,k,B){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Ae.has(R)&&jn(R);let Z=(B&&B.unstable_flushSync)===!0,fe=a||s,oe=rf(T.location,T.matches,l,u.v7_prependBasename,k,u.v7_relativeSplatPath,C,B?.relative),ne=Eo(fe,oe,l);if(!ne){fi(R,C,pn(404,{pathname:oe}),{flushSync:Z});return}let{path:ee,submission:me,error:nt}=ly(u.v7_normalizeFormMethod,!0,oe,B);if(nt){fi(R,C,nt,{flushSync:Z});return}let de=sf(ne,ee);if(j=(B&&B.preventScrollReset)===!0,me&&Rn(me.formMethod)){ih(R,C,ee,de,ne,Z,me);return}Ne.set(R,{routeId:C,path:ee}),di(R,C,ee,de,ne,Z,me)}async function ih(R,C,k,B,Z,fe,oe){if(us(),Ne.delete(R),!B.route.action&&!B.route.lazy){let Oe=pn(405,{method:oe.formMethod,pathname:k,routeId:C});fi(R,C,Oe,{flushSync:fe});return}let ne=T.fetchers.get(R);Ln(R,rR(oe,ne),{flushSync:fe});let ee=new AbortController,me=Cs(t.history,k,ee.signal,oe);Ae.set(R,ee);let nt=G,de=await Ps("action",me,B,Z,o,i,l,u.v7_relativeSplatPath);if(me.signal.aborted){Ae.get(R)===ee&&Ae.delete(R);return}if(u.v7_fetcherPersist&&ht.has(R)){if(Ri(de)||To(de)){Ln(R,kr(void 0));return}}else{if(Ri(de))if(Ae.delete(R),re>nt){Ln(R,kr(void 0));return}else return Ee.add(R),Ln(R,xs(oe)),Ir(T,de,{fetcherSubmission:oe});if(To(de)){fi(R,C,de.error);return}}if(Ai(de))throw pn(400,{type:"defer-action"});let ke=T.navigation.location||T.location,dt=Cs(t.history,ke,ee.signal),zt=a||s,rt=T.navigation.state!=="idle"?Eo(zt,T.navigation.location,l):T.matches;ge(rt,"Didn't find any matches after fetcher action");let Ar=++G;ie.set(R,Ar);let ds=xs(oe,de.data);T.fetchers.set(R,ds);let[Rr,Un]=uy(t.history,T,rt,oe,ke,!1,ct,Kt,Bt,ht,Ne,Ee,zt,l,{[B.route.id]:de.data},void 0);Un.filter(Oe=>Oe.key!==R).forEach(Oe=>{let fn=Oe.key,Xi=T.fetchers.get(fn),ch=xs(void 0,Xi?Xi.data:void 0);T.fetchers.set(fn,ch),Ae.has(fn)&&jn(fn),Oe.controller&&Ae.set(fn,Oe.controller)}),$t({fetchers:new Map(T.fetchers)});let sr=()=>Un.forEach(Oe=>jn(Oe.key));ee.signal.addEventListener("abort",sr);let{results:fs,loaderResults:ps,fetcherResults:ms}=await fl(T.matches,rt,Rr,Un,dt);if(ee.signal.aborted)return;ee.signal.removeEventListener("abort",sr),ie.delete(R),Ae.delete(R),Un.forEach(Oe=>Ae.delete(Oe.key));let ar=gy(fs);if(ar){if(ar.idx>=Rr.length){let Oe=Un[ar.idx-Rr.length].key;Ee.add(Oe)}return Ir(T,ar.result)}let{loaderData:Ji,errors:Re}=fy(T,T.matches,Rr,ps,void 0,Un,ms,rn);if(T.fetchers.has(R)){let Oe=kr(de.data);T.fetchers.set(R,Oe)}yl(Ar),T.navigation.state==="loading"&&Ar>re?(ge(D,"Expected pending action"),q&&q.abort(),ci(T.navigation.location,{matches:rt,loaderData:Ji,errors:Re,fetchers:new Map(T.fetchers)})):($t({errors:Re,loaderData:py(T.loaderData,Ji,rt,Re),fetchers:new Map(T.fetchers)}),ct=!1)}async function di(R,C,k,B,Z,fe,oe){let ne=T.fetchers.get(R);Ln(R,xs(oe,ne?ne.data:void 0),{flushSync:fe});let ee=new AbortController,me=Cs(t.history,k,ee.signal);Ae.set(R,ee);let nt=G,de=await Ps("loader",me,B,Z,o,i,l,u.v7_relativeSplatPath);if(Ai(de)&&(de=await gw(de,me.signal,!0)||de),Ae.get(R)===ee&&Ae.delete(R),!me.signal.aborted){if(ht.has(R)){Ln(R,kr(void 0));return}if(Ri(de))if(re>nt){Ln(R,kr(void 0));return}else{Ee.add(R),await Ir(T,de);return}if(To(de)){fi(R,C,de.error);return}ge(!Ai(de),"Unhandled fetcher deferred data"),Ln(R,kr(de.data))}}async function Ir(R,C,k){let{submission:B,fetcherSubmission:Z,replace:fe}=k===void 0?{}:k;C.revalidate&&(ct=!0);let oe=Ia(R.location,C.location,{_isRedirect:!0});if(ge(oe,"Expected a location on the redirect navigation"),n){let ke=!1;if(C.reloadDocument)ke=!0;else if(dw.test(C.location)){const dt=t.history.createURL(C.location);ke=dt.origin!==e.location.origin||Ka(dt.pathname,l)==null}if(ke){fe?e.location.replace(C.location):e.location.assign(C.location);return}}q=null;let ne=fe===!0?Ze.Replace:Ze.Push,{formMethod:ee,formAction:me,formEncType:nt}=R.navigation;!B&&!Z&&ee&&me&&nt&&(B=vy(R.navigation));let de=B||Z;if(qA.has(C.status)&&de&&Rn(de.formMethod))await or(ne,oe,{submission:Ye({},de,{formAction:C.location}),preventScrollReset:j});else{let ke=qh(oe,B);await or(ne,oe,{overrideNavigation:ke,fetcherSubmission:Z,preventScrollReset:j})}}async function fl(R,C,k,B,Z){let fe=await Promise.all([...k.map(ee=>Ps("loader",Z,ee,C,o,i,l,u.v7_relativeSplatPath)),...B.map(ee=>ee.matches&&ee.match&&ee.controller?Ps("loader",Cs(t.history,ee.path,ee.controller.signal),ee.match,ee.matches,o,i,l,u.v7_relativeSplatPath):{type:Qe.error,error:pn(404,{pathname:ee.path})})]),oe=fe.slice(0,k.length),ne=fe.slice(k.length);return await Promise.all([yy(R,k,oe,oe.map(()=>Z.signal),!1,T.loaderData),yy(R,B.map(ee=>ee.match),ne,B.map(ee=>ee.controller?ee.controller.signal:null),!0)]),{results:fe,loaderResults:oe,fetcherResults:ne}}function us(){ct=!0,Kt.push(...hs()),Ne.forEach((R,C)=>{Ae.has(C)&&(Bt.push(C),jn(C))})}function Ln(R,C,k){k===void 0&&(k={}),T.fetchers.set(R,C),$t({fetchers:new Map(T.fetchers)},{flushSync:(k&&k.flushSync)===!0})}function fi(R,C,k,B){B===void 0&&(B={});let Z=ea(T.matches,C);Fn(R),$t({errors:{[Z.route.id]:k},fetchers:new Map(T.fetchers)},{flushSync:(B&&B.flushSync)===!0})}function pl(R){return u.v7_fetcherPersist&&(dn.set(R,(dn.get(R)||0)+1),ht.has(R)&&ht.delete(R)),T.fetchers.get(R)||WA}function Fn(R){let C=T.fetchers.get(R);Ae.has(R)&&!(C&&C.state==="loading"&&ie.has(R))&&jn(R),Ne.delete(R),ie.delete(R),Ee.delete(R),ht.delete(R),T.fetchers.delete(R)}function oh(R){if(u.v7_fetcherPersist){let C=(dn.get(R)||0)-1;C<=0?(dn.delete(R),ht.add(R)):dn.set(R,C)}else Fn(R);$t({fetchers:new Map(T.fetchers)})}function jn(R){let C=Ae.get(R);ge(C,"Expected fetch controller: "+R),C.abort(),Ae.delete(R)}function ml(R){for(let C of R){let k=pl(C),B=kr(k.data);T.fetchers.set(C,B)}}function gl(){let R=[],C=!1;for(let k of Ee){let B=T.fetchers.get(k);ge(B,"Expected fetcher: "+k),B.state==="loading"&&(Ee.delete(k),R.push(k),C=!0)}return ml(R),C}function yl(R){let C=[];for(let[k,B]of ie)if(B<R){let Z=T.fetchers.get(k);ge(Z,"Expected fetcher: "+k),Z.state==="loading"&&(jn(k),ie.delete(k),C.push(k))}return ml(C),C.length>0}function sh(R,C){let k=T.blockers.get(R)||Rs;return wt.get(R)!==C&&wt.set(R,C),k}function vl(R){T.blockers.delete(R),wt.delete(R)}function pi(R,C){let k=T.blockers.get(R)||Rs;ge(k.state==="unblocked"&&C.state==="blocked"||k.state==="blocked"&&C.state==="blocked"||k.state==="blocked"&&C.state==="proceeding"||k.state==="blocked"&&C.state==="unblocked"||k.state==="proceeding"&&C.state==="unblocked","Invalid blocker state transition: "+k.state+" -> "+C.state);let B=new Map(T.blockers);B.set(R,C),$t({blockers:B})}function cs(R){let{currentLocation:C,nextLocation:k,historyAction:B}=R;if(wt.size===0)return;wt.size>1&&Zr(!1,"A router only supports one blocker at a time");let Z=Array.from(wt.entries()),[fe,oe]=Z[Z.length-1],ne=T.blockers.get(fe);if(!(ne&&ne.state==="proceeding")&&oe({currentLocation:C,nextLocation:k,historyAction:B}))return fe}function hs(R){let C=[];return rn.forEach((k,B)=>{(!R||R(B))&&(k.cancel(),C.push(B),rn.delete(B))}),C}function ah(R,C,k){if(d=R,A=C,v=k||null,!I&&T.navigation===zh){I=!0;let B=wl(T.location,T.matches);B!=null&&$t({restoreScrollPosition:B})}return()=>{d=null,A=null,v=null}}function _l(R,C){return v&&v(R,C.map(B=>vA(B,T.loaderData)))||R.key}function lh(R,C){if(d&&A){let k=_l(R,C);d[k]=A()}}function wl(R,C){if(d){let k=_l(R,C),B=d[k];if(typeof B=="number")return B}return null}function uh(R){o={},a=nf(R,i,void 0,o)}return L={get basename(){return l},get future(){return u},get state(){return T},get routes(){return s},get window(){return e},initialize:ls,subscribe:Zc,enableScrollRestoration:ah,navigate:hi,fetch:rh,revalidate:eh,createHref:R=>t.history.createHref(R),encodeLocation:R=>t.history.encodeLocation(R),getFetcher:pl,deleteFetcher:oh,dispose:Xc,getBlocker:sh,deleteBlocker:vl,_internalFetchControllers:Ae,_internalActiveDeferreds:rn,_internalSetRoutes:uh},L}function QA(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function rf(t,e,n,r,i,o,s,a){let l,u;if(s){l=[];for(let h of e)if(l.push(h),h.route.id===s){u=h;break}}else l=e,u=e[e.length-1];let c=bA(i||".",MA(l,o),Ka(t.pathname,n)||t.pathname,a==="path");return i==null&&(c.search=t.search,c.hash=t.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!jp(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:Oi([n,c.pathname])),Qa(c)}function ly(t,e,n,r){if(!r||!QA(r))return{path:n};if(r.formMethod&&!tR(r.formMethod))return{path:n,error:pn(405,{method:r.formMethod})};let i=()=>({path:n,error:pn(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=t?o.toUpperCase():o.toLowerCase(),a=mw(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Rn(s))return i();let d=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((v,A)=>{let[I,E]=A;return""+v+I+"="+E+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:d}}}else if(r.formEncType==="application/json"){if(!Rn(s))return i();try{let d=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:d,text:void 0}}}catch{return i()}}}ge(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=of(r.formData),u=r.formData;else if(r.body instanceof FormData)l=of(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=dy(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=dy(l)}catch{return i()}let c={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Rn(c.formMethod))return{path:n,submission:c};let h=rr(n);return e&&h.search&&jp(h.search)&&l.append("index",""),h.search="?"+l,{path:Qa(h),submission:c}}function KA(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function uy(t,e,n,r,i,o,s,a,l,u,c,h,d,v,A,I){let E=I?Object.values(I)[0]:A?Object.values(A)[0]:void 0,g=t.createURL(e.location),m=t.createURL(i),w=I?Object.keys(I)[0]:void 0,L=KA(n,w).filter((D,j)=>{let{route:q}=D;if(q.lazy)return!0;if(q.loader==null)return!1;if(o)return q.loader.hydrate?!0:e.loaderData[q.id]===void 0&&(!e.errors||e.errors[q.id]===void 0);if(YA(e.loaderData,e.matches[j],D)||a.some(Le=>Le===D.route.id))return!0;let z=e.matches[j],Y=D;return cy(D,Ye({currentUrl:g,currentParams:z.params,nextUrl:m,nextParams:Y.params},r,{actionResult:E,defaultShouldRevalidate:s||g.pathname+g.search===m.pathname+m.search||g.search!==m.search||pw(z,Y)}))}),T=[];return c.forEach((D,j)=>{if(o||!n.some(De=>De.route.id===D.routeId)||u.has(j))return;let q=Eo(d,D.path,v);if(!q){T.push({key:j,routeId:D.routeId,path:D.path,matches:null,match:null,controller:null});return}let z=e.fetchers.get(j),Y=sf(q,D.path),Le=!1;h.has(j)?Le=!1:l.includes(j)?Le=!0:z&&z.state!=="idle"&&z.data===void 0?Le=s:Le=cy(Y,Ye({currentUrl:g,currentParams:e.matches[e.matches.length-1].params,nextUrl:m,nextParams:n[n.length-1].params},r,{actionResult:E,defaultShouldRevalidate:s})),Le&&T.push({key:j,routeId:D.routeId,path:D.path,matches:q,match:Y,controller:new AbortController})}),[L,T]}function YA(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function pw(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function cy(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function hy(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];ge(i,"No route found in manifest");let o={};for(let s in r){let l=i[s]!==void 0&&s!=="hasErrorBoundary";Zr(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!gA.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,Ye({},e(i),{lazy:void 0}))}async function Ps(t,e,n,r,i,o,s,a,l){l===void 0&&(l={});let u,c,h,d=I=>{let E,g=new Promise((m,w)=>E=w);return h=()=>E(),e.signal.addEventListener("abort",h),Promise.race([I({request:e,params:n.params,context:l.requestContext}),g])};try{let I=n.route[t];if(n.route.lazy)if(I){let E,g=await Promise.all([d(I).catch(m=>{E=m}),hy(n.route,o,i)]);if(E)throw E;c=g[0]}else if(await hy(n.route,o,i),I=n.route[t],I)c=await d(I);else if(t==="action"){let E=new URL(e.url),g=E.pathname+E.search;throw pn(405,{method:e.method,pathname:g,routeId:n.route.id})}else return{type:Qe.data,data:void 0};else if(I)c=await d(I);else{let E=new URL(e.url),g=E.pathname+E.search;throw pn(404,{pathname:g})}ge(c!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(I){u=Qe.error,c=I}finally{h&&e.signal.removeEventListener("abort",h)}if(eR(c)){let I=c.status;if(zA.has(I)){let g=c.headers.get("Location");if(ge(g,"Redirects returned/thrown from loaders/actions must have a Location header"),!dw.test(g))g=rf(new URL(e.url),r.slice(0,r.indexOf(n)+1),s,!0,g,a);else if(!l.isStaticRequest){let m=new URL(e.url),w=g.startsWith("//")?new URL(m.protocol+g):new URL(g),x=Ka(w.pathname,s)!=null;w.origin===m.origin&&x&&(g=w.pathname+w.search+w.hash)}if(l.isStaticRequest)throw c.headers.set("Location",g),c;return{type:Qe.redirect,status:I,location:g,revalidate:c.headers.get("X-Remix-Revalidate")!==null,reloadDocument:c.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:u===Qe.error?Qe.error:Qe.data,response:c};let E;try{let g=c.headers.get("Content-Type");g&&/\bapplication\/json\b/.test(g)?c.body==null?E=null:E=await c.json():E=await c.text()}catch(g){return{type:Qe.error,error:g}}return u===Qe.error?{type:u,error:new Fp(I,c.statusText,E),headers:c.headers}:{type:Qe.data,data:E,statusCode:c.status,headers:c.headers}}if(u===Qe.error)return{type:u,error:c};if(ZA(c)){var v,A;return{type:Qe.deferred,deferredData:c,statusCode:(v=c.init)==null?void 0:v.status,headers:((A=c.init)==null?void 0:A.headers)&&new Headers(c.init.headers)}}return{type:Qe.data,data:c}}function Cs(t,e,n,r){let i=t.createURL(mw(e)).toString(),o={signal:n};if(r&&Rn(r.formMethod)){let{formMethod:s,formEncType:a}=r;o.method=s.toUpperCase(),a==="application/json"?(o.headers=new Headers({"Content-Type":a}),o.body=JSON.stringify(r.json)):a==="text/plain"?o.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?o.body=of(r.formData):o.body=r.formData}return new Request(i,o)}function of(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function dy(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function JA(t,e,n,r,i){let o={},s=null,a,l=!1,u={};return n.forEach((c,h)=>{let d=e[h].route.id;if(ge(!Ri(c),"Cannot handle redirect results in processLoaderData"),To(c)){let v=ea(t,d),A=c.error;r&&(A=Object.values(r)[0],r=void 0),s=s||{},s[v.route.id]==null&&(s[v.route.id]=A),o[d]=void 0,l||(l=!0,a=cw(c.error)?c.error.status:500),c.headers&&(u[d]=c.headers)}else Ai(c)?(i.set(d,c.deferredData),o[d]=c.deferredData.data):o[d]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[d]=c.headers)}),r&&(s=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:u}}function fy(t,e,n,r,i,o,s,a){let{loaderData:l,errors:u}=JA(e,n,r,i,a);for(let c=0;c<o.length;c++){let{key:h,match:d,controller:v}=o[c];ge(s!==void 0&&s[c]!==void 0,"Did not find corresponding fetcher result");let A=s[c];if(!(v&&v.signal.aborted))if(To(A)){let I=ea(t.matches,d?.route.id);u&&u[I.route.id]||(u=Ye({},u,{[I.route.id]:A.error})),t.fetchers.delete(h)}else if(Ri(A))ge(!1,"Unhandled fetcher revalidation redirect");else if(Ai(A))ge(!1,"Unhandled fetcher deferred data");else{let I=kr(A.data);t.fetchers.set(h,I)}}return{loaderData:l,errors:u}}function py(t,e,n,r){let i=Ye({},e);for(let o of n){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function ea(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function my(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function pn(t,e){let{pathname:n,routeId:r,method:i,type:o}=e===void 0?{}:e,s="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(s="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?a="defer() is not supported in actions":o==="invalid-body"&&(a="Unable to encode submission body")):t===403?(s="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(s="Not Found",a='No route matches URL "'+n+'"'):t===405&&(s="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new Fp(t||500,s,new Error(a),!0)}function gy(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Ri(n))return{result:n,idx:e}}}function mw(t){let e=typeof t=="string"?rr(t):t;return Qa(Ye({},e,{hash:""}))}function XA(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Ai(t){return t.type===Qe.deferred}function To(t){return t.type===Qe.error}function Ri(t){return(t&&t.type)===Qe.redirect}function ZA(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function eR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function tR(t){return $A.has(t.toLowerCase())}function Rn(t){return UA.has(t.toLowerCase())}async function yy(t,e,n,r,i,o){for(let s=0;s<n.length;s++){let a=n[s],l=e[s];if(!l)continue;let u=t.find(h=>h.route.id===l.route.id),c=u!=null&&!pw(u,l)&&(o&&o[l.route.id])!==void 0;if(Ai(a)&&(i||c)){let h=r[s];ge(h,"Expected an AbortSignal for revalidating fetcher deferred result"),await gw(a,h,i).then(d=>{d&&(n[s]=d||n[s])})}}}async function gw(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Qe.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Qe.error,error:i}}return{type:Qe.data,data:t.deferredData.data}}}function jp(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function sf(t,e){let n=typeof e=="string"?rr(e).search:e.search;if(t[t.length-1].route.index&&jp(n||""))return t[t.length-1];let r=uw(t);return r[r.length-1]}function vy(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:s}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function qh(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function nR(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function xs(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function rR(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function kr(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function iR(t,e){try{let n=t.sessionStorage.getItem(fw);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function oR(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(fw,JSON.stringify(n))}catch(r){Zr(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vu(){return Vu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vu.apply(this,arguments)}const yw=M.createContext(null),vw=M.createContext(null),_w=M.createContext(null),vc=M.createContext(null),_c=M.createContext({outlet:null,matches:[],isDataRoute:!1}),ww=M.createContext(null);function Up(){return M.useContext(vc)!=null}function Ew(){return Up()||ge(!1),M.useContext(vc).location}function sR(t,e){return Tw(t,e)}function Tw(t,e,n,r){Up()||ge(!1);let{navigator:i}=M.useContext(_w),{matches:o}=M.useContext(_c),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=Ew(),c;if(e){var h;let E=typeof e=="string"?rr(e):e;l==="/"||(h=E.pathname)!=null&&h.startsWith(l)||ge(!1),c=E}else c=u;let d=c.pathname||"/",v=l==="/"?d:d.slice(l.length)||"/",A=Eo(t,{pathname:v}),I=hR(A&&A.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:Oi([l,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:Oi([l,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,n,r);return e&&I?M.createElement(vc.Provider,{value:{location:Vu({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Ze.Pop}},I):I}function aR(){let t=mR(),e=cw(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:i},n):null,null)}const lR=M.createElement(aR,null);class uR extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?M.createElement(_c.Provider,{value:this.props.routeContext},M.createElement(ww.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function cR(t){let{routeContext:e,match:n,children:r}=t,i=M.useContext(yw);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement(_c.Provider,{value:e},r)}function hR(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=s.findIndex(h=>h.route.id&&a?.[h.route.id]);c>=0||ge(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let h=s[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:d,errors:v}=n,A=h.route.loader&&d[h.route.id]===void 0&&(!v||v[h.route.id]===void 0);if(h.route.lazy||A){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,h,d)=>{let v,A=!1,I=null,E=null;n&&(v=a&&h.route.id?a[h.route.id]:void 0,I=h.route.errorElement||lR,l&&(u<0&&d===0?(gR("route-fallback",!1),A=!0,E=null):u===d&&(A=!0,E=h.route.hydrateFallbackElement||null)));let g=e.concat(s.slice(0,d+1)),m=()=>{let w;return v?w=I:A?w=E:h.route.Component?w=M.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=c,M.createElement(cR,{match:h,routeContext:{outlet:c,matches:g,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?M.createElement(uR,{location:n.location,revalidation:n.revalidation,component:I,error:v,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var af=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(af||{});function dR(t){let e=M.useContext(vw);return e||ge(!1),e}function fR(t){let e=M.useContext(_c);return e||ge(!1),e}function pR(t){let e=fR(),n=e.matches[e.matches.length-1];return n.route.id||ge(!1),n.route.id}function mR(){var t;let e=M.useContext(ww),n=dR(af.UseRouteError),r=pR(af.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}const _y={};function gR(t,e,n){!e&&!_y[t]&&(_y[t]=!0)}function io(t){ge(!1)}function yR(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ze.Pop,navigator:o,static:s=!1,future:a}=t;Up()&&ge(!1);let l=e.replace(/^\/*/,"/"),u=M.useMemo(()=>({basename:l,navigator:o,static:s,future:Vu({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=rr(r));let{pathname:c="/",search:h="",hash:d="",state:v=null,key:A="default"}=r,I=M.useMemo(()=>{let E=Ka(c,l);return E==null?null:{location:{pathname:E,search:h,hash:d,state:v,key:A},navigationType:i}},[l,c,h,d,v,A,i]);return I==null?null:M.createElement(_w.Provider,{value:u},M.createElement(vc.Provider,{children:n,value:I}))}function vR(t){let{children:e,location:n}=t;return sR(lf(e),n)}new Promise(()=>{});function lf(t,e){e===void 0&&(e=[]);let n=[];return M.Children.forEach(t,(r,i)=>{if(!M.isValidElement(r))return;let o=[...e,i];if(r.type===M.Fragment){n.push.apply(n,lf(r.props.children,o));return}r.type!==io&&ge(!1),!r.props.index||!r.props.children||ge(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=lf(r.props.children,o)),n.push(s)}),n}function _R(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:M.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:M.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:M.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mu(){return Mu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mu.apply(this,arguments)}const wR="6";try{window.__reactRouterVersion=wR}catch{}function ER(t,e){return GA({basename:e?.basename,future:Mu({},e?.future,{v7_prependBasename:!0}),history:fA({window:e?.window}),hydrationData:e?.hydrationData||TR(),routes:t,mapRouteProperties:_R,window:e?.window}).initialize()}function TR(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Mu({},e,{errors:SR(e.errors)})),e}function SR(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Fp(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const IR=M.createContext({isTransitioning:!1}),AR=M.createContext(new Map),RR="startTransition",wy=tS[RR],PR="flushSync",Ey=dA[PR];function CR(t){wy?wy(t):t()}function ks(t){Ey?Ey(t):t()}let xR=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function kR(t){let{fallbackElement:e,router:n,future:r}=t,[i,o]=M.useState(n.state),[s,a]=M.useState(),[l,u]=M.useState({isTransitioning:!1}),[c,h]=M.useState(),[d,v]=M.useState(),[A,I]=M.useState(),E=M.useRef(new Map),{v7_startTransition:g}=r||{},m=M.useCallback(D=>{g?CR(D):D()},[g]),w=M.useCallback((D,j)=>{let{deletedFetchers:q,unstable_flushSync:z,unstable_viewTransitionOpts:Y}=j;q.forEach(De=>E.current.delete(De)),D.fetchers.forEach((De,ct)=>{De.data!==void 0&&E.current.set(ct,De.data)});let Le=n.window==null||typeof n.window.document.startViewTransition!="function";if(!Y||Le){z?ks(()=>o(D)):m(()=>o(D));return}if(z){ks(()=>{d&&(c&&c.resolve(),d.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:Y.currentLocation,nextLocation:Y.nextLocation})});let De=n.window.document.startViewTransition(()=>{ks(()=>o(D))});De.finished.finally(()=>{ks(()=>{h(void 0),v(void 0),a(void 0),u({isTransitioning:!1})})}),ks(()=>v(De));return}d?(c&&c.resolve(),d.skipTransition(),I({state:D,currentLocation:Y.currentLocation,nextLocation:Y.nextLocation})):(a(D),u({isTransitioning:!0,flushSync:!1,currentLocation:Y.currentLocation,nextLocation:Y.nextLocation}))},[n.window,d,c,E,m]);M.useLayoutEffect(()=>n.subscribe(w),[n,w]),M.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new xR)},[l]),M.useEffect(()=>{if(c&&s&&n.window){let D=s,j=c.promise,q=n.window.document.startViewTransition(async()=>{m(()=>o(D)),await j});q.finished.finally(()=>{h(void 0),v(void 0),a(void 0),u({isTransitioning:!1})}),v(q)}},[m,s,c,n.window]),M.useEffect(()=>{c&&s&&i.location.key===s.location.key&&c.resolve()},[c,d,i.location,s]),M.useEffect(()=>{!l.isTransitioning&&A&&(a(A.state),u({isTransitioning:!0,flushSync:!1,currentLocation:A.currentLocation,nextLocation:A.nextLocation}),I(void 0))},[l.isTransitioning,A]),M.useEffect(()=>{},[]);let x=M.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:D=>n.navigate(D),push:(D,j,q)=>n.navigate(D,{state:j,preventScrollReset:q?.preventScrollReset}),replace:(D,j,q)=>n.navigate(D,{replace:!0,state:j,preventScrollReset:q?.preventScrollReset})}),[n]),L=n.basename||"/",T=M.useMemo(()=>({router:n,navigator:x,static:!1,basename:L}),[n,x,L]);return M.createElement(M.Fragment,null,M.createElement(yw.Provider,{value:T},M.createElement(vw.Provider,{value:i},M.createElement(AR.Provider,{value:E.current},M.createElement(IR.Provider,{value:l},M.createElement(yR,{basename:L,location:i.location,navigationType:i.historyAction,navigator:x,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?M.createElement(DR,{routes:n.routes,future:n.future,state:i}):e))))),null)}function DR(t){let{routes:e,future:n,state:r}=t;return Tw(e,void 0,r,n)}var Ty;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ty||(Ty={}));var Sy;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Sy||(Sy={}));var Iy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},NR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Iw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,h=(o&3)<<4|a>>4;let d=(a&15)<<2|u>>6,v=u&63;l||(v=64,s||(d=64)),r.push(n[c],n[h],n[d],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Sw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):NR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||h==null)throw new OR;const d=o<<2|a>>4;if(r.push(d),u!==64){const v=a<<4&240|u>>2;if(r.push(v),h!==64){const A=u<<6&192|h;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class OR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VR=function(t){const e=Sw(t);return Iw.encodeByteArray(e,!0)},bu=function(t){return VR(t).replace(/\./g,"")},MR=function(t){try{return Iw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=()=>bR().__FIREBASE_DEFAULTS__,FR=()=>{if(typeof process>"u"||typeof Iy>"u")return;const t=Iy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},jR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&MR(t[1]);return e&&JSON.parse(e)},Bp=()=>{try{return LR()||FR()||jR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},UR=t=>{var e,n;return(n=(e=Bp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Aw=t=>{const e=UR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Rw=()=>{var t;return(t=Bp())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[bu(JSON.stringify(n)),bu(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $R(){var t;const e=(t=Bp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zR(){return!$R()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Cw(){try{return typeof indexedDB=="object"}catch{return!1}}function qR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR="FirebaseError";class Gi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=WR,Object.setPrototypeOf(this,Gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xw.prototype.create)}}class xw{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?HR(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Gi(i,a,r)}}function HR(t,e){return t.replace(GR,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const GR=/\{\$([^}]+)}/g;function uf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Ay(o)&&Ay(s)){if(!uf(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ay(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(t){return t&&t._delegate?t._delegate:t}class $o{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new BR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YR(e))try{this.getOrInitializeService({instanceIdentifier:vi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=vi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vi){return this.instances.has(e)}getOptions(e=vi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:KR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=vi){return this.component?this.component.multipleInstances?e:vi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KR(t){return t===vi?void 0:t}function YR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new QR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Te||(Te={}));const XR={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},ZR=Te.INFO,eP={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},tP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=eP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kw{constructor(e){this.name=e,this._logLevel=ZR,this._logHandler=tP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}}const nP=(t,e)=>e.some(n=>t instanceof n);let Ry,Py;function rP(){return Ry||(Ry=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iP(){return Py||(Py=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Dw=new WeakMap,cf=new WeakMap,Nw=new WeakMap,Wh=new WeakMap,$p=new WeakMap;function oP(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Hr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Dw.set(n,t)}).catch(()=>{}),$p.set(e,t),e}function sP(t){if(cf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});cf.set(t,e)}let hf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return cf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Nw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function aP(t){hf=t(hf)}function lP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Hh(this),e,...n);return Nw.set(r,e.sort?e.sort():[e]),Hr(r)}:iP().includes(t)?function(...e){return t.apply(Hh(this),e),Hr(Dw.get(this))}:function(...e){return Hr(t.apply(Hh(this),e))}}function uP(t){return typeof t=="function"?lP(t):(t instanceof IDBTransaction&&sP(t),nP(t,rP())?new Proxy(t,hf):t)}function Hr(t){if(t instanceof IDBRequest)return oP(t);if(Wh.has(t))return Wh.get(t);const e=uP(t);return e!==t&&(Wh.set(t,e),$p.set(e,t)),e}const Hh=t=>$p.get(t);function cP(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Hr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Hr(s.result),l.oldVersion,l.newVersion,Hr(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const hP=["get","getKey","getAll","getAllKeys","count"],dP=["put","add","delete","clear"],Gh=new Map;function Cy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gh.get(e))return Gh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=dP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||hP.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Gh.set(e,o),o}aP(t=>({...t,get:(e,n,r)=>Cy(e,n)||t.get(e,n,r),has:(e,n)=>!!Cy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(pP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function pP(t){const e=t.getComponent();return e?.type==="VERSION"}const df="@firebase/app",xy="0.9.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new kw("@firebase/app"),mP="@firebase/app-compat",gP="@firebase/analytics-compat",yP="@firebase/analytics",vP="@firebase/app-check-compat",_P="@firebase/app-check",wP="@firebase/auth",EP="@firebase/auth-compat",TP="@firebase/database",SP="@firebase/database-compat",IP="@firebase/functions",AP="@firebase/functions-compat",RP="@firebase/installations",PP="@firebase/installations-compat",CP="@firebase/messaging",xP="@firebase/messaging-compat",kP="@firebase/performance",DP="@firebase/performance-compat",NP="@firebase/remote-config",OP="@firebase/remote-config-compat",VP="@firebase/storage",MP="@firebase/storage-compat",bP="@firebase/firestore",LP="@firebase/firestore-compat",FP="firebase",jP="10.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff="[DEFAULT]",UP={[df]:"fire-core",[mP]:"fire-core-compat",[yP]:"fire-analytics",[gP]:"fire-analytics-compat",[_P]:"fire-app-check",[vP]:"fire-app-check-compat",[wP]:"fire-auth",[EP]:"fire-auth-compat",[TP]:"fire-rtdb",[SP]:"fire-rtdb-compat",[IP]:"fire-fn",[AP]:"fire-fn-compat",[RP]:"fire-iid",[PP]:"fire-iid-compat",[CP]:"fire-fcm",[xP]:"fire-fcm-compat",[kP]:"fire-perf",[DP]:"fire-perf-compat",[NP]:"fire-rc",[OP]:"fire-rc-compat",[VP]:"fire-gcs",[MP]:"fire-gcs-compat",[bP]:"fire-fst",[LP]:"fire-fst-compat","fire-js":"fire-js",[FP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu=new Map,pf=new Map;function BP(t,e){try{t.container.addComponent(e)}catch(n){Ui.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Aa(t){const e=t.name;if(pf.has(e))return Ui.debug(`There were multiple attempts to register component ${e}.`),!1;pf.set(e,t);for(const n of Fu.values())BP(n,t);return!0}function Ow(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Gr=new xw("app","Firebase",$P);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $o("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw=jP;function Mw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ff,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Gr.create("bad-app-name",{appName:String(i)});if(n||(n=Rw()),!n)throw Gr.create("no-options");const o=Fu.get(i);if(o){if(uf(n,o.options)&&uf(r,o.config))return o;throw Gr.create("duplicate-app",{appName:i})}const s=new JR(i);for(const l of pf.values())s.addComponent(l);const a=new zP(n,r,s);return Fu.set(i,a),a}function bw(t=ff){const e=Fu.get(t);if(!e&&t===ff&&Rw())return Mw();if(!e)throw Gr.create("no-app",{appName:t});return e}function Qr(t,e,n){var r;let i=(r=UP[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ui.warn(a.join(" "));return}Aa(new $o(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP="firebase-heartbeat-database",WP=1,Ra="firebase-heartbeat-store";let Qh=null;function Lw(){return Qh||(Qh=cP(qP,WP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ra)}catch(n){console.warn(n)}}}}).catch(t=>{throw Gr.create("idb-open",{originalErrorMessage:t.message})})),Qh}async function HP(t){try{const n=(await Lw()).transaction(Ra),r=await n.objectStore(Ra).get(Fw(t));return await n.done,r}catch(e){if(e instanceof Gi)Ui.warn(e.message);else{const n=Gr.create("idb-get",{originalErrorMessage:e?.message});Ui.warn(n.message)}}}async function ky(t,e){try{const r=(await Lw()).transaction(Ra,"readwrite");await r.objectStore(Ra).put(e,Fw(t)),await r.done}catch(n){if(n instanceof Gi)Ui.warn(n.message);else{const r=Gr.create("idb-set",{originalErrorMessage:n?.message});Ui.warn(r.message)}}}function Fw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP=1024,QP=30*24*60*60*1e3;class KP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new JP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Dy();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=QP}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Dy(),{heartbeatsToSend:r,unsentEntries:i}=YP(this._heartbeatsCache.heartbeats),o=bu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function Dy(){return new Date().toISOString().substring(0,10)}function YP(t,e=GP){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Ny(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ny(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class JP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Cw()?qR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await HP(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ky(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ky(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Ny(t){return bu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP(t){Aa(new $o("platform-logger",e=>new fP(e),"PRIVATE")),Aa(new $o("heartbeat",e=>new KP(e),"PRIVATE")),Qr(df,xy,t),Qr(df,xy,"esm2017"),Qr("fire-js","")}XP("");var ZP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},H,zp=zp||{},le=ZP||self;function wc(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Ya(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function eC(t){return Object.prototype.hasOwnProperty.call(t,Kh)&&t[Kh]||(t[Kh]=++tC)}var Kh="closure_uid_"+(1e9*Math.random()>>>0),tC=0;function nC(t,e,n){return t.call.apply(t.bind,arguments)}function rC(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function bt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?bt=nC:bt=rC,bt.apply(null,arguments)}function jl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function _t(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function si(){this.s=this.s,this.o=this.o}var iC=0;si.prototype.s=!1;si.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),iC!=0)&&eC(this)};si.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const jw=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function qp(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Oy(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(wc(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Lt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Lt.prototype.h=function(){this.defaultPrevented=!0};var oC=function(){if(!le.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};le.addEventListener("test",n,e),le.removeEventListener("test",n,e)}catch{}return t}();function Pa(t){return/^[\s\xa0]*$/.test(t)}function Ec(){var t=le.navigator;return t&&(t=t.userAgent)?t:""}function qn(t){return Ec().indexOf(t)!=-1}function Wp(t){return Wp[" "](t),t}Wp[" "]=function(){};function sC(t,e){var n=XC;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var aC=qn("Opera"),zo=qn("Trident")||qn("MSIE"),Uw=qn("Edge"),mf=Uw||zo,Bw=qn("Gecko")&&!(Ec().toLowerCase().indexOf("webkit")!=-1&&!qn("Edge"))&&!(qn("Trident")||qn("MSIE"))&&!qn("Edge"),lC=Ec().toLowerCase().indexOf("webkit")!=-1&&!qn("Edge");function $w(){var t=le.document;return t?t.documentMode:void 0}var gf;e:{var Yh="",Jh=function(){var t=Ec();if(Bw)return/rv:([^\);]+)(\)|;)/.exec(t);if(Uw)return/Edge\/([\d\.]+)/.exec(t);if(zo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(lC)return/WebKit\/(\S+)/.exec(t);if(aC)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Jh&&(Yh=Jh?Jh[1]:""),zo){var Xh=$w();if(Xh!=null&&Xh>parseFloat(Yh)){gf=String(Xh);break e}}gf=Yh}var yf;if(le.document&&zo){var Vy=$w();yf=Vy||parseInt(gf,10)||void 0}else yf=void 0;var uC=yf;function Ca(t,e){if(Lt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Bw){e:{try{Wp(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:cC[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ca.$.h.call(this)}}_t(Ca,Lt);var cC={2:"touch",3:"pen",4:"mouse"};Ca.prototype.h=function(){Ca.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ja="closure_listenable_"+(1e6*Math.random()|0),hC=0;function dC(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++hC,this.fa=this.ia=!1}function Tc(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Hp(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function fC(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function zw(t){const e={};for(const n in t)e[n]=t[n];return e}const My="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qw(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<My.length;o++)n=My[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Sc(t){this.src=t,this.g={},this.h=0}Sc.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=_f(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new dC(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function vf(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=jw(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Tc(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function _f(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var Gp="closure_lm_"+(1e6*Math.random()|0),Zh={};function Ww(t,e,n,r,i){if(r&&r.once)return Gw(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ww(t,e[o],n,r,i);return null}return n=Yp(n),t&&t[Ja]?t.O(e,n,Ya(r)?!!r.capture:!!r,i):Hw(t,e,n,!1,r,i)}function Hw(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Ya(i)?!!i.capture:!!i,a=Kp(t);if(a||(t[Gp]=a=new Sc(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=pC(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)oC||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Kw(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function pC(){function t(n){return e.call(t.src,t.listener,n)}const e=mC;return t}function Gw(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Gw(t,e[o],n,r,i);return null}return n=Yp(n),t&&t[Ja]?t.P(e,n,Ya(r)?!!r.capture:!!r,i):Hw(t,e,n,!0,r,i)}function Qw(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Qw(t,e[o],n,r,i);else r=Ya(r)?!!r.capture:!!r,n=Yp(n),t&&t[Ja]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=_f(o,n,r,i),-1<n&&(Tc(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Kp(t))&&(e=t.g[e.toString()],t=-1,e&&(t=_f(e,n,r,i)),(n=-1<t?e[t]:null)&&Qp(n))}function Qp(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Ja])vf(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Kw(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Kp(e))?(vf(n,t),n.h==0&&(n.src=null,e[Gp]=null)):Tc(t)}}}function Kw(t){return t in Zh?Zh[t]:Zh[t]="on"+t}function mC(t,e){if(t.fa)t=!0;else{e=new Ca(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Qp(t),t=n.call(r,e)}return t}function Kp(t){return t=t[Gp],t instanceof Sc?t:null}var ed="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yp(t){return typeof t=="function"?t:(t[ed]||(t[ed]=function(e){return t.handleEvent(e)}),t[ed])}function vt(){si.call(this),this.i=new Sc(this),this.S=this,this.J=null}_t(vt,si);vt.prototype[Ja]=!0;vt.prototype.removeEventListener=function(t,e,n,r){Qw(this,t,e,n,r)};function Rt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Lt(e,t);else if(e instanceof Lt)e.target=e.target||t;else{var i=e;e=new Lt(r,t),qw(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Ul(s,r,!0,e)&&i}if(s=e.g=t,i=Ul(s,r,!0,e)&&i,i=Ul(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=Ul(s,r,!1,e)&&i}vt.prototype.N=function(){if(vt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Tc(n[r]);delete t.g[e],t.h--}}this.J=null};vt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};vt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Ul(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&vf(t.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Jp=le.JSON.stringify;class gC{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function yC(){var t=Xp;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class vC{constructor(){this.h=this.g=null}add(e,n){const r=Yw.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Yw=new gC(()=>new _C,t=>t.reset());class _C{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function wC(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function EC(t){le.setTimeout(()=>{throw t},0)}let xa,ka=!1,Xp=new vC,Jw=()=>{const t=le.Promise.resolve(void 0);xa=()=>{t.then(TC)}};var TC=()=>{for(var t;t=yC();){try{t.h.call(t.g)}catch(n){EC(n)}var e=Yw;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ka=!1};function Ic(t,e){vt.call(this),this.h=t||1,this.g=e||le,this.j=bt(this.qb,this),this.l=Date.now()}_t(Ic,vt);H=Ic.prototype;H.ga=!1;H.T=null;H.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Rt(this,"tick"),this.ga&&(Zp(this),this.start()))}};H.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Zp(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}H.N=function(){Ic.$.N.call(this),Zp(this),delete this.g};function em(t,e,n){if(typeof t=="function")n&&(t=bt(t,n));else if(t&&typeof t.handleEvent=="function")t=bt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:le.setTimeout(t,e||0)}function Xw(t){t.g=em(()=>{t.g=null,t.i&&(t.i=!1,Xw(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class SC extends si{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Xw(this)}N(){super.N(),this.g&&(le.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Da(t){si.call(this),this.h=t,this.g={}}_t(Da,si);var by=[];function Zw(t,e,n,r){Array.isArray(n)||(n&&(by[0]=n.toString()),n=by);for(var i=0;i<n.length;i++){var o=Ww(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function e1(t){Hp(t.g,function(e,n){this.g.hasOwnProperty(n)&&Qp(e)},t),t.g={}}Da.prototype.N=function(){Da.$.N.call(this),e1(this)};Da.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ac(){this.g=!0}Ac.prototype.Ea=function(){this.g=!1};function IC(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");s=2<=h.length&&h[1]=="type"?s+(c+"="+u+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function AC(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function So(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+PC(t,n)+(r?" "+r:"")})}function RC(t,e){t.info(function(){return"TIMEOUT: "+e})}Ac.prototype.info=function(){};function PC(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return Jp(n)}catch{return e}}var Qi={},Ly=null;function Rc(){return Ly=Ly||new vt}Qi.Ta="serverreachability";function t1(t){Lt.call(this,Qi.Ta,t)}_t(t1,Lt);function Na(t){const e=Rc();Rt(e,new t1(e))}Qi.STAT_EVENT="statevent";function n1(t,e){Lt.call(this,Qi.STAT_EVENT,t),this.stat=e}_t(n1,Lt);function Wt(t){const e=Rc();Rt(e,new n1(e,t))}Qi.Ua="timingevent";function r1(t,e){Lt.call(this,Qi.Ua,t),this.size=e}_t(r1,Lt);function Xa(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return le.setTimeout(function(){t()},e)}var Pc={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},i1={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function tm(){}tm.prototype.h=null;function Fy(t){return t.h||(t.h=t.i())}function o1(){}var Za={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function nm(){Lt.call(this,"d")}_t(nm,Lt);function rm(){Lt.call(this,"c")}_t(rm,Lt);var wf;function Cc(){}_t(Cc,tm);Cc.prototype.g=function(){return new XMLHttpRequest};Cc.prototype.i=function(){return{}};wf=new Cc;function el(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Da(this),this.P=CC,t=mf?125:void 0,this.V=new Ic(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new s1}function s1(){this.i=null,this.g="",this.h=!1}var CC=45e3,a1={},Ef={};H=el.prototype;H.setTimeout=function(t){this.P=t};function Tf(t,e,n){t.L=1,t.A=kc(wr(e)),t.u=n,t.S=!0,l1(t,null)}function l1(t,e){t.G=Date.now(),tl(t),t.B=wr(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),g1(n.i,"t",r),t.o=0,n=t.l.J,t.h=new s1,t.g=L1(t.l,n?e:null,!t.u),0<t.O&&(t.M=new SC(bt(t.Pa,t,t.g),t.O)),Zw(t.U,t.g,"readystatechange",t.nb),e=t.I?zw(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Na(),IC(t.j,t.v,t.B,t.m,t.W,t.u)}H.nb=function(t){t=t.target;const e=this.M;e&&Wn(t)==3?e.l():this.Pa(t)};H.Pa=function(t){try{if(t==this.g)e:{const c=Wn(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||mf||this.g&&(this.h.h||this.g.ja()||$y(this.g)))){this.J||c!=4||e==7||(e==8||0>=h?Na(3):Na(2)),xc(this);var n=this.g.da();this.ca=n;t:if(u1(this)){var r=$y(this.g);t="";var i=r.length,o=Wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pi(this),ta(this);var s="";break t}this.h.i=new le.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,AC(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Pa(a)){var u=a;break t}}u=null}if(n=u)So(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sf(this,n);else{this.i=!1,this.s=3,Wt(12),Pi(this),ta(this);break e}}this.S?(c1(this,c,s),mf&&this.i&&c==3&&(Zw(this.U,this.V,"tick",this.mb),this.V.start())):(So(this.j,this.m,s,null),Sf(this,s)),c==4&&Pi(this),this.i&&!this.J&&(c==4?O1(this.l,this):(this.i=!1,tl(this)))}else KC(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),Pi(this),ta(this)}}}catch{}finally{}};function u1(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function c1(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=xC(t,n),i==Ef){e==4&&(t.s=4,Wt(14),r=!1),So(t.j,t.m,null,"[Incomplete Response]");break}else if(i==a1){t.s=4,Wt(15),So(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else So(t.j,t.m,i,null),Sf(t,i);u1(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Wt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),um(e),e.M=!0,Wt(11))):(So(t.j,t.m,n,"[Invalid Chunked Response]"),Pi(t),ta(t))}H.mb=function(){if(this.g){var t=Wn(this.g),e=this.g.ja();this.o<e.length&&(xc(this),c1(this,t,e),this.i&&t!=4&&tl(this))}};function xC(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Ef:(n=Number(e.substring(n,r)),isNaN(n)?a1:(r+=1,r+n>e.length?Ef:(e=e.slice(r,r+n),t.o=r+n,e)))}H.cancel=function(){this.J=!0,Pi(this)};function tl(t){t.Y=Date.now()+t.P,h1(t,t.P)}function h1(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Xa(bt(t.lb,t),e)}function xc(t){t.C&&(le.clearTimeout(t.C),t.C=null)}H.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(RC(this.j,this.B),this.L!=2&&(Na(),Wt(17)),Pi(this),this.s=2,ta(this)):h1(this,this.Y-t)};function ta(t){t.l.H==0||t.J||O1(t.l,t)}function Pi(t){xc(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Zp(t.V),e1(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Sf(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||If(n.i,t))){if(!t.K&&If(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Bu(n),Vc(n);else break e;lm(n),Wt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Xa(bt(n.ib,n),6e3));if(1>=_1(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ci(n,11)}else if((t.K||n.g==t)&&Bu(n),!Pa(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const v=t.g;if(v){const A=v.g?v.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(A){var o=r.i;o.g||A.indexOf("spdy")==-1&&A.indexOf("quic")==-1&&A.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(im(o,o.h),o.h=null))}if(r.F){const I=v.g?v.g.getResponseHeader("X-HTTP-Session-Id"):null;I&&(r.Da=I,je(r.I,r.F,I))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=b1(r,r.J?r.pa:null,r.Y),s.K){w1(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(xc(a),tl(a)),r.g=s}else D1(r);0<n.j.length&&Mc(n)}else u[0]!="stop"&&u[0]!="close"||Ci(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Ci(n,7):am(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Na(4)}catch{}}function kC(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(wc(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function DC(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(wc(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function d1(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(wc(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=DC(t),r=kC(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var f1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function NC(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Vi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Vi){this.h=t.h,ju(this,t.j),this.s=t.s,this.g=t.g,Uu(this,t.m),this.l=t.l;var e=t.i,n=new Oa;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),jy(this,n),this.o=t.o}else t&&(e=String(t).match(f1))?(this.h=!1,ju(this,e[1]||"",!0),this.s=Bs(e[2]||""),this.g=Bs(e[3]||"",!0),Uu(this,e[4]),this.l=Bs(e[5]||"",!0),jy(this,e[6]||"",!0),this.o=Bs(e[7]||"")):(this.h=!1,this.i=new Oa(null,this.h))}Vi.prototype.toString=function(){var t=[],e=this.j;e&&t.push($s(e,Uy,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push($s(e,Uy,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push($s(n,n.charAt(0)=="/"?MC:VC,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",$s(n,LC)),t.join("")};function wr(t){return new Vi(t)}function ju(t,e,n){t.j=n?Bs(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Uu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function jy(t,e,n){e instanceof Oa?(t.i=e,FC(t.i,t.h)):(n||(e=$s(e,bC)),t.i=new Oa(e,t.h))}function je(t,e,n){t.i.set(e,n)}function kc(t){return je(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Bs(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function $s(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,OC),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function OC(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Uy=/[#\/\?@]/g,VC=/[#\?:]/g,MC=/[#\?]/g,bC=/[#\?@]/g,LC=/#/g;function Oa(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ai(t){t.g||(t.g=new Map,t.h=0,t.i&&NC(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}H=Oa.prototype;H.add=function(t,e){ai(this),this.i=null,t=ts(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function p1(t,e){ai(t),e=ts(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function m1(t,e){return ai(t),e=ts(t,e),t.g.has(e)}H.forEach=function(t,e){ai(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};H.ta=function(){ai(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};H.Z=function(t){ai(this);let e=[];if(typeof t=="string")m1(this,t)&&(e=e.concat(this.g.get(ts(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};H.set=function(t,e){return ai(this),this.i=null,t=ts(this,t),m1(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};H.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function g1(t,e,n){p1(t,e),0<n.length&&(t.i=null,t.g.set(ts(t,e),qp(n)),t.h+=n.length)}H.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function ts(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function FC(t,e){e&&!t.j&&(ai(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(p1(this,r),g1(this,i,n))},t)),t.j=e}var jC=class{constructor(t,e){this.g=t,this.map=e}};function y1(t){this.l=t||UC,le.PerformanceNavigationTiming?(t=le.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(le.g&&le.g.Ka&&le.g.Ka()&&le.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var UC=10;function v1(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function _1(t){return t.h?1:t.g?t.g.size:0}function If(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function im(t,e){t.g?t.g.add(e):t.h=e}function w1(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}y1.prototype.cancel=function(){if(this.i=E1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function E1(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return qp(t.i)}var BC=class{stringify(t){return le.JSON.stringify(t,void 0)}parse(t){return le.JSON.parse(t,void 0)}};function $C(){this.g=new BC}function zC(t,e,n){const r=n||"";try{d1(t,function(i,o){let s=i;Ya(i)&&(s=Jp(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function qC(t,e){const n=new Ac;if(le.Image){const r=new Image;r.onload=jl(Bl,n,r,"TestLoadImage: loaded",!0,e),r.onerror=jl(Bl,n,r,"TestLoadImage: error",!1,e),r.onabort=jl(Bl,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=jl(Bl,n,r,"TestLoadImage: timeout",!1,e),le.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Bl(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Dc(t){this.l=t.ec||null,this.j=t.ob||!1}_t(Dc,tm);Dc.prototype.g=function(){return new Nc(this.l,this.j)};Dc.prototype.i=function(t){return function(){return t}}({});function Nc(t,e){vt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=om,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_t(Nc,vt);var om=0;H=Nc.prototype;H.open=function(t,e){if(this.readyState!=om)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Va(this)};H.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||le).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};H.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,nl(this)),this.readyState=om};H.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Va(this)),this.g&&(this.readyState=3,Va(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof le.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;T1(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function T1(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}H.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?nl(this):Va(this),this.readyState==3&&T1(this)}};H.Za=function(t){this.g&&(this.response=this.responseText=t,nl(this))};H.Ya=function(t){this.g&&(this.response=t,nl(this))};H.ka=function(){this.g&&nl(this)};function nl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Va(t)}H.setRequestHeader=function(t,e){this.v.append(t,e)};H.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};H.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Va(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Nc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var WC=le.JSON.parse;function Xe(t){vt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=S1,this.L=this.M=!1}_t(Xe,vt);var S1="",HC=/^https?$/i,GC=["POST","PUT"];H=Xe.prototype;H.Oa=function(t){this.M=t};H.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():wf.g(),this.C=this.u?Fy(this.u):Fy(wf),this.g.onreadystatechange=bt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){By(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=le.FormData&&t instanceof le.FormData,!(0<=jw(GC,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{R1(this),0<this.B&&((this.L=QC(this.g))?(this.g.timeout=this.B,this.g.ontimeout=bt(this.ua,this)):this.A=em(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){By(this,o)}};function QC(t){return zo&&typeof t.timeout=="number"&&t.ontimeout!==void 0}H.ua=function(){typeof zp<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Rt(this,"timeout"),this.abort(8))};function By(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,I1(t),Oc(t)}function I1(t){t.F||(t.F=!0,Rt(t,"complete"),Rt(t,"error"))}H.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Rt(this,"complete"),Rt(this,"abort"),Oc(this))};H.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Oc(this,!0)),Xe.$.N.call(this)};H.La=function(){this.s||(this.G||this.v||this.l?A1(this):this.kb())};H.kb=function(){A1(this)};function A1(t){if(t.h&&typeof zp<"u"&&(!t.C[1]||Wn(t)!=4||t.da()!=2)){if(t.v&&Wn(t)==4)em(t.La,0,t);else if(Rt(t,"readystatechange"),Wn(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(f1)[1]||null;!i&&le.self&&le.self.location&&(i=le.self.location.protocol.slice(0,-1)),r=!HC.test(i?i.toLowerCase():"")}n=r}if(n)Rt(t,"complete"),Rt(t,"success");else{t.m=6;try{var o=2<Wn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",I1(t)}}finally{Oc(t)}}}}function Oc(t,e){if(t.g){R1(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Rt(t,"ready");try{n.onreadystatechange=r}catch{}}}function R1(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(le.clearTimeout(t.A),t.A=null)}H.isActive=function(){return!!this.g};function Wn(t){return t.g?t.g.readyState:0}H.da=function(){try{return 2<Wn(this)?this.g.status:-1}catch{return-1}};H.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};H.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),WC(e)}};function $y(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case S1:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function KC(t){const e={};t=(t.g&&2<=Wn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Pa(t[r]))continue;var n=wC(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}fC(e,function(r){return r.join(", ")})}H.Ia=function(){return this.m};H.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function P1(t){let e="";return Hp(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function sm(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=P1(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):je(t,e,n))}function Ds(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function C1(t){this.Ga=0,this.j=[],this.l=new Ac,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ds("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ds("baseRetryDelayMs",5e3,t),this.hb=Ds("retryDelaySeedMs",1e4,t),this.eb=Ds("forwardChannelMaxRetries",2,t),this.xa=Ds("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new y1(t&&t.concurrentRequestLimit),this.Ja=new $C,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}H=C1.prototype;H.ra=8;H.H=1;function am(t){if(x1(t),t.H==3){var e=t.W++,n=wr(t.I);if(je(n,"SID",t.K),je(n,"RID",e),je(n,"TYPE","terminate"),rl(t,n),e=new el(t,t.l,e),e.L=2,e.A=kc(wr(n)),n=!1,le.navigator&&le.navigator.sendBeacon)try{n=le.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&le.Image&&(new Image().src=e.A,n=!0),n||(e.g=L1(e.l,null),e.g.ha(e.A)),e.G=Date.now(),tl(e)}M1(t)}function Vc(t){t.g&&(um(t),t.g.cancel(),t.g=null)}function x1(t){Vc(t),t.u&&(le.clearTimeout(t.u),t.u=null),Bu(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&le.clearTimeout(t.m),t.m=null)}function Mc(t){if(!v1(t.i)&&!t.m){t.m=!0;var e=t.Na;xa||Jw(),ka||(xa(),ka=!0),Xp.add(e,t),t.C=0}}function YC(t,e){return _1(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Xa(bt(t.Na,t,e),V1(t,t.C)),t.C++,!0)}H.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new el(this,this.l,t);let o=this.s;if(this.U&&(o?(o=zw(o),qw(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=k1(this,i,e),n=wr(this.I),je(n,"RID",t),je(n,"CVER",22),this.F&&je(n,"X-HTTP-Session-Id",this.F),rl(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(P1(o)))+"&"+e:this.o&&sm(n,this.o,o)),im(this.i,i),this.bb&&je(n,"TYPE","init"),this.P?(je(n,"$req",e),je(n,"SID","null"),i.aa=!0,Tf(i,n,null)):Tf(i,n,e),this.H=2}}else this.H==3&&(t?zy(this,t):this.j.length==0||v1(this.i)||zy(this))};function zy(t,e){var n;e?n=e.m:n=t.W++;const r=wr(t.I);je(r,"SID",t.K),je(r,"RID",n),je(r,"AID",t.V),rl(t,r),t.o&&t.s&&sm(r,t.o,t.s),n=new el(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=k1(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),im(t.i,n),Tf(n,r,e)}function rl(t,e){t.na&&Hp(t.na,function(n,r){je(e,r,n)}),t.h&&d1({},function(n,r){je(e,r,n)})}function k1(t,e,n){n=Math.min(t.j.length,n);var r=t.h?bt(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=o,0>u)o=Math.max(0,i[l].g-100),a=!1;else try{zC(c,s,"req"+u+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function D1(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;xa||Jw(),ka||(xa(),ka=!0),Xp.add(e,t),t.A=0}}function lm(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Xa(bt(t.Ma,t),V1(t,t.A)),t.A++,!0)}H.Ma=function(){if(this.u=null,N1(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Xa(bt(this.jb,this),t)}};H.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Wt(10),Vc(this),N1(this))};function um(t){t.B!=null&&(le.clearTimeout(t.B),t.B=null)}function N1(t){t.g=new el(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=wr(t.wa);je(e,"RID","rpc"),je(e,"SID",t.K),je(e,"AID",t.V),je(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&je(e,"TO",t.qa),je(e,"TYPE","xmlhttp"),rl(t,e),t.o&&t.s&&sm(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=kc(wr(e)),n.u=null,n.S=!0,l1(n,t)}H.ib=function(){this.v!=null&&(this.v=null,Vc(this),lm(this),Wt(19))};function Bu(t){t.v!=null&&(le.clearTimeout(t.v),t.v=null)}function O1(t,e){var n=null;if(t.g==e){Bu(t),um(t),t.g=null;var r=2}else if(If(t.i,e))n=e.F,w1(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Rc(),Rt(r,new r1(r,n)),Mc(t)}else D1(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&YC(t,e)||r==2&&lm(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ci(t,5);break;case 4:Ci(t,10);break;case 3:Ci(t,6);break;default:Ci(t,2)}}}function V1(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ci(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=bt(t.pb,t);n||(n=new Vi("//www.google.com/images/cleardot.gif"),le.location&&le.location.protocol=="http"||ju(n,"https"),kc(n)),qC(n.toString(),r)}else Wt(2);t.H=0,t.h&&t.h.za(e),M1(t),x1(t)}H.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Wt(2)):(this.l.info("Failed to ping google.com"),Wt(1))};function M1(t){if(t.H=0,t.ma=[],t.h){const e=E1(t.i);(e.length!=0||t.j.length!=0)&&(Oy(t.ma,e),Oy(t.ma,t.j),t.i.i.length=0,qp(t.j),t.j.length=0),t.h.ya()}}function b1(t,e,n){var r=n instanceof Vi?wr(n):new Vi(n);if(r.g!="")e&&(r.g=e+"."+r.g),Uu(r,r.m);else{var i=le.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Vi(null);r&&ju(o,r),e&&(o.g=e),i&&Uu(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&je(r,n,e),je(r,"VER",t.ra),rl(t,r),r}function L1(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Xe(new Dc({ob:n})):new Xe(t.va),e.Oa(t.J),e}H.isActive=function(){return!!this.h&&this.h.isActive(this)};function F1(){}H=F1.prototype;H.Ba=function(){};H.Aa=function(){};H.za=function(){};H.ya=function(){};H.isActive=function(){return!0};H.Va=function(){};function $u(){if(zo&&!(10<=Number(uC)))throw Error("Environmental error: no available transport.")}$u.prototype.g=function(t,e){return new un(t,e)};function un(t,e){vt.call(this),this.g=new C1(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Pa(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Pa(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ns(this)}_t(un,vt);un.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Wt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=b1(t,null,t.Y),Mc(t)};un.prototype.close=function(){am(this.g)};un.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Jp(t),t=n);e.j.push(new jC(e.fb++,t)),e.H==3&&Mc(e)};un.prototype.N=function(){this.g.h=null,delete this.j,am(this.g),delete this.g,un.$.N.call(this)};function j1(t){nm.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}_t(j1,nm);function U1(){rm.call(this),this.status=1}_t(U1,rm);function ns(t){this.g=t}_t(ns,F1);ns.prototype.Ba=function(){Rt(this.g,"a")};ns.prototype.Aa=function(t){Rt(this.g,new j1(t))};ns.prototype.za=function(t){Rt(this.g,new U1)};ns.prototype.ya=function(){Rt(this.g,"b")};function JC(){this.blockSize=-1}function On(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}_t(On,JC);On.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function td(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}On.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)td(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){td(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){td(this,r),i=0;break}}this.h=i,this.i+=e};On.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function xe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var XC={};function cm(t){return-128<=t&&128>t?sC(t,function(e){return new xe([e|0],0>e?-1:0)}):new xe([t|0],0>t?-1:0)}function Hn(t){if(isNaN(t)||!isFinite(t))return No;if(0>t)return St(Hn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Af;return new xe(e,0)}function B1(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return St(B1(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Hn(Math.pow(e,8)),r=No,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Hn(Math.pow(e,o)),r=r.R(o).add(Hn(s))):(r=r.R(n),r=r.add(Hn(s)))}return r}var Af=4294967296,No=cm(0),Rf=cm(1),qy=cm(16777216);H=xe.prototype;H.ea=function(){if(yn(this))return-St(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Af+r)*e,e*=Af}return t};H.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(fr(this))return"0";if(yn(this))return"-"+St(this).toString(t);for(var e=Hn(Math.pow(t,6)),n=this,r="";;){var i=qu(n,e).g;n=zu(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,fr(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};H.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function fr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function yn(t){return t.h==-1}H.X=function(t){return t=zu(this,t),yn(t)?-1:fr(t)?0:1};function St(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new xe(n,~t.h).add(Rf)}H.abs=function(){return yn(this)?St(this):this};H.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new xe(n,n[n.length-1]&-2147483648?-1:0)};function zu(t,e){return t.add(St(e))}H.R=function(t){if(fr(this)||fr(t))return No;if(yn(this))return yn(t)?St(this).R(St(t)):St(St(this).R(t));if(yn(t))return St(this.R(St(t)));if(0>this.X(qy)&&0>t.X(qy))return Hn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=s*l,$l(n,2*r+2*i),n[2*r+2*i+1]+=o*l,$l(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,$l(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,$l(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new xe(n,0)};function $l(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ns(t,e){this.g=t,this.h=e}function qu(t,e){if(fr(e))throw Error("division by zero");if(fr(t))return new Ns(No,No);if(yn(t))return e=qu(St(t),e),new Ns(St(e.g),St(e.h));if(yn(e))return e=qu(t,St(e)),new Ns(St(e.g),e.h);if(30<t.g.length){if(yn(t)||yn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Rf,r=e;0>=r.X(t);)n=Wy(n),r=Wy(r);var i=no(n,1),o=no(r,1);for(r=no(r,2),n=no(n,2);!fr(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=no(r,1),n=no(n,1)}return e=zu(t,i.R(e)),new Ns(i,e)}for(i=No;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Hn(n),s=o.R(e);yn(s)||0<s.X(t);)n-=r,o=Hn(n),s=o.R(e);fr(o)&&(o=Rf),i=i.add(o),t=zu(t,s)}return new Ns(i,t)}H.gb=function(t){return qu(this,t).h};H.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new xe(n,this.h&t.h)};H.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new xe(n,this.h|t.h)};H.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new xe(n,this.h^t.h)};function Wy(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new xe(n,t.h)}function no(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new xe(i,t.h)}$u.prototype.createWebChannel=$u.prototype.g;un.prototype.send=un.prototype.u;un.prototype.open=un.prototype.m;un.prototype.close=un.prototype.close;Pc.NO_ERROR=0;Pc.TIMEOUT=8;Pc.HTTP_ERROR=6;i1.COMPLETE="complete";o1.EventType=Za;Za.OPEN="a";Za.CLOSE="b";Za.ERROR="c";Za.MESSAGE="d";vt.prototype.listen=vt.prototype.O;Xe.prototype.listenOnce=Xe.prototype.P;Xe.prototype.getLastError=Xe.prototype.Sa;Xe.prototype.getLastErrorCode=Xe.prototype.Ia;Xe.prototype.getStatus=Xe.prototype.da;Xe.prototype.getResponseJson=Xe.prototype.Wa;Xe.prototype.getResponseText=Xe.prototype.ja;Xe.prototype.send=Xe.prototype.ha;Xe.prototype.setWithCredentials=Xe.prototype.Oa;On.prototype.digest=On.prototype.l;On.prototype.reset=On.prototype.reset;On.prototype.update=On.prototype.j;xe.prototype.add=xe.prototype.add;xe.prototype.multiply=xe.prototype.R;xe.prototype.modulo=xe.prototype.gb;xe.prototype.compare=xe.prototype.X;xe.prototype.toNumber=xe.prototype.ea;xe.prototype.toString=xe.prototype.toString;xe.prototype.getBits=xe.prototype.D;xe.fromNumber=Hn;xe.fromString=B1;var ZC=function(){return new $u},ex=function(){return Rc()},nd=Pc,tx=i1,nx=Qi,Hy={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},zl=o1,rx=Xe,ix=On,Oo=xe;const Gy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ot.UNAUTHENTICATED=new Ot(null),Ot.GOOGLE_CREDENTIALS=new Ot("google-credentials-uid"),Ot.FIRST_PARTY=new Ot("first-party-uid"),Ot.MOCK_USER=new Ot("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rs="10.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new kw("@firebase/firestore");function Os(){return Bi.logLevel}function W(t,...e){if(Bi.logLevel<=Te.DEBUG){const n=e.map(hm);Bi.debug(`Firestore (${rs}): ${t}`,...n)}}function er(t,...e){if(Bi.logLevel<=Te.ERROR){const n=e.map(hm);Bi.error(`Firestore (${rs}): ${t}`,...n)}}function qo(t,...e){if(Bi.logLevel<=Te.WARN){const n=e.map(hm);Bi.warn(`Firestore (${rs}): ${t}`,...n)}}function hm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t="Unexpected state"){const e=`FIRESTORE (${rs}) INTERNAL ASSERTION FAILED: `+t;throw er(e),new Error(e)}function be(t,e){t||se()}function he(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends Gi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ox{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ot.UNAUTHENTICATED))}shutdown(){}}class sx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ax{constructor(e){this.t=e,this.currentUser=Ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Kn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Kn,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Kn)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(be(typeof r.accessToken=="string"),new $1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return be(e===null||typeof e=="string"),new Ot(e)}}class lx{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ot.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class ux{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new lx(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hx{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,W("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(be(typeof n.token=="string"),this.R=n.token,new cx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=dx(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Ie(t,e){return t<e?-1:t>e?1:0}function Wo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new K(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Je.fromMillis(Date.now())}static fromDate(e){return Je.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Je(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ce(e)}static min(){return new ce(new Je(0,0))}static max(){return new ce(new Je(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(),r===void 0?r=e.length-n:r>e.length-n&&se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ma.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ma?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ue extends Ma{construct(e,n,r){return new Ue(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ue(n)}static emptyPath(){return new Ue([])}}const fx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class It extends Ma{construct(e,n,r){return new It(e,n,r)}static isValidIdentifier(e){return fx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),It.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new It(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new K(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new K(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new K(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new K(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new It(n)}static emptyPath(){return new It([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(Ue.fromString(e))}static fromName(e){return new te(Ue.fromString(e).popFirst(5))}static empty(){return new te(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ue.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new Ue(e.slice()))}}function px(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ce.fromTimestamp(r===1e9?new Je(n+1,0):new Je(n,r));return new ei(i,te.empty(),e)}function mx(t){return new ei(t.readTime,t.key,-1)}class ei{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ei(ce.min(),te.empty(),-1)}static max(){return new ei(ce.max(),te.empty(),-1)}}function gx(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:Ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function il(t){if(t.code!==N.FAILED_PRECONDITION||t.message!==yx)throw t;W("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new V((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof V?n:V.resolve(n)}catch(n){return V.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):V.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):V.reject(n)}static resolve(e){return new V((n,r)=>{n(e)})}static reject(e){return new V((n,r)=>{r(e)})}static waitFor(e){return new V((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=V.resolve(!1);for(const r of e)n=n.next(i=>i?V.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new V((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new V((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Kn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new na(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=fm(r.target.error);this.V.reject(new na(e,i))}}static open(e,n,r,i){try{return new dm(n,e.transaction(i,r))}catch(o){throw new na(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(W("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new wx(n)}}class xi{constructor(e,n,r){this.name=e,this.version=n,this.p=r,xi.S(Lu())===12.2&&er("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return W("SimpleDb","Removing database:",e),Ei(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Cw())return!1;if(xi.C())return!0;const e=Lu(),n=xi.S(e),r=0<n&&n<10,i=xi.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(W("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const s=o.target.result;n(s)},i.onblocked=()=>{r(new na(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const s=o.target.error;s.name==="VersionError"?r(new K(N.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new K(N.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new na(e,s))},i.onupgradeneeded=o=>{W("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const s=o.target.result;this.p.N(s,i.transaction,o.oldVersion,this.version).next(()=>{W("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.O(e);const a=dm.open(this.db,e,o?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),V.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&s<3;if(W("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class _x{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Ei(this.k.delete())}}class na extends K{constructor(e,n){super(N.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ol(t){return t.name==="IndexedDbTransactionError"}class wx{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(W("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(W("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ei(r)}add(e){return W("SimpleDb","ADD",this.store.name,e,e),Ei(this.store.add(e))}get(e){return Ei(this.store.get(e)).next(n=>(n===void 0&&(n=null),W("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return W("SimpleDb","DELETE",this.store.name,e),Ei(this.store.delete(e))}count(){return W("SimpleDb","COUNT",this.store.name),Ei(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new V((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{const o=this.cursor(r),s=[];return this.G(o,(a,l)=>{s.push(l)}).next(()=>s)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new V((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(e,n){W("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new V((r,i)=>{n.onerror=o=>{const s=fm(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,n){const r=[];return new V((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const l=new _x(a),u=n(a.primaryKey,a.value,l);if(u instanceof V){const c=u.catch(h=>(l.done(),V.reject(h)));r.push(c)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>V.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ei(t){return new V((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=fm(r.target.error);n(i)}})}let Qy=!1;function fm(t){const e=xi.S(Lu());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new K("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Qy||(Qy=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}pm._e=-1;function bc(t){return t==null}function Wu(t){return t===0&&1/t==-1/0}function Ex(t){return typeof t=="number"&&Number.isInteger(t)&&!Wu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function is(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function q1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,n){this.comparator=e,this.root=n||Tt.EMPTY}insert(e,n){return new Ge(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tt.BLACK,null,null))}remove(e){return new Ge(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ql(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ql(this.root,e,this.comparator,!1)}getReverseIterator(){return new ql(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ql(this.root,e,this.comparator,!0)}}class ql{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Tt.RED,this.left=i??Tt.EMPTY,this.right=o??Tt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Tt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Tt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Tt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw se();const e=this.left.check();if(e!==this.right.check())throw se();return e+(this.isRed()?0:1)}}Tt.EMPTY=null,Tt.RED=!0,Tt.BLACK=!1;Tt.EMPTY=new class{constructor(){this.size=0}get key(){throw se()}get value(){throw se()}get color(){throw se()}get left(){throw se()}get right(){throw se()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Tt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new Ge(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Yy(this.data.getIterator())}getIteratorFrom(e){return new Yy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class Yy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort(It.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new Pt(It.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new W1("Invalid base64 string: "+o):o}}(e);return new Ut(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Ut(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ut.EMPTY_BYTE_STRING=new Ut("");const Tx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ti(t){if(be(!!t),typeof t=="string"){let e=0;const n=Tx.exec(t);if(be(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:at(t.seconds),nanos:at(t.nanos)}}function at(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function $i(t){return typeof t=="string"?Ut.fromBase64String(t):Ut.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function gm(t){const e=t.mapValue.fields.__previous_value__;return mm(e)?gm(e):e}function ba(t){const e=ti(t.mapValue.fields.__local_write_time__.timestampValue);return new Je(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class La{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new La("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof La&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function zi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?mm(t)?4:Ix(t)?9007199254740991:10:se()}function tr(t,e){if(t===e)return!0;const n=zi(t);if(n!==zi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ba(t).isEqual(ba(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=ti(i.timestampValue),a=ti(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return $i(i.bytesValue).isEqual($i(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return at(i.geoPointValue.latitude)===at(o.geoPointValue.latitude)&&at(i.geoPointValue.longitude)===at(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return at(i.integerValue)===at(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=at(i.doubleValue),a=at(o.doubleValue);return s===a?Wu(s)===Wu(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Wo(t.arrayValue.values||[],e.arrayValue.values||[],tr);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Ky(s)!==Ky(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!tr(s[l],a[l])))return!1;return!0}(t,e);default:return se()}}function Fa(t,e){return(t.values||[]).find(n=>tr(n,e))!==void 0}function Ho(t,e){if(t===e)return 0;const n=zi(t),r=zi(e);if(n!==r)return Ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=at(o.integerValue||o.doubleValue),l=at(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Jy(t.timestampValue,e.timestampValue);case 4:return Jy(ba(t),ba(e));case 5:return Ie(t.stringValue,e.stringValue);case 6:return function(o,s){const a=$i(o),l=$i(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Ie(a[u],l[u]);if(c!==0)return c}return Ie(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Ie(at(o.latitude),at(s.latitude));return a!==0?a:Ie(at(o.longitude),at(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Ho(a[u],l[u]);if(c)return c}return Ie(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Wl.mapValue&&s===Wl.mapValue)return 0;if(o===Wl.mapValue)return 1;if(s===Wl.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const d=Ie(l[h],c[h]);if(d!==0)return d;const v=Ho(a[l[h]],u[c[h]]);if(v!==0)return v}return Ie(l.length,c.length)}(t.mapValue,e.mapValue);default:throw se()}}function Jy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ie(t,e);const n=ti(t),r=ti(e),i=Ie(n.seconds,r.seconds);return i!==0?i:Ie(n.nanos,r.nanos)}function Go(t){return Pf(t)}function Pf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ti(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return $i(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Pf(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Pf(n.fields[s])}`;return i+"}"}(t.mapValue):se()}function Xy(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Cf(t){return!!t&&"integerValue"in t}function ym(t){return!!t&&"arrayValue"in t}function Zy(t){return!!t&&"nullValue"in t}function ev(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function su(t){return!!t&&"mapValue"in t}function ra(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return is(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ra(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ra(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Ix(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!su(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ra(n)}setAll(e){let n=It.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=ra(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());su(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return tr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];su(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){is(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new vn(ra(this.value))}}function H1(t){const e=[];return is(t.fields,(n,r)=>{const i=new It([n]);if(su(r)){const o=H1(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Mt(e,0,ce.min(),ce.min(),ce.min(),vn.empty(),0)}static newFoundDocument(e,n,r,i){return new Mt(e,1,n,ce.min(),r,i,0)}static newNoDocument(e,n){return new Mt(e,2,n,ce.min(),ce.min(),vn.empty(),0)}static newUnknownDocument(e,n){return new Mt(e,3,n,ce.min(),ce.min(),vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,n){this.position=e,this.inclusive=n}}function tv(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=te.comparator(te.fromName(s.referenceValue),n.key):r=Ho(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function nv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!tr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,n="asc"){this.field=e,this.dir=n}}function Ax(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{}class ut extends G1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Px(e,n,r):n==="array-contains"?new kx(e,r):n==="in"?new Dx(e,r):n==="not-in"?new Nx(e,r):n==="array-contains-any"?new Ox(e,r):new ut(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Cx(e,r):new xx(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ho(n,this.value)):n!==null&&zi(this.value)===zi(n)&&this.matchesComparison(Ho(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vn extends G1{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Vn(e,n)}matches(e){return Q1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Q1(t){return t.op==="and"}function K1(t){return Rx(t)&&Q1(t)}function Rx(t){for(const e of t.filters)if(e instanceof Vn)return!1;return!0}function xf(t){if(t instanceof ut)return t.field.canonicalString()+t.op.toString()+Go(t.value);if(K1(t))return t.filters.map(e=>xf(e)).join(",");{const e=t.filters.map(n=>xf(n)).join(",");return`${t.op}(${e})`}}function Y1(t,e){return t instanceof ut?function(r,i){return i instanceof ut&&r.op===i.op&&r.field.isEqual(i.field)&&tr(r.value,i.value)}(t,e):t instanceof Vn?function(r,i){return i instanceof Vn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&Y1(s,i.filters[a]),!0):!1}(t,e):void se()}function J1(t){return t instanceof ut?function(n){return`${n.field.canonicalString()} ${n.op} ${Go(n.value)}`}(t):t instanceof Vn?function(n){return n.op.toString()+" {"+n.getFilters().map(J1).join(" ,")+"}"}(t):"Filter"}class Px extends ut{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class Cx extends ut{constructor(e,n){super(e,"in",n),this.keys=X1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class xx extends ut{constructor(e,n){super(e,"not-in",n),this.keys=X1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function X1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class kx extends ut{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ym(n)&&Fa(n.arrayValue,this.value)}}class Dx extends ut{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fa(this.value.arrayValue,n)}}class Nx extends ut{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Fa(this.value.arrayValue,n)}}class Ox extends ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ym(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Fa(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function rv(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Vx(t,e,n,r,i,o,s)}function vm(t){const e=he(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>xf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),bc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Go(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Go(r)).join(",")),e.ce=n}return e.ce}function _m(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Ax(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Y1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!nv(t.startAt,e.startAt)&&nv(t.endAt,e.endAt)}function kf(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Mx(t,e,n,r,i,o,s,a){return new os(t,e,n,r,i,o,s,a)}function Lc(t){return new os(t)}function iv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Z1(t){return t.collectionGroup!==null}function ia(t){const e=he(t);if(e.le===null){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Pt(It.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new ja(o,r))}),n.has(It.keyField().canonicalString())||e.le.push(new ja(It.keyField(),r))}return e.le}function Yn(t){const e=he(t);return e.he||(e.he=bx(e,ia(t))),e.he}function bx(t,e){if(t.limitType==="F")return rv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new ja(i.field,o)});const n=t.endAt?new Hu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Hu(t.startAt.position,t.startAt.inclusive):null;return rv(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Df(t,e){const n=t.filters.concat([e]);return new os(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Nf(t,e,n){return new os(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sl(t,e){return _m(Yn(t),Yn(e))&&t.limitType===e.limitType}function eE(t){return`${vm(Yn(t))}|lt:${t.limitType}`}function oo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>J1(i)).join(", ")}]`),bc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Go(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Go(i)).join(",")),`Target(${r})`}(Yn(t))}; limitType=${t.limitType})`}function Fc(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):te.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of ia(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=tv(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,ia(r),i)||r.endAt&&!function(s,a,l){const u=tv(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,ia(r),i))}(t,e)}function Lx(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function tE(t){return(e,n)=>{let r=!1;for(const i of ia(t)){const o=Fx(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Fx(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Ho(l,u):se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){is(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return q1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=new Ge(te.comparator);function Er(){return jx}const nE=new Ge(te.comparator);function zs(...t){let e=nE;for(const n of t)e=e.insert(n.key,n);return e}function rE(t){let e=nE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ki(){return oa()}function iE(){return oa()}function oa(){return new ss(t=>t.toString(),(t,e)=>t.isEqual(e))}const Ux=new Ge(te.comparator),Bx=new Pt(te.comparator);function ye(...t){let e=Bx;for(const n of t)e=e.add(n);return e}const $x=new Pt(Ie);function zx(){return $x}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wu(e)?"-0":e}}function sE(t){return{integerValue:""+t}}function qx(t,e){return Ex(e)?sE(e):oE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(){this._=void 0}}function Wx(t,e,n){return t instanceof Gu?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&mm(o)&&(o=gm(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Ua?lE(t,e):t instanceof Ba?uE(t,e):function(i,o){const s=aE(i,o),a=ov(s)+ov(i.Ie);return Cf(s)&&Cf(i.Ie)?sE(a):oE(i.serializer,a)}(t,e)}function Hx(t,e,n){return t instanceof Ua?lE(t,e):t instanceof Ba?uE(t,e):n}function aE(t,e){return t instanceof Qu?function(r){return Cf(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Gu extends jc{}class Ua extends jc{constructor(e){super(),this.elements=e}}function lE(t,e){const n=cE(e);for(const r of t.elements)n.some(i=>tr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ba extends jc{constructor(e){super(),this.elements=e}}function uE(t,e){let n=cE(e);for(const r of t.elements)n=n.filter(i=>!tr(i,r));return{arrayValue:{values:n}}}class Qu extends jc{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function ov(t){return at(t.integerValue||t.doubleValue)}function cE(t){return ym(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Gx(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ua&&i instanceof Ua||r instanceof Ba&&i instanceof Ba?Wo(r.elements,i.elements,tr):r instanceof Qu&&i instanceof Qu?tr(r.Ie,i.Ie):r instanceof Gu&&i instanceof Gu}(t.transform,e.transform)}class Qx{constructor(e,n){this.version=e,this.transformResults=n}}class mr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mr}static exists(e){return new mr(void 0,e)}static updateTime(e){return new mr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function au(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Uc{}function hE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new fE(t.key,mr.none()):new al(t.key,t.data,mr.none());{const n=t.data,r=vn.empty();let i=new Pt(It.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ki(t.key,r,new Cn(i.toArray()),mr.none())}}function Kx(t,e,n){t instanceof al?function(i,o,s){const a=i.value.clone(),l=av(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ki?function(i,o,s){if(!au(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=av(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(dE(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function sa(t,e,n,r){return t instanceof al?function(o,s,a,l){if(!au(o.precondition,s))return a;const u=o.value.clone(),c=lv(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ki?function(o,s,a,l){if(!au(o.precondition,s))return a;const u=lv(o.fieldTransforms,l,s),c=s.data;return c.setAll(dE(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(o,s,a){return au(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function Yx(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=aE(r.transform,i||null);o!=null&&(n===null&&(n=vn.empty()),n.set(r.field,o))}return n||null}function sv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Wo(r,i,(o,s)=>Gx(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class al extends Uc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ki extends Uc{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function dE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function av(t,e,n){const r=new Map;be(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Hx(s,a,n[i]))}return r}function lv(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,Wx(o,s,e))}return r}class fE extends Uc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Jx extends Uc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Kx(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=sa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=sa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=iE();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=hE(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ye())}isEqual(e){return this.batchId===e.batchId&&Wo(this.mutations,e.mutations,(n,r)=>sv(n,r))&&Wo(this.baseMutations,e.baseMutations,(n,r)=>sv(n,r))}}class wm{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){be(e.mutations.length===r.length);let i=function(){return Ux}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new wm(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot,we;function tk(t){switch(t){default:return se();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function pE(t){if(t===void 0)return er("GRPC error has no .code"),N.UNKNOWN;switch(t){case ot.OK:return N.OK;case ot.CANCELLED:return N.CANCELLED;case ot.UNKNOWN:return N.UNKNOWN;case ot.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case ot.INTERNAL:return N.INTERNAL;case ot.UNAVAILABLE:return N.UNAVAILABLE;case ot.UNAUTHENTICATED:return N.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case ot.NOT_FOUND:return N.NOT_FOUND;case ot.ALREADY_EXISTS:return N.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return N.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case ot.ABORTED:return N.ABORTED;case ot.OUT_OF_RANGE:return N.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return N.UNIMPLEMENTED;case ot.DATA_LOSS:return N.DATA_LOSS;default:return se()}}(we=ot||(ot={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk=new Oo([4294967295,4294967295],0);function uv(t){const e=nk().encode(t),n=new ix;return n.update(e),new Uint8Array(n.digest())}function cv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Oo([n,r],0),new Oo([i,o],0)]}class Em{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new qs(`Invalid padding: ${n}`);if(r<0)throw new qs(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new qs(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new qs(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Oo.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Oo.fromNumber(r)));return i.compare(rk)===1&&(i=new Oo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=uv(e),[r,i]=cv(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Em(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;const n=uv(e),[r,i]=cv(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class qs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ll.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Bc(ce.min(),i,new Ge(Ie),Er(),ye())}}class ll{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ll(r,n,ye(),ye(),ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class mE{constructor(e,n){this.targetId=e,this.fe=n}}class gE{constructor(e,n,r=Ut.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class hv{constructor(){this.ge=0,this.pe=fv(),this.ye=Ut.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ye(),n=ye(),r=ye();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:se()}}),new ll(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=fv()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,be(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class ik{constructor(e){this.Le=e,this.ke=new Map,this.qe=Er(),this.Qe=dv(),this.Ke=new Ge(Ie)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(kf(o))if(r===0){const s=new te(o.path);this.We(n,s,Mt.newNoDocument(s,ce.min()))}else be(r===1);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),l=a?this.et(a,e,s):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=$i(r).toUint8Array()}catch(l){if(l instanceof W1)return qo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Em(s,i,o)}catch(l){return qo(l instanceof qs?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&kf(a.target)){const l=new te(a.target.path);this.qe.get(l)!==null||this.st(s,l)||this.We(s,l,Mt.newNoDocument(l,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=ye();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new Bc(e,n,this.Ke,this.qe,r);return this.qe=Er(),this.Qe=dv(),this.Ke=new Ge(Ie),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new hv,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Pt(Ie),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new hv),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function dv(){return new Ge(te.comparator)}function fv(){return new Ge(te.comparator)}const ok={asc:"ASCENDING",desc:"DESCENDING"},sk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ak={and:"AND",or:"OR"};class lk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Of(t,e){return t.useProto3Json||bc(e)?e:{value:e}}function Ku(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function uk(t,e){return Ku(t,e.toTimestamp())}function Jn(t){return be(!!t),ce.fromTimestamp(function(n){const r=ti(n);return new Je(r.seconds,r.nanos)}(t))}function Tm(t,e){return Vf(t,e).canonicalString()}function Vf(t,e){const n=function(i){return new Ue(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function vE(t){const e=Ue.fromString(t);return be(SE(e)),e}function Mf(t,e){return Tm(t.databaseId,e.path)}function rd(t,e){const n=vE(e);if(n.get(1)!==t.databaseId.projectId)throw new K(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(wE(n))}function _E(t,e){return Tm(t.databaseId,e)}function ck(t){const e=vE(t);return e.length===4?Ue.emptyPath():wE(e)}function bf(t){return new Ue(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function wE(t){return be(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function pv(t,e,n){return{name:Mf(t,e),fields:n.value.mapValue.fields}}function hk(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:se()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(be(c===void 0||typeof c=="string"),Ut.fromBase64String(c||"")):(be(c===void 0||c instanceof Uint8Array),Ut.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?N.UNKNOWN:pE(u.code);return new K(c,u.message||"")}(s);n=new gE(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=rd(t,r.document.name),o=Jn(r.document.updateTime),s=r.document.createTime?Jn(r.document.createTime):ce.min(),a=new vn({mapValue:{fields:r.document.fields}}),l=Mt.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new lu(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=rd(t,r.document),o=r.readTime?Jn(r.readTime):ce.min(),s=Mt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new lu([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=rd(t,r.document),o=r.removedTargetIds||[];n=new lu([],o,i,null)}else{if(!("filter"in e))return se();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new ek(i,o),a=r.targetId;n=new mE(a,s)}}return n}function dk(t,e){let n;if(e instanceof al)n={update:pv(t,e.key,e.value)};else if(e instanceof fE)n={delete:Mf(t,e.key)};else if(e instanceof Ki)n={update:pv(t,e.key,e.data),updateMask:Ek(e.fieldMask)};else{if(!(e instanceof Jx))return se();n={verify:Mf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Gu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ua)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ba)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Qu)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:uk(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:se()}(t,e.precondition)),n}function fk(t,e){return t&&t.length>0?(be(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Jn(i.updateTime):Jn(o);return s.isEqual(ce.min())&&(s=Jn(o)),new Qx(s,i.transformResults||[])}(n,e))):[]}function pk(t,e){return{documents:[_E(t,e.path)]}}function mk(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=_E(t,i);const o=function(u){if(u.length!==0)return TE(Vn.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(d){return{field:so(d.field),direction:vk(d.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Of(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function gk(t){let e=ck(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){be(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(h){const d=EE(h);return d instanceof Vn&&K1(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(d=>function(A){return new ja(ao(A.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,bc(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(h){const d=!!h.before,v=h.values||[];return new Hu(v,d)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const d=!h.before,v=h.values||[];return new Hu(v,d)}(n.endAt)),Mx(e,i,s,o,a,"F",l,u)}function yk(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function EE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ao(n.unaryFilter.field);return ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ao(n.unaryFilter.field);return ut.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ao(n.unaryFilter.field);return ut.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ao(n.unaryFilter.field);return ut.create(s,"!=",{nullValue:"NULL_VALUE"});default:return se()}}(t):t.fieldFilter!==void 0?function(n){return ut.create(ao(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Vn.create(n.compositeFilter.filters.map(r=>EE(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return se()}}(n.compositeFilter.op))}(t):se()}function vk(t){return ok[t]}function _k(t){return sk[t]}function wk(t){return ak[t]}function so(t){return{fieldPath:t.canonicalString()}}function ao(t){return It.fromServerFormat(t.fieldPath)}function TE(t){return t instanceof ut?function(n){if(n.op==="=="){if(ev(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NAN"}};if(Zy(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ev(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NAN"}};if(Zy(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(n.field),op:_k(n.op),value:n.value}}}(t):t instanceof Vn?function(n){const r=n.getFilters().map(i=>TE(i));return r.length===1?r[0]:{compositeFilter:{op:wk(n.op),filters:r}}}(t):se()}function Ek(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function SE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e,n,r,i,o=ce.min(),s=ce.min(),a=Ut.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Lr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e){this.ct=e}}function Sk(t){const e=gk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Nf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(){this._n=new Ak}addToCollectionParentIndex(e,n){return this._n.add(n),V.resolve()}getCollectionParents(e,n){return V.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return V.resolve()}deleteFieldIndex(e,n){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,n){return V.resolve()}getDocumentsMatchingTarget(e,n){return V.resolve(null)}getIndexType(e,n){return V.resolve(0)}getFieldIndexes(e,n){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,n){return V.resolve(ei.min())}getMinOffsetFromCollectionGroup(e,n){return V.resolve(ei.min())}updateCollectionGroup(e,n,r){return V.resolve()}updateIndexEntries(e,n){return V.resolve()}}class Ak{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Pt(Ue.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pt(Ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Qo(0)}static Bn(){return new Qo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(){this.changes=new ss(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?V.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&sa(r.mutation,i,Cn.empty(),Je.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ye()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ye()){const i=ki();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=zs();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=ki();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ye()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Er();const s=oa(),a=function(){return oa()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Ki)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),sa(c.mutation,u,c.mutation.getFieldMask(),Je.now())):s.set(u.key,Cn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new Pk(c,(h=s.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=oa();let i=new Ge((s,a)=>s-a),o=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Cn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||ye()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=iE();c.forEach(d=>{if(!o.has(d)){const v=hE(n.get(d),r.get(d));v!==null&&h.set(d,v),o=o.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,h))}return V.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return te.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Z1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):V.resolve(ki());let a=-1,l=o;return s.next(u=>V.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(c)?V.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,ye())).next(c=>({batchId:a,changes:rE(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let i=zs();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=zs();return this.indexManager.getCollectionParents(e,o).next(a=>V.forEach(a,l=>{const u=function(h,d){return new os(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((h,d)=>{s=s.insert(h,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,Mt.newInvalidDocument(c)))});let a=zs();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&sa(c.mutation,u,Cn.empty(),Je.now()),Fc(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return V.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Jn(i.createTime)}}(n)),V.resolve()}getNamedQuery(e,n){return V.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:Sk(i.bundledQuery),readTime:Jn(i.readTime)}}(n)),V.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(){this.overlays=new Ge(te.comparator),this.hr=new Map}getOverlay(e,n){return V.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ki();return V.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),V.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),V.resolve()}getOverlaysForCollection(e,n,r){const i=ki(),o=n.length+1,s=new te(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return V.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ge((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=ki(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=ki(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return V.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Zx(n,r));let o=this.hr.get(n);o===void 0&&(o=ye(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(){this.Pr=new Pt(mt.Ir),this.Tr=new Pt(mt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new mt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new mt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new te(new Ue([])),r=new mt(n,e),i=new mt(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new te(new Ue([])),r=new mt(n,e),i=new mt(n,e+1);let o=ye();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new mt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class mt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return te.comparator(e.key,n.key)||Ie(e.pr,n.pr)}static Er(e,n){return Ie(e.pr,n.pr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Pt(mt.Ir)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Xx(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.wr=this.wr.add(new mt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(s)}lookupMutationBatch(e,n){return V.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),o=i<0?0:i;return V.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new mt(n,0),i=new mt(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const a=this.Sr(s.pr);o.push(a)}),V.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pt(Ie);return n.forEach(i=>{const o=new mt(i,0),s=new mt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),V.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;te.isDocumentKey(o)||(o=o.child(""));const s=new mt(new te(o),0);let a=new Pt(Ie);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},s),V.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){be(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return V.forEach(n.mutations,i=>{const o=new mt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new mt(n,0),i=this.wr.firstAfterOrEqual(r);return V.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e){this.vr=e,this.docs=function(){return new Ge(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return V.resolve(r?r.document.mutableCopy():Mt.newInvalidDocument(n))}getEntries(e,n){let r=Er();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Mt.newInvalidDocument(i))}),V.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Er();const s=n.path,a=new te(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||gx(mx(c),r)<=0||(i.has(c.key)||Fc(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return V.resolve(o)}getAllFromCollectionGroup(e,n,r,i){se()}Fr(e,n){return V.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Ok(this)}getSize(e){return V.resolve(this.size)}}class Ok extends Rk{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),V.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e){this.persistence=e,this.Mr=new ss(n=>vm(n),_m),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Sm,this.targetCount=0,this.Br=Qo.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),V.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new Qo(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,V.resolve()}updateTargetData(e,n){return this.qn(n),V.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),V.waitFor(o).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return V.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),V.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),V.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),V.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return V.resolve(r)}containsKey(e,n){return V.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e,n){this.Lr={},this.overlays={},this.kr=new pm(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Vk(this),this.indexManager=new Ik,this.remoteDocumentCache=function(i){return new Nk(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new Tk(n),this.$r=new xk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new kk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new Dk(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);const i=new bk(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return V.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class bk extends vx{constructor(e){super(),this.currentSequenceNumber=e}}class Im{constructor(e){this.persistence=e,this.zr=new Sm,this.jr=null}static Hr(e){return new Im(e)}get Jr(){if(this.jr)return this.jr;throw se()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),V.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),V.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.Jr,r=>{const i=te.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,ce.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return V.or([()=>V.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=ye(),i=ye();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Am(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return zR()?8:xi.v(Lu())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Lk;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Os()<=Te.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",oo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),V.resolve()):(Os()<=Te.DEBUG&&W("QueryEngine","Query:",oo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Os()<=Te.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",oo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yn(n))):V.resolve())}ji(e,n){if(iv(n))return V.resolve(null);let r=Yn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Nf(n,null,"F"),r=Yn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=ye(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,s,l.readTime)?this.ji(e,Nf(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return iv(n)||i.isEqual(ce.min())?V.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(n,o);return this.Xi(n,s,r,i)?V.resolve(null):(Os()<=Te.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),oo(n)),this.es(e,s,n,px(i,-1)).next(a=>a))})}Zi(e,n){let r=new Pt(tE(e));return n.forEach((i,o)=>{Fc(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return Os()<=Te.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",oo(n)),this.zi.getDocumentsMatchingQuery(e,n,ei.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Ge(Ie),this.rs=new ss(o=>vm(o),_m),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ck(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function Uk(t,e,n,r){return new jk(t,e,n,r)}async function IE(t,e){const n=he(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=ye();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:s,addedBatchIds:a}))})})}function Bk(t,e){const n=he(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,d=h.keys();let v=V.resolve();return d.forEach(A=>{v=v.next(()=>c.getEntry(l,A)).next(I=>{const E=u.docVersions.get(A);be(E!==null),I.version.compareTo(E)<0&&(h.applyToRemoteDocument(I,u),I.isValidDocument()&&(I.setReadTime(u.commitVersion),c.addEntry(I)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ye();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function AE(t){const e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function $k(t,e){const n=he(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((c,h)=>{const d=i.get(h);if(!d)return;a.push(n.Qr.removeMatchingKeys(o,c.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(o,c.addedDocuments,h)));let v=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?v=v.withResumeToken(Ut.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):c.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(c.resumeToken,r)),i=i.insert(h,v),function(I,E,g){return I.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(d,v,c)&&a.push(n.Qr.updateTargetData(o,v))});let l=Er(),u=ye();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(zk(o,s,e.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!r.isEqual(ce.min())){const c=n.Qr.getLastRemoteSnapshotVersion(o).next(h=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return V.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.ns=i,o))}function zk(t,e,n){let r=ye(),i=ye();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Er();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ce.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):W("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:s,ls:i}})}function qk(t,e){const n=he(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Wk(t,e){const n=he(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,V.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new Lr(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Lf(t,e,n){const r=he(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ol(s))throw s;W("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function mv(t,e,n){const r=he(t);let i=ce.min(),o=ye();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const h=he(l),d=h.rs.get(c);return d!==void 0?V.resolve(h.ns.get(d)):h.Qr.getTargetData(u,c)}(r,s,Yn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:ce.min(),n?o:ye())).next(a=>(Hk(r,Lx(e),a),{documents:a,hs:o})))}function Hk(t,e,n){let r=t.ss.get(e)||ce.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}class gv{constructor(){this.activeTargetIds=zx()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Gk{constructor(){this.no=new gv,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new gv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){W("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){W("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hl=null;function id(){return Hl===null?Hl=function(){return 268435456+Math.round(2147483648*Math.random())}():Hl++,"0x"+Hl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nt="WebChannelConnection";class Jk extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${o}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get wo(){return!1}So(n,r,i,o,s){const a=id(),l=this.bo(n,r.toUriEncodedString());W("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,o,s),this.Co(n,l,u,i).then(c=>(W("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw qo("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}vo(n,r,i,o,s,a){return this.So(n,r,i,o,s)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+rs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}bo(n,r){const i=Kk[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const o=id();return new Promise((s,a)=>{const l=new rx;l.setWithCredentials(!0),l.listenOnce(tx.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case nd.NO_ERROR:const c=l.getResponseJson();W(Nt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case nd.TIMEOUT:W(Nt,`RPC '${e}' ${o} timed out`),a(new K(N.DEADLINE_EXCEEDED,"Request time out"));break;case nd.HTTP_ERROR:const h=l.getStatus();if(W(Nt,`RPC '${e}' ${o} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const v=d?.error;if(v&&v.status&&v.message){const A=function(E){const g=E.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(g)>=0?g:N.UNKNOWN}(v.status);a(new K(A,v.message))}else a(new K(N.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new K(N.UNAVAILABLE,"Connection failed."));break;default:se()}}finally{W(Nt,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);W(Nt,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=id(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=ZC(),a=ex(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");W(Nt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=s.createWebChannel(c,l);let d=!1,v=!1;const A=new Yk({lo:E=>{v?W(Nt,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(d||(W(Nt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),W(Nt,`RPC '${e}' stream ${i} sending:`,E),h.send(E))},ho:()=>h.close()}),I=(E,g,m)=>{E.listen(g,w=>{try{m(w)}catch(x){setTimeout(()=>{throw x},0)}})};return I(h,zl.EventType.OPEN,()=>{v||W(Nt,`RPC '${e}' stream ${i} transport opened.`)}),I(h,zl.EventType.CLOSE,()=>{v||(v=!0,W(Nt,`RPC '${e}' stream ${i} transport closed`),A.Vo())}),I(h,zl.EventType.ERROR,E=>{v||(v=!0,qo(Nt,`RPC '${e}' stream ${i} transport errored:`,E),A.Vo(new K(N.UNAVAILABLE,"The operation could not be completed")))}),I(h,zl.EventType.MESSAGE,E=>{var g;if(!v){const m=E.data[0];be(!!m);const w=m,x=w.error||((g=w[0])===null||g===void 0?void 0:g.error);if(x){W(Nt,`RPC '${e}' stream ${i} received error:`,x);const L=x.status;let T=function(q){const z=ot[q];if(z!==void 0)return pE(z)}(L),D=x.message;T===void 0&&(T=N.INTERNAL,D="Unknown error status: "+L+" with message "+x.message),v=!0,A.Vo(new K(T,D)),h.close()}else W(Nt,`RPC '${e}' stream ${i} received:`,m),A.mo(m)}}),I(a,nx.STAT_EVENT,E=>{E.stat===Hy.PROXY?W(Nt,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===Hy.NOPROXY&&W(Nt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.Ro()},0),A}}function od(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(t){return new lk(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,n,r,i,o,s,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new RE(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(er(n.toString()),er("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new K(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return W("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(W("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Xk extends PE{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=hk(this.serializer,e),r=function(o){if(!("targetChange"in o))return ce.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ce.min():s.readTime?Jn(s.readTime):ce.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=bf(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=kf(l)?{documents:pk(o,l)}:{query:mk(o,l).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=yE(o,s.resumeToken);const u=Of(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(ce.min())>0){a.readTime=Ku(o,s.snapshotVersion.toTimestamp());const u=Of(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=yk(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=bf(this.serializer),n.removeTarget=e,this.t_(n)}}class Zk extends PE{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=fk(e.writeResults,e.commitTime),r=Jn(e.commitTime);return this.listener.T_(r,n)}return be(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=bf(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>dk(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new K(N.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,Vf(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K(N.UNKNOWN,o.toString())})}vo(e,n,r,i,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,Vf(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(N.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class tD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(er(n),this.g_=!1):W("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(s=>{r.enqueueAndForget(async()=>{Yi(this)&&(W("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=he(l);u.v_.add(4),await ul(u),u.x_.set("Unknown"),u.v_.delete(4),await zc(u)}(this))})}),this.x_=new tD(r,i)}}async function zc(t){if(Yi(t))for(const e of t.F_)await e(!0)}async function ul(t){for(const e of t.F_)await e(!1)}function CE(t,e){const n=he(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Cm(n)?Pm(n):as(n).Jo()&&Rm(n,e))}function xE(t,e){const n=he(t),r=as(n);n.C_.delete(e),r.Jo()&&kE(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Yi(n)&&n.x_.set("Unknown"))}function Rm(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}as(t).c_(e)}function kE(t,e){t.O_.Oe(e),as(t).l_(e)}function Pm(t){t.O_=new ik({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),as(t).start(),t.x_.p_()}function Cm(t){return Yi(t)&&!as(t).Ho()&&t.C_.size>0}function Yi(t){return he(t).v_.size===0}function DE(t){t.O_=void 0}async function rD(t){t.C_.forEach((e,n)=>{Rm(t,e)})}async function iD(t,e){DE(t),Cm(t)?(t.x_.S_(e),Pm(t)):t.x_.set("Unknown")}async function oD(t,e,n){if(t.x_.set("Online"),e instanceof gE&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){W("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Yu(t,r)}else if(e instanceof lu?t.O_.$e(e):e instanceof mE?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(ce.min()))try{const r=await AE(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.O_.it(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.C_.get(u);c&&o.C_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.C_.get(l);if(!c)return;o.C_.set(l,c.withResumeToken(Ut.EMPTY_BYTE_STRING,c.snapshotVersion)),kE(o,l);const h=new Lr(c.target,l,u,c.sequenceNumber);Rm(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){W("RemoteStore","Failed to raise snapshot:",r),await Yu(t,r)}}async function Yu(t,e,n){if(!ol(e))throw e;t.v_.add(1),await ul(t),t.x_.set("Offline"),n||(n=()=>AE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{W("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await zc(t)})}function NE(t,e){return e().catch(n=>Yu(t,n,e))}async function qc(t){const e=he(t),n=ni(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;sD(e);)try{const i=await qk(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,aD(e,i)}catch(i){await Yu(e,i)}OE(e)&&VE(e)}function sD(t){return Yi(t)&&t.D_.length<10}function aD(t,e){t.D_.push(e);const n=ni(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function OE(t){return Yi(t)&&!ni(t).Ho()&&t.D_.length>0}function VE(t){ni(t).start()}async function lD(t){ni(t).d_()}async function uD(t){const e=ni(t);for(const n of t.D_)e.I_(n.mutations)}async function cD(t,e,n){const r=t.D_.shift(),i=wm.from(r,e,n);await NE(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await qc(t)}async function hD(t,e){e&&ni(t).P_&&await async function(r,i){if(function(s){return tk(s)&&s!==N.ABORTED}(i.code)){const o=r.D_.shift();ni(r).Zo(),await NE(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await qc(r)}}(t,e),OE(t)&&VE(t)}async function vv(t,e){const n=he(t);n.asyncQueue.verifyOperationInProgress(),W("RemoteStore","RemoteStore received new credentials");const r=Yi(n);n.v_.add(3),await ul(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await zc(n)}async function dD(t,e){const n=he(t);e?(n.v_.delete(2),await zc(n)):e||(n.v_.add(2),await ul(n),n.x_.set("Unknown"))}function as(t){return t.N_||(t.N_=function(n,r,i){const o=he(n);return o.R_(),new Xk(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:rD.bind(null,t),To:iD.bind(null,t),u_:oD.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),Cm(t)?Pm(t):t.x_.set("Unknown")):(await t.N_.stop(),DE(t))})),t.N_}function ni(t){return t.B_||(t.B_=function(n,r,i){const o=he(n);return o.R_(),new Zk(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:lD.bind(null,t),To:hD.bind(null,t),E_:uD.bind(null,t),T_:cD.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await qc(t)):(await t.B_.stop(),t.D_.length>0&&(W("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Kn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new xm(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wc(t,e){if(er("AsyncQueue",`${e}: ${t}`),ol(t))return new K(N.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=zs(),this.sortedSet=new Ge(this.comparator)}static emptySet(e){return new Vo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Vo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Vo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(){this.L_=new Ge(te.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):se():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ko{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Ko(e,n,Vo.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this.q_=void 0,this.Q_=[]}}class pD{constructor(){this.queries=new ss(e=>eE(e),sl),this.onlineState="Unknown",this.K_=new Set}}async function ME(t,e){const n=he(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new fD),i)try{o.q_=await n.onListen(r)}catch(s){const a=Wc(s,`Initialization of query '${oo(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.Q_.push(e),e.U_(n.onlineState),o.q_&&e.W_(o.q_)&&km(n)}async function bE(t,e){const n=he(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.Q_.indexOf(e);s>=0&&(o.Q_.splice(s,1),i=o.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function mD(t,e){const n=he(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Q_)a.W_(i)&&(r=!0);s.q_=i}}r&&km(n)}function gD(t,e,n){const r=he(t),i=r.queries.get(e);if(i)for(const o of i.Q_)o.onError(n);r.queries.delete(e)}function km(t){t.K_.forEach(e=>{e.next()})}class LE{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ko(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=Ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e){this.key=e}}class jE{constructor(e){this.key=e}}class yD{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=ye(),this.mutatedKeys=ye(),this.ua=tE(e),this.ca=new Vo(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new _v,i=n?n.ca:this.ca;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const d=i.get(c),v=Fc(this.query,h)?h:null,A=!!d&&this.mutatedKeys.has(d.key),I=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let E=!1;d&&v?d.data.isEqual(v.data)?A!==I&&(r.track({type:3,doc:v}),E=!0):this.Ia(d,v)||(r.track({type:2,doc:v}),E=!0,(l&&this.ua(v,l)>0||u&&this.ua(v,u)<0)&&(a=!0)):!d&&v?(r.track({type:0,doc:v}),E=!0):d&&!v&&(r.track({type:1,doc:d}),E=!0,(l||u)&&(a=!0)),E&&(v?(s=s.add(v),o=I?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{ca:s,Pa:r,Xi:a,mutatedKeys:o}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.k_();s.sort((c,h)=>function(v,A){const I=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se()}};return I(v)-I(A)}(c.type,h.type)||this.ua(c.doc,h.doc)),this.Ta(r),i=i!=null&&i;const a=n&&!i?this.Ea():[],l=this.aa.size===0&&this.current&&!i?1:0,u=l!==this._a;return this._a=l,s.length!==0||u?{snapshot:new Ko(this.query,e.ca,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new _v,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=ye(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new jE(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new FE(r))}),n}Ra(e){this.oa=e.hs,this.aa=ye();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Ko.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class vD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class _D{constructor(e){this.key=e,this.ma=!1}}class wD{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new ss(a=>eE(a),sl),this.pa=new Map,this.ya=new Set,this.wa=new Ge(te.comparator),this.Sa=new Map,this.ba=new Sm,this.Da={},this.Ca=new Map,this.va=Qo.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function ED(t,e){const n=DD(t);let r,i;const o=n.ga.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Va();else{const s=await Wk(n.localStore,Yn(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=await TD(n,e,r,a==="current",s.resumeToken),n.isPrimaryClient&&CE(n.remoteStore,s)}return i}async function TD(t,e,n,r,i){t.Ma=(h,d,v)=>async function(I,E,g,m){let w=E.view.ha(g);w.Xi&&(w=await mv(I.localStore,E.query,!1).then(({documents:D})=>E.view.ha(D,w)));const x=m&&m.targetChanges.get(E.targetId),L=m&&m.targetMismatches.get(E.targetId)!=null,T=E.view.applyChanges(w,I.isPrimaryClient,x,L);return Ev(I,E.targetId,T.da),T.snapshot}(t,h,d,v);const o=await mv(t.localStore,e,!0),s=new yD(e,o.hs),a=s.ha(o.documents),l=ll.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);Ev(t,n,u.da);const c=new vD(e,n,s);return t.ga.set(e,c),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot}async function SD(t,e){const n=he(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(o=>!sl(o,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Lf(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),xE(n.remoteStore,r.targetId),Ff(n,r.targetId)}).catch(il)):(Ff(n,r.targetId),await Lf(n.localStore,r.targetId,!0))}async function ID(t,e,n){const r=ND(t);try{const i=await function(s,a){const l=he(s),u=Je.now(),c=a.reduce((v,A)=>v.add(A.key),ye());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let A=Er(),I=ye();return l.os.getEntries(v,c).next(E=>{A=E,A.forEach((g,m)=>{m.isValidDocument()||(I=I.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,A)).next(E=>{h=E;const g=[];for(const m of a){const w=Yx(m,h.get(m.key).overlayedDocument);w!=null&&g.push(new Ki(m.key,w,H1(w.value.mapValue),mr.exists(!0)))}return l.mutationQueue.addMutationBatch(v,u,g,a)}).next(E=>{d=E;const g=E.applyToLocalDocumentSet(h,I);return l.documentOverlayCache.saveOverlays(v,E.batchId,g)})}).then(()=>({batchId:d.batchId,changes:rE(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Da[s.currentUser.toKey()];u||(u=new Ge(Ie)),u=u.insert(a,l),s.Da[s.currentUser.toKey()]=u}(r,i.batchId,n),await cl(r,i.changes),await qc(r.remoteStore)}catch(i){const o=Wc(i,"Failed to persist write");n.reject(o)}}async function UE(t,e){const n=he(t);try{const r=await $k(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Sa.get(o);s&&(be(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.ma=!0:i.modifiedDocuments.size>0?be(s.ma):i.removedDocuments.size>0&&(be(s.ma),s.ma=!1))}),await cl(n,r,e)}catch(r){await il(r)}}function wv(t,e,n){const r=he(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((o,s)=>{const a=s.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=he(s);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const d of h.Q_)d.U_(a)&&(u=!0)}),u&&km(l)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function AD(t,e,n){const r=he(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),o=i&&i.key;if(o){let s=new Ge(te.comparator);s=s.insert(o,Mt.newNoDocument(o,ce.min()));const a=ye().add(o),l=new Bc(ce.min(),new Map,new Ge(Ie),s,a);await UE(r,l),r.wa=r.wa.remove(o),r.Sa.delete(e),Dm(r)}else await Lf(r.localStore,e,!1).then(()=>Ff(r,e,n)).catch(il)}async function RD(t,e){const n=he(t),r=e.batch.batchId;try{const i=await Bk(n.localStore,e);$E(n,r,null),BE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await cl(n,i)}catch(i){await il(i)}}async function PD(t,e,n){const r=he(t);try{const i=await function(s,a){const l=he(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(be(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);$E(r,e,n),BE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await cl(r,i)}catch(i){await il(i)}}function BE(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function $E(t,e,n){const r=he(t);let i=r.Da[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function Ff(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||zE(t,r)})}function zE(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(xE(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),Dm(t))}function Ev(t,e,n){for(const r of n)r instanceof FE?(t.ba.addReference(r.key,e),CD(t,r)):r instanceof jE?(W("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||zE(t,r.key)):se()}function CD(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(W("SyncEngine","New document in limbo: "+n),t.ya.add(r),Dm(t))}function Dm(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new te(Ue.fromString(e)),r=t.va.next();t.Sa.set(r,new _D(n)),t.wa=t.wa.insert(n,r),CE(t.remoteStore,new Lr(Yn(Lc(n.path)),r,"TargetPurposeLimboResolution",pm._e))}}async function cl(t,e,n){const r=he(t),i=[],o=[],s=[];r.ga.isEmpty()||(r.ga.forEach((a,l)=>{s.push(r.Ma(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);const c=Am.Ki(l.targetId,u);o.push(c)}}))}),await Promise.all(s),r.fa.u_(i),await async function(l,u){const c=he(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>V.forEach(u,d=>V.forEach(d.qi,v=>c.persistence.referenceDelegate.addReference(h,d.targetId,v)).next(()=>V.forEach(d.Qi,v=>c.persistence.referenceDelegate.removeReference(h,d.targetId,v)))))}catch(h){if(!ol(h))throw h;W("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const d=h.targetId;if(!h.fromCache){const v=c.ns.get(d),A=v.snapshotVersion,I=v.withLastLimboFreeSnapshotVersion(A);c.ns=c.ns.insert(d,I)}}}(r.localStore,o))}async function xD(t,e){const n=he(t);if(!n.currentUser.isEqual(e)){W("SyncEngine","User change. New user:",e.toKey());const r=await IE(n.localStore,e);n.currentUser=e,function(o,s){o.Ca.forEach(a=>{a.forEach(l=>{l.reject(new K(N.CANCELLED,s))})}),o.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await cl(n,r.us)}}function kD(t,e){const n=he(t),r=n.Sa.get(e);if(r&&r.ma)return ye().add(r.key);{let i=ye();const o=n.pa.get(e);if(!o)return i;for(const s of o){const a=n.ga.get(s);i=i.unionWith(a.view.la)}return i}}function DD(t){const e=he(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=UE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AD.bind(null,e),e.fa.u_=mD.bind(null,e.eventManager),e.fa.xa=gD.bind(null,e.eventManager),e}function ND(t){const e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PD.bind(null,e),e}class Tv{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=$c(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Uk(this.persistence,new Fk,e.initialUser,this.serializer)}createPersistence(e){return new Mk(Im.Hr,this.serializer)}createSharedClientState(e){return new Gk}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class OD{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>wv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=xD.bind(null,this.syncEngine),await dD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new pD}()}createDatastore(e){const n=$c(e.databaseInfo.databaseId),r=function(o){return new Jk(o)}(e.databaseInfo);return function(o,s,a,l){return new eD(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new nD(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>wv(this.syncEngine,n,0),function(){return yv.D()?new yv:new Qk}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const h=new wD(i,o,s,a,l,u);return c&&(h.Fa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=he(r);W("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await ul(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):er("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ot.UNAUTHENTICATED,this.clientId=z1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{W("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(W("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new K(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Wc(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function sd(t,e){t.asyncQueue.verifyOperationInProgress(),W("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await IE(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Sv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await WE(t);W("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>vv(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>vv(e.remoteStore,i)),t._onlineComponents=e}function MD(t){return t.name==="FirebaseError"?t.code===N.FAILED_PRECONDITION||t.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function WE(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W("FirestoreClient","Using user provided OfflineComponentProvider");try{await sd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!MD(n))throw n;qo("Error using user provided cache. Falling back to memory cache: "+n),await sd(t,new Tv)}}else W("FirestoreClient","Using default OfflineComponentProvider"),await sd(t,new Tv);return t._offlineComponents}async function HE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(W("FirestoreClient","Using user provided OnlineComponentProvider"),await Sv(t,t._uninitializedComponentsProvider._online)):(W("FirestoreClient","Using default OnlineComponentProvider"),await Sv(t,new OD))),t._onlineComponents}function bD(t){return WE(t).then(e=>e.localStore)}function LD(t){return HE(t).then(e=>e.syncEngine)}async function jf(t){const e=await HE(t),n=e.eventManager;return n.onListen=ED.bind(null,e.syncEngine),n.onUnlisten=SD.bind(null,e.syncEngine),n}function FD(t,e){const n=new Kn;return t.asyncQueue.enqueueAndForget(async()=>async function(i,o,s){try{const a=await function(u,c){const h=he(u);return h.persistence.runTransaction("read document","readonly",d=>h.localDocuments.getDocument(d,c))}(i,o);a.isFoundDocument()?s.resolve(a):a.isNoDocument()?s.resolve(null):s.reject(new K(N.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const l=Wc(a,`Failed to get document '${o} from cache`);s.reject(l)}}(await bD(t),e,n)),n.promise}function jD(t,e,n={}){const r=new Kn;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new qE({next:d=>{s.enqueueAndForget(()=>bE(o,h));const v=d.docs.has(a);!v&&d.fromCache?u.reject(new K(N.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&d.fromCache&&l&&l.source==="server"?u.reject(new K(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),h=new LE(Lc(a.path),c,{includeMetadataChanges:!0,Z_:!0});return ME(o,h)}(await jf(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(t,e,n){if(!n)throw new K(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function UD(t,e,n,r){if(e===!0&&r===!0)throw new K(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Av(t){if(!te.isDocumentKey(t))throw new K(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Rv(t){if(te.isDocumentKey(t))throw new K(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Hc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se()}function Xn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hc(t);throw new K(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new K(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new K(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}UD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GE((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new K(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new K(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new K(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new K(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new K(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pv(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ox;switch(r.type){case"firstParty":return new ux(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Iv.get(n);r&&(W("ComponentProvider","Removing Datastore"),Iv.delete(n),r.terminate())}(this),Promise.resolve()}}function BD(t,e,n,r={}){var i;const o=(t=Xn(t,Gc))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Ot.MOCK_USER;else{a=Pw(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new K(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ot(u)}t._authCredentials=new sx(new $1(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Tr(this.firestore,e,this._query)}}class Ft{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ft(this.firestore,e,this._key)}}class Kr extends Tr{constructor(e,n,r){super(e,n,Lc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new te(e))}withConverter(e){return new Kr(this.firestore,e,this._path)}}function li(t,e,...n){if(t=Zn(t),QE("collection","path",e),t instanceof Gc){const r=Ue.fromString(e,...n);return Rv(r),new Kr(t,null,r)}{if(!(t instanceof Ft||t instanceof Kr))throw new K(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return Rv(r),new Kr(t.firestore,null,r)}}function hl(t,e,...n){if(t=Zn(t),arguments.length===1&&(e=z1.newId()),QE("doc","path",e),t instanceof Gc){const r=Ue.fromString(e,...n);return Av(r),new Ft(t,null,new te(r))}{if(!(t instanceof Ft||t instanceof Kr))throw new K(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return Av(r),new Ft(t.firestore,t instanceof Kr?t.converter:null,new te(r))}}function $D(t,e){return t=Zn(t),e=Zn(e),t instanceof Tr&&e instanceof Tr&&t.firestore===e.firestore&&sl(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new RE(this,"async_queue_retry"),this._u=()=>{const n=od();n&&W("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=od();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=od();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new Kn;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!ol(e))throw e;W("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw er("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const i=xm.createAndSchedule(this,e,n,r,o=>this.lu(o));return this.nu.push(i),i}au(){this.ru&&se()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}function Cv(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Yo extends Gc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new zD}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||KE(this),this._firestoreClient.terminate()}}function qD(t,e){const n=typeof t=="object"?t:bw(),r=typeof t=="string"?t:e||"(default)",i=Ow(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=Aw("firestore");o&&BD(i,...o)}return i}function Qc(t){return t._firestoreClient||KE(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function KE(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new Sx(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,GE(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new VD(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jo(Ut.fromBase64String(e))}catch(n){throw new K(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Jo(Ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new It(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=/^__.*__$/;class HD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ki(e,this.data,this.fieldMask,n,this.fieldTransforms):new al(e,this.data,n,this.fieldTransforms)}}function JE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se()}}class Vm{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Eu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new Vm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Ju(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(JE(this.du)&&WD.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class GD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||$c(e)}Su(e,n,r,i=!1){return new Vm({du:e,methodName:n,wu:r,path:It.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function XE(t){const e=t._freezeSettings(),n=$c(t._databaseId);return new GD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function QD(t,e,n,r,i,o={}){const s=t.Su(o.merge||o.mergeFields?2:0,e,n,i);tT("Data must be an object, but it was:",s,r);const a=ZE(r,s);let l,u;if(o.merge)l=new Cn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const h of o.mergeFields){const d=YD(e,h,n);if(!s.contains(d))throw new K(N.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);XD(c,d)||c.push(d)}l=new Cn(c),u=s.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=s.fieldTransforms;return new HD(new vn(a),l,u)}function KD(t,e,n,r=!1){return Mm(n,t.Su(r?4:3,e))}function Mm(t,e){if(eT(t=Zn(t)))return tT("Unsupported field value:",e,t),ZE(t,e);if(t instanceof YE)return function(r,i){if(!JE(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Mm(a,i.gu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Zn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return qx(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Je.fromDate(r);return{timestampValue:Ku(i.serializer,o)}}if(r instanceof Je){const o=new Je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ku(i.serializer,o)}}if(r instanceof Om)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Jo)return{bytesValue:yE(i.serializer,r._byteString)};if(r instanceof Ft){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.pu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Tm(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${Hc(r)}`)}(t,e)}function ZE(t,e){const n={};return q1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):is(t,(r,i)=>{const o=Mm(i,e.Ru(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function eT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Je||t instanceof Om||t instanceof Jo||t instanceof Ft||t instanceof YE)}function tT(t,e,n){if(!eT(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Hc(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function YD(t,e,n){if((e=Zn(e))instanceof Nm)return e._internalPath;if(typeof e=="string")return nT(t,e);throw Ju("Field path arguments must be of type string or ",t,!1,void 0,n)}const JD=new RegExp("[~\\*/\\[\\]]");function nT(t,e,n){if(e.search(JD)>=0)throw Ju(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Nm(...e.split("."))._internalPath}catch{throw Ju(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ju(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new K(N.INVALID_ARGUMENT,a+t+l)}function XD(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Kc("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ZD extends rT{data(){return super.data()}}function Kc(t,e){return typeof e=="string"?nT(t,e):e instanceof Nm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bm{}class iT extends bm{}function _i(t,e,...n){let r=[];e instanceof bm&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof Lm).length,a=o.filter(l=>l instanceof Yc).length;if(s>1||s>0&&a>0)throw new K(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Yc extends iT{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Yc(e,n,r)}_apply(e){const n=this._parse(e);return oT(e._query,n),new Tr(e.firestore,e.converter,Df(e._query,n))}_parse(e){const n=XE(e.firestore);return function(o,s,a,l,u,c,h){let d;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new K(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){kv(h,c);const v=[];for(const A of h)v.push(xv(l,o,A));d={arrayValue:{values:v}}}else d=xv(l,o,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||kv(h,c),d=KD(a,s,h,c==="in"||c==="not-in");return ut.create(u,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Vs(t,e,n){const r=e,i=Kc("where",t);return Yc._create(i,r,n)}class Lm extends bm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Lm(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Vn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)oT(s,l),s=Df(s,l)}(e._query,n),new Tr(e.firestore,e.converter,Df(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Fm extends iT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Fm(e,n)}_apply(e){const n=function(i,o,s){if(i.startAt!==null)throw new K(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new K(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ja(o,s)}(e._query,this._field,this._direction);return new Tr(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new os(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function t2(t,e="asc"){const n=e,r=Kc("orderBy",t);return Fm._create(r,n)}function xv(t,e,n){if(typeof(n=Zn(n))=="string"){if(n==="")throw new K(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Z1(e)&&n.indexOf("/")!==-1)throw new K(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ue.fromString(n));if(!te.isDocumentKey(r))throw new K(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Xy(t,new te(r))}if(n instanceof Ft)return Xy(t,n._key);throw new K(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hc(n)}.`)}function kv(t,e){if(!Array.isArray(t)||t.length===0)throw new K(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function oT(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new K(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class n2{convertValue(e,n="none"){switch(zi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($i(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return is(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new Om(at(e.latitude),at(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=gm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ba(e));default:return null}}convertTimestamp(e){const n=ti(e);return new Je(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ue.fromString(e);be(SE(r));const i=new La(r.get(1),r.get(3)),o=new te(r.popFirst(5));return i.isEqual(n)||er(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jm extends rT{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new uu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Kc("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class uu extends jm{data(e={}){return super.data(e)}}class i2{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Io(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new uu(this._firestore,this._userDataWriter,r.key,r,new Io(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new uu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Io(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new uu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Io(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:o2(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function o2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(t){t=Xn(t,Ft);const e=Xn(t.firestore,Yo);return jD(Qc(e),t._key).then(n=>sT(e,t,n))}class Bm extends n2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,n)}}function s2(t){t=Xn(t,Ft);const e=Xn(t.firestore,Yo),n=Qc(e),r=new Bm(e);return FD(n,t._key).then(i=>new jm(e,r,t._key,i,new Io(i!==null&&i.hasLocalMutations,!0),t.converter))}function Yr(t,e,n){t=Xn(t,Ft);const r=Xn(t.firestore,Yo),i=r2(t.converter,e,n);return a2(r,[QD(XE(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,mr.none())])}function Dv(t,...e){var n,r,i;t=Zn(t);let o={includeMetadataChanges:!1},s=0;typeof e[s]!="object"||Cv(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(Cv(e[s])){const h=e[s];e[s]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[s+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[s+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,c;if(t instanceof Ft)u=Xn(t.firestore,Yo),c=Lc(t._key.path),l={next:h=>{e[s]&&e[s](sT(u,t,h))},error:e[s+1],complete:e[s+2]};else{const h=Xn(t,Tr);u=Xn(h.firestore,Yo),c=h._query;const d=new Bm(u);l={next:v=>{e[s]&&e[s](new i2(u,d,h,v))},error:e[s+1],complete:e[s+2]},e2(t._query)}return function(d,v,A,I){const E=new qE(I),g=new LE(v,E,A);return d.asyncQueue.enqueueAndForget(async()=>ME(await jf(d),g)),()=>{E.La(),d.asyncQueue.enqueueAndForget(async()=>bE(await jf(d),g))}}(Qc(u),c,a,l)}function a2(t,e){return function(r,i){const o=new Kn;return r.asyncQueue.enqueueAndForget(async()=>ID(await LD(r),i,o)),o.promise}(Qc(t),e)}function sT(t,e,n){const r=n.docs.get(e._key),i=new Bm(t);return new jm(t,i,e._key,r,new Io(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){rs=i})(Vw),Aa(new $o("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Yo(new ax(r.getProvider("auth-internal")),new hx(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new K(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new La(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Qr(Gy,"4.4.2",e),Qr(Gy,"4.4.2","esm2017")})();var l2="firebase",u2="10.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qr(l2,u2,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="firebasestorage.googleapis.com",c2="storageBucket",h2=2*60*1e3,d2=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir extends Gi{constructor(e,n,r=0){super(ad(e),`Firebase Storage: ${n} (${ad(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ir.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ad(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var nr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(nr||(nr={}));function ad(t){return"storage/"+t}function f2(){const t="An unknown error occurred, please check the error payload for server response.";return new ir(nr.UNKNOWN,t)}function p2(){return new ir(nr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function m2(){return new ir(nr.CANCELED,"User canceled the upload/download.")}function g2(t){return new ir(nr.INVALID_URL,"Invalid URL '"+t+"'.")}function y2(t){return new ir(nr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Nv(t){return new ir(nr.INVALID_ARGUMENT,t)}function lT(){return new ir(nr.APP_DELETED,"The Firebase app was deleted.")}function v2(t){return new ir(nr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=xn.makeFromUrl(e,n)}catch{return new xn(e,"")}if(r.path==="")return r;throw y2(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(x){x.path.charAt(x.path.length-1)==="/"&&(x.path_=x.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function u(x){x.path_=decodeURIComponent(x.path)}const c="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",v=new RegExp(`^https?://${h}/${c}/b/${i}/o${d}`,"i"),A={bucket:1,path:3},I=n===aT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",g=new RegExp(`^https?://${I}/${i}/${E}`,"i"),w=[{regex:a,indices:l,postModify:o},{regex:v,indices:A,postModify:u},{regex:g,indices:{bucket:1,path:2},postModify:u}];for(let x=0;x<w.length;x++){const L=w[x],T=L.regex.exec(e);if(T){const D=T[L.indices.bucket];let j=T[L.indices.path];j||(j=""),r=new xn(D,j),L.postModify(r);break}}if(r==null)throw g2(e);return r}}class _2{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let u=!1;function c(...E){u||(u=!0,e.apply(null,E))}function h(E){i=setTimeout(()=>{i=null,t(v,l())},E)}function d(){o&&clearTimeout(o)}function v(E,...g){if(u){d();return}if(E){d(),c.call(null,E,...g);return}if(l()||s){d(),c.call(null,E,...g);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,h(w)}let A=!1;function I(E){A||(A=!0,d(),!u&&(i!==null?(E||(a=2),clearTimeout(i),h(0)):E||(a=1)))}return h(0),o=setTimeout(()=>{s=!0,I(!0)},n),I}function E2(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(t){return t!==void 0}function Ov(t,e,n,r){if(r<e)throw Nv(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Nv(`Invalid value for '${t}'. Expected ${n} or less.`)}function S2(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xu;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Xu||(Xu={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,n,r,i,o,s,a,l,u,c,h,d=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=h,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,A)=>{this.resolve_=v,this.reject_=A,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Gl(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===Xu.NO_ERROR,l=o.getStatus();if(!a||I2(l,this.additionalRetryCodes_)&&this.retry){const c=o.getErrorCode()===Xu.ABORT;r(!1,new Gl(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Gl(u,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());T2(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=f2();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?lT():m2();s(l)}else{const l=p2();s(l)}};this.canceled_?n(!1,new Gl(!1,null,!0)):this.backoffId_=w2(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&E2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Gl{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function R2(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function P2(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function C2(t,e){e&&(t["X-Firebase-GMPID"]=e)}function x2(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function k2(t,e,n,r,i,o,s=!0){const a=S2(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return C2(u,e),R2(u,n),P2(u,o),x2(u,r),new A2(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function N2(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,n){this._service=e,n instanceof xn?this._location=n:this._location=xn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Zu(e,n)}get root(){const e=new xn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return N2(this._location.path)}get storage(){return this._service}get parent(){const e=D2(this._location.path);if(e===null)return null;const n=new xn(this._location.bucket,e);return new Zu(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw v2(e)}}function Vv(t,e){const n=e?.[c2];return n==null?null:xn.makeFromBucketSpec(n,t)}function O2(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Pw(i,t.app.options.projectId))}class V2{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=aT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=h2,this._maxUploadRetryTime=d2,this._requests=new Set,i!=null?this._bucket=xn.makeFromBucketSpec(i,this._host):this._bucket=Vv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=xn.makeFromBucketSpec(this._url,e):this._bucket=Vv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ov("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ov("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Zu(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new _2(lT());{const s=k2(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Mv="@firebase/storage",bv="0.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="storage";function M2(t=bw(),e){t=Zn(t);const r=Ow(t,uT).getImmediate({identifier:e}),i=Aw("storage");return i&&b2(r,...i),r}function b2(t,e,n,r={}){O2(t,e,n,r)}function L2(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new V2(n,r,i,e,Vw)}function F2(){Aa(new $o(uT,L2,"PUBLIC").setMultipleInstances(!0)),Qr(Mv,bv,""),Qr(Mv,bv,"esm2017")}F2();var cT={exports:{}};/*! algoliasearch.umd.js | 4.22.1 |  Algolia, inc. | https://github.com/algolia/algoliasearch-client-javascript */(function(t,e){(function(n,r){t.exports=r()})(jT,function(){function n(f,p,y){return p in f?Object.defineProperty(f,p,{value:y,enumerable:!0,configurable:!0,writable:!0}):f[p]=y,f}function r(f,p){var y=Object.keys(f);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(f);p&&(_=_.filter(function(P){return Object.getOwnPropertyDescriptor(f,P).enumerable})),y.push.apply(y,_)}return y}function i(f){for(var p=1;p<arguments.length;p++){var y=arguments[p]!=null?arguments[p]:{};p%2?r(Object(y),!0).forEach(function(_){n(f,_,y[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(y)):r(Object(y)).forEach(function(_){Object.defineProperty(f,_,Object.getOwnPropertyDescriptor(y,_))})}return f}function o(f,p){if(f==null)return{};var y,_,P=function($,O){if($==null)return{};var U,X,Q={},ue=Object.keys($);for(X=0;X<ue.length;X++)U=ue[X],O.indexOf(U)>=0||(Q[U]=$[U]);return Q}(f,p);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(f);for(_=0;_<b.length;_++)y=b[_],p.indexOf(y)>=0||Object.prototype.propertyIsEnumerable.call(f,y)&&(P[y]=f[y])}return P}function s(f,p){return function(y){if(Array.isArray(y))return y}(f)||function(y,_){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]"){var P=[],b=!0,$=!1,O=void 0;try{for(var U,X=y[Symbol.iterator]();!(b=(U=X.next()).done)&&(P.push(U.value),!_||P.length!==_);b=!0);}catch(Q){$=!0,O=Q}finally{try{b||X.return==null||X.return()}finally{if($)throw O}}return P}}(f,p)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(f){return function(p){if(Array.isArray(p)){for(var y=0,_=new Array(p.length);y<p.length;y++)_[y]=p[y];return _}}(f)||function(p){if(Symbol.iterator in Object(p)||Object.prototype.toString.call(p)==="[object Arguments]")return Array.from(p)}(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(f){var p,y="algoliasearch-client-js-".concat(f.key),_=function(){return p===void 0&&(p=f.localStorage||window.localStorage),p},P=function(){return JSON.parse(_().getItem(y)||"{}")},b=function(O){_().setItem(y,JSON.stringify(O))},$=function(){var O=f.timeToLive?1e3*f.timeToLive:null,U=P(),X=Object.fromEntries(Object.entries(U).filter(function(ue){return s(ue,2)[1].timestamp!==void 0}));if(b(X),O){var Q=Object.fromEntries(Object.entries(X).filter(function(ue){var ae=s(ue,2)[1],_e=new Date().getTime();return!(ae.timestamp+O<_e)}));b(Q)}};return{get:function(O,U){var X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then(function(){$();var Q=JSON.stringify(O);return P()[Q]}).then(function(Q){return Promise.all([Q?Q.value:U(),Q!==void 0])}).then(function(Q){var ue=s(Q,2),ae=ue[0],_e=ue[1];return Promise.all([ae,_e||X.miss(ae)])}).then(function(Q){return s(Q,1)[0]})},set:function(O,U){return Promise.resolve().then(function(){var X=P();return X[JSON.stringify(O)]={timestamp:new Date().getTime(),value:U},_().setItem(y,JSON.stringify(X)),U})},delete:function(O){return Promise.resolve().then(function(){var U=P();delete U[JSON.stringify(O)],_().setItem(y,JSON.stringify(U))})},clear:function(){return Promise.resolve().then(function(){_().removeItem(y)})}}}function u(f){var p=a(f.caches),y=p.shift();return y===void 0?{get:function(_,P){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},$=P();return $.then(function(O){return Promise.all([O,b.miss(O)])}).then(function(O){return s(O,1)[0]})},set:function(_,P){return Promise.resolve(P)},delete:function(_){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(_,P){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return y.get(_,P,b).catch(function(){return u({caches:p}).get(_,P,b)})},set:function(_,P){return y.set(_,P).catch(function(){return u({caches:p}).set(_,P)})},delete:function(_){return y.delete(_).catch(function(){return u({caches:p}).delete(_)})},clear:function(){return y.clear().catch(function(){return u({caches:p}).clear()})}}}function c(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{serializable:!0},p={};return{get:function(y,_){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},b=JSON.stringify(y);if(b in p)return Promise.resolve(f.serializable?JSON.parse(p[b]):p[b]);var $=_(),O=P&&P.miss||function(){return Promise.resolve()};return $.then(function(U){return O(U)}).then(function(){return $})},set:function(y,_){return p[JSON.stringify(y)]=f.serializable?JSON.stringify(_):_,Promise.resolve(_)},delete:function(y){return delete p[JSON.stringify(y)],Promise.resolve()},clear:function(){return p={},Promise.resolve()}}}function h(f,p,y){var _={"x-algolia-api-key":y,"x-algolia-application-id":p};return{headers:function(){return f===g.WithinHeaders?_:{}},queryParameters:function(){return f===g.WithinQueryParameters?_:{}}}}function d(f){var p=0;return f(function y(){return p++,new Promise(function(_){setTimeout(function(){_(f(y))},Math.min(100*p,1e3))})})}function v(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(y,_){return Promise.resolve()};return Object.assign(f,{wait:function(y){return v(f.then(function(_){return Promise.all([p(_,y),_])}).then(function(_){return _[1]}))}})}function A(f){for(var p=f.length-1;p>0;p--){var y=Math.floor(Math.random()*(p+1)),_=f[p];f[p]=f[y],f[y]=_}return f}function I(f,p){return p&&Object.keys(p).forEach(function(y){f[y]=p[y](f)}),f}function E(f){for(var p=arguments.length,y=new Array(p>1?p-1:0),_=1;_<p;_++)y[_-1]=arguments[_];var P=0;return f.replace(/%s/g,function(){return encodeURIComponent(y[P++])})}var g={WithinQueryParameters:0,WithinHeaders:1};function m(f,p){var y=f||{},_=y.data||{};return Object.keys(y).forEach(function(P){["timeout","headers","queryParameters","data","cacheable"].indexOf(P)===-1&&(_[P]=y[P])}),{data:Object.entries(_).length>0?_:void 0,timeout:y.timeout||p,headers:y.headers||{},queryParameters:y.queryParameters||{},cacheable:y.cacheable}}var w={Read:1,Write:2,Any:3},x=1,L=2,T=3;function D(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:x;return i(i({},f),{},{status:p,lastUpdate:Date.now()})}function j(f){return typeof f=="string"?{protocol:"https",url:f,accept:w.Any}:{protocol:f.protocol||"https",url:f.url,accept:f.accept||w.Any}}var q="DELETE",z="GET",Y="POST",Le="PUT";function De(f,p){return Promise.all(p.map(function(y){return f.get(y,function(){return Promise.resolve(D(y))})})).then(function(y){var _=y.filter(function($){return function(O){return O.status===x||Date.now()-O.lastUpdate>12e4}($)}),P=y.filter(function($){return function(O){return O.status===T&&Date.now()-O.lastUpdate<=12e4}($)}),b=[].concat(a(_),a(P));return{getTimeout:function($,O){return(P.length===0&&$===0?1:P.length+3+$)*O},statelessHosts:b.length>0?b.map(function($){return j($)}):p}})}function ct(f,p,y,_){var P=[],b=function(ae,_e){if(!(ae.method===z||ae.data===void 0&&_e.data===void 0)){var pe=Array.isArray(ae.data)?ae.data:i(i({},ae.data),_e.data);return JSON.stringify(pe)}}(y,_),$=function(ae,_e){var pe=i(i({},ae.headers),_e.headers),Ve={};return Object.keys(pe).forEach(function(ze){var Yt=pe[ze];Ve[ze.toLowerCase()]=Yt}),Ve}(f,_),O=y.method,U=y.method!==z?{}:i(i({},y.data),_.data),X=i(i(i({"x-algolia-agent":f.userAgent.value},f.queryParameters),U),_.queryParameters),Q=0,ue=function ae(_e,pe){var Ve=_e.pop();if(Ve===void 0)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:re(P)};var ze={data:b,headers:$,method:O,url:Ae(Ve,y.path,X),connectTimeout:pe(Q,f.timeouts.connect),responseTimeout:pe(Q,_.timeout)},Yt=function(Jt){var xt={request:ze,response:Jt,host:Ve,triesLeft:_e.length};return P.push(xt),xt},gs={onSuccess:function(Jt){return function(xt){try{return JSON.parse(xt.content)}catch(mi){throw function(Pr,eo){return{name:"DeserializationError",message:Pr,response:eo}}(mi.message,xt)}}(Jt)},onRetry:function(Jt){var xt=Yt(Jt);return Jt.isTimedOut&&Q++,Promise.all([f.logger.info("Retryable failure",ie(xt)),f.hostsCache.set(Ve,D(Ve,Jt.isTimedOut?T:L))]).then(function(){return ae(_e,pe)})},onFail:function(Jt){throw Yt(Jt),function(xt,mi){var Pr=xt.content,eo=xt.status,ys=Pr;try{ys=JSON.parse(Pr).message}catch{}return function(El,mh,FT){return{name:"ApiError",message:El,status:mh,transporterStackTrace:FT}}(ys,eo,mi)}(Jt,re(P))}};return f.requester.send(ze).then(function(Jt){return function(xt,mi){return function(Pr){var eo=Pr.status;return Pr.isTimedOut||function(ys){var El=ys.isTimedOut,mh=ys.status;return!El&&~~mh==0}(Pr)||~~(eo/100)!=2&&~~(eo/100)!=4}(xt)?mi.onRetry(xt):~~(xt.status/100)==2?mi.onSuccess(xt):mi.onFail(xt)}(Jt,gs)})};return De(f.hostsCache,p).then(function(ae){return ue(a(ae.statelessHosts).reverse(),ae.getTimeout)})}function Kt(f){var p=f.hostsCache,y=f.logger,_=f.requester,P=f.requestsCache,b=f.responsesCache,$=f.timeouts,O=f.userAgent,U=f.hosts,X=f.queryParameters,Q={hostsCache:p,logger:y,requester:_,requestsCache:P,responsesCache:b,timeouts:$,userAgent:O,headers:f.headers,queryParameters:X,hosts:U.map(function(ue){return j(ue)}),read:function(ue,ae){var _e=m(ae,Q.timeouts.read),pe=function(){return ct(Q,Q.hosts.filter(function(ze){return(ze.accept&w.Read)!=0}),ue,_e)};if((_e.cacheable!==void 0?_e.cacheable:ue.cacheable)!==!0)return pe();var Ve={request:ue,mappedRequestOptions:_e,transporter:{queryParameters:Q.queryParameters,headers:Q.headers}};return Q.responsesCache.get(Ve,function(){return Q.requestsCache.get(Ve,function(){return Q.requestsCache.set(Ve,pe()).then(function(ze){return Promise.all([Q.requestsCache.delete(Ve),ze])},function(ze){return Promise.all([Q.requestsCache.delete(Ve),Promise.reject(ze)])}).then(function(ze){var Yt=s(ze,2);return Yt[0],Yt[1]})})},{miss:function(ze){return Q.responsesCache.set(Ve,ze)}})},write:function(ue,ae){return ct(Q,Q.hosts.filter(function(_e){return(_e.accept&w.Write)!=0}),ue,m(ae,Q.timeouts.write))}};return Q}function Bt(f){var p={value:"Algolia for JavaScript (".concat(f,")"),add:function(y){var _="; ".concat(y.segment).concat(y.version!==void 0?" (".concat(y.version,")"):"");return p.value.indexOf(_)===-1&&(p.value="".concat(p.value).concat(_)),p}};return p}function Ae(f,p,y){var _=G(y),P="".concat(f.protocol,"://").concat(f.url,"/").concat(p.charAt(0)==="/"?p.substr(1):p);return _.length&&(P+="?".concat(_)),P}function G(f){return Object.keys(f).map(function(p){return E("%s=%s",p,(y=f[p],Object.prototype.toString.call(y)==="[object Object]"||Object.prototype.toString.call(y)==="[object Array]"?JSON.stringify(f[p]):f[p]));var y}).join("&")}function re(f){return f.map(function(p){return ie(p)})}function ie(f){var p=f.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return i(i({},f),{},{request:i(i({},f.request),{},{headers:i(i({},f.request.headers),p)})})}var Ee=function(f){return function(p,y){return f.transporter.write({method:Y,path:"2/abtests",data:p},y)}},Ne=function(f){return function(p,y){return f.transporter.write({method:q,path:E("2/abtests/%s",p)},y)}},dn=function(f){return function(p,y){return f.transporter.read({method:z,path:E("2/abtests/%s",p)},y)}},ht=function(f){return function(p){return f.transporter.read({method:z,path:"2/abtests"},p)}},rn=function(f){return function(p,y){return f.transporter.write({method:Y,path:E("2/abtests/%s/stop",p)},y)}},wt=function(f){return function(p){return f.transporter.read({method:z,path:"1/strategies/personalization"},p)}},bn=function(f){return function(p,y){return f.transporter.write({method:Y,path:"1/strategies/personalization",data:p},y)}};function ls(f){return function p(y){return f.request(y).then(function(_){if(f.batch!==void 0&&f.batch(_.hits),!f.shouldStop(_))return _.cursor?p({cursor:_.cursor}):p({page:(y.page||0)+1})})}({})}var Xc=function(f){return function(p,y){var _=y||{},P=_.queryParameters,b=o(_,["queryParameters"]),$=i({acl:p},P!==void 0?{queryParameters:P}:{});return v(f.transporter.write({method:Y,path:"1/keys",data:$},b),function(O,U){return d(function(X){return di(f)(O.key,U).catch(function(Q){if(Q.status!==404)throw Q;return X()})})})}},Zc=function(f){return function(p,y,_){var P=m(_);return P.queryParameters["X-Algolia-User-ID"]=p,f.transporter.write({method:Y,path:"1/clusters/mapping",data:{cluster:y}},P)}},$t=function(f){return function(p,y,_){return f.transporter.write({method:Y,path:"1/clusters/mapping/batch",data:{users:p,cluster:y}},_)}},ci=function(f){return function(p,y){return v(f.transporter.write({method:Y,path:E("/1/dictionaries/%s/batch",p),data:{clearExistingDictionaryEntries:!0,requests:{action:"addEntry",body:[]}}},y),function(_,P){return k(f)(_.taskID,P)})}},hi=function(f){return function(p,y,_){return v(f.transporter.write({method:Y,path:E("1/indexes/%s/operation",p),data:{operation:"copy",destination:y}},_),function(P,b){return Fn(f)(p,{methods:{waitTask:it}}).waitTask(P.taskID,b)})}},eh=function(f){return function(p,y,_){return hi(f)(p,y,i(i({},_),{},{scope:[ph.Rules]}))}},or=function(f){return function(p,y,_){return hi(f)(p,y,i(i({},_),{},{scope:[ph.Settings]}))}},th=function(f){return function(p,y,_){return hi(f)(p,y,i(i({},_),{},{scope:[ph.Synonyms]}))}},nh=function(f){return function(p,y){return p.method===z?f.transporter.read(p,y):f.transporter.write(p,y)}},rh=function(f){return function(p,y){return v(f.transporter.write({method:q,path:E("1/keys/%s",p)},y),function(_,P){return d(function(b){return di(f)(p,P).then(b).catch(function($){if($.status!==404)throw $})})})}},ih=function(f){return function(p,y,_){var P=y.map(function(b){return{action:"deleteEntry",body:{objectID:b}}});return v(f.transporter.write({method:Y,path:E("/1/dictionaries/%s/batch",p),data:{clearExistingDictionaryEntries:!1,requests:P}},_),function(b,$){return k(f)(b.taskID,$)})}},di=function(f){return function(p,y){return f.transporter.read({method:z,path:E("1/keys/%s",p)},y)}},Ir=function(f){return function(p,y){return f.transporter.read({method:z,path:E("1/task/%s",p.toString())},y)}},fl=function(f){return function(p){return f.transporter.read({method:z,path:"/1/dictionaries/*/settings"},p)}},us=function(f){return function(p){return f.transporter.read({method:z,path:"1/logs"},p)}},Ln=function(f){return function(p){return f.transporter.read({method:z,path:"1/clusters/mapping/top"},p)}},fi=function(f){return function(p,y){return f.transporter.read({method:z,path:E("1/clusters/mapping/%s",p)},y)}},pl=function(f){return function(p){var y=p||{},_=y.retrieveMappings,P=o(y,["retrieveMappings"]);return _===!0&&(P.getClusters=!0),f.transporter.read({method:z,path:"1/clusters/mapping/pending"},P)}},Fn=function(f){return function(p){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_={transporter:f.transporter,appId:f.appId,indexName:p};return I(_,y.methods)}},oh=function(f){return function(p){return f.transporter.read({method:z,path:"1/keys"},p)}},jn=function(f){return function(p){return f.transporter.read({method:z,path:"1/clusters"},p)}},ml=function(f){return function(p){return f.transporter.read({method:z,path:"1/indexes"},p)}},gl=function(f){return function(p){return f.transporter.read({method:z,path:"1/clusters/mapping"},p)}},yl=function(f){return function(p,y,_){return v(f.transporter.write({method:Y,path:E("1/indexes/%s/operation",p),data:{operation:"move",destination:y}},_),function(P,b){return Fn(f)(p,{methods:{waitTask:it}}).waitTask(P.taskID,b)})}},sh=function(f){return function(p,y){return v(f.transporter.write({method:Y,path:"1/indexes/*/batch",data:{requests:p}},y),function(_,P){return Promise.all(Object.keys(_.taskID).map(function(b){return Fn(f)(b,{methods:{waitTask:it}}).waitTask(_.taskID[b],P)}))})}},vl=function(f){return function(p,y){return f.transporter.read({method:Y,path:"1/indexes/*/objects",data:{requests:p}},y)}},pi=function(f){return function(p,y){var _=p.map(function(P){return i(i({},P),{},{params:G(P.params||{})})});return f.transporter.read({method:Y,path:"1/indexes/*/queries",data:{requests:_},cacheable:!0},y)}},cs=function(f){return function(p,y){return Promise.all(p.map(function(_){var P=_.params,b=P.facetName,$=P.facetQuery,O=o(P,["facetName","facetQuery"]);return Fn(f)(_.indexName,{methods:{searchForFacetValues:Hm}}).searchForFacetValues(b,$,i(i({},y),O))}))}},hs=function(f){return function(p,y){var _=m(y);return _.queryParameters["X-Algolia-User-ID"]=p,f.transporter.write({method:q,path:"1/clusters/mapping"},_)}},ah=function(f){return function(p,y,_){var P=y.map(function(b){return{action:"addEntry",body:b}});return v(f.transporter.write({method:Y,path:E("/1/dictionaries/%s/batch",p),data:{clearExistingDictionaryEntries:!0,requests:P}},_),function(b,$){return k(f)(b.taskID,$)})}},_l=function(f){return function(p,y){return v(f.transporter.write({method:Y,path:E("1/keys/%s/restore",p)},y),function(_,P){return d(function(b){return di(f)(p,P).catch(function($){if($.status!==404)throw $;return b()})})})}},lh=function(f){return function(p,y,_){var P=y.map(function(b){return{action:"addEntry",body:b}});return v(f.transporter.write({method:Y,path:E("/1/dictionaries/%s/batch",p),data:{clearExistingDictionaryEntries:!1,requests:P}},_),function(b,$){return k(f)(b.taskID,$)})}},wl=function(f){return function(p,y,_){return f.transporter.read({method:Y,path:E("/1/dictionaries/%s/search",p),data:{query:y},cacheable:!0},_)}},uh=function(f){return function(p,y){return f.transporter.read({method:Y,path:"1/clusters/mapping/search",data:{query:p}},y)}},R=function(f){return function(p,y){return v(f.transporter.write({method:Le,path:"/1/dictionaries/*/settings",data:p},y),function(_,P){return k(f)(_.taskID,P)})}},C=function(f){return function(p,y){var _=Object.assign({},y),P=y||{},b=P.queryParameters,$=o(P,["queryParameters"]),O=b?{queryParameters:b}:{},U=["acl","indexes","referers","restrictSources","queryParameters","description","maxQueriesPerIPPerHour","maxHitsPerQuery"];return v(f.transporter.write({method:Le,path:E("1/keys/%s",p),data:O},$),function(X,Q){return d(function(ue){return di(f)(p,Q).then(function(ae){return function(_e){return Object.keys(_).filter(function(pe){return U.indexOf(pe)!==-1}).every(function(pe){if(Array.isArray(_e[pe])&&Array.isArray(_[pe])){var Ve=_e[pe];return Ve.length===_[pe].length&&Ve.every(function(ze,Yt){return ze===_[pe][Yt]})}return _e[pe]===_[pe]})}(ae)?Promise.resolve():ue()})})})}},k=function(f){return function(p,y){return d(function(_){return Ir(f)(p,y).then(function(P){return P.status!=="published"?_():void 0})})}},B=function(f){return function(p,y){return v(f.transporter.write({method:Y,path:E("1/indexes/%s/batch",f.indexName),data:{requests:p}},y),function(_,P){return it(f)(_.taskID,P)})}},Z=function(f){return function(p){return ls(i(i({shouldStop:function(y){return y.cursor===void 0}},p),{},{request:function(y){return f.transporter.read({method:Y,path:E("1/indexes/%s/browse",f.indexName),data:y},p)}}))}},fe=function(f){return function(p){var y=i({hitsPerPage:1e3},p);return ls(i(i({shouldStop:function(_){return _.hits.length<y.hitsPerPage}},y),{},{request:function(_){return Gm(f)("",i(i({},y),_)).then(function(P){return i(i({},P),{},{hits:P.hits.map(function(b){return delete b._highlightResult,b})})})}}))}},oe=function(f){return function(p){var y=i({hitsPerPage:1e3},p);return ls(i(i({shouldStop:function(_){return _.hits.length<y.hitsPerPage}},y),{},{request:function(_){return Qm(f)("",i(i({},y),_)).then(function(P){return i(i({},P),{},{hits:P.hits.map(function(b){return delete b._highlightResult,b})})})}}))}},ne=function(f){return function(p,y,_){var P=_||{},b=P.batchSize,$=o(P,["batchSize"]),O={taskIDs:[],objectIDs:[]};return v(function U(){var X,Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,ue=[];for(X=Q;X<p.length&&(ue.push(p[X]),ue.length!==(b||1e3));X++);return ue.length===0?Promise.resolve(O):B(f)(ue.map(function(ae){return{action:y,body:ae}}),$).then(function(ae){return O.objectIDs=O.objectIDs.concat(ae.objectIDs),O.taskIDs.push(ae.taskID),X++,U(X)})}(),function(U,X){return Promise.all(U.taskIDs.map(function(Q){return it(f)(Q,X)}))})}},ee=function(f){return function(p){return v(f.transporter.write({method:Y,path:E("1/indexes/%s/clear",f.indexName)},p),function(y,_){return it(f)(y.taskID,_)})}},me=function(f){return function(p){var y=p||{},_=y.forwardToReplicas,P=m(o(y,["forwardToReplicas"]));return _&&(P.queryParameters.forwardToReplicas=1),v(f.transporter.write({method:Y,path:E("1/indexes/%s/rules/clear",f.indexName)},P),function(b,$){return it(f)(b.taskID,$)})}},nt=function(f){return function(p){var y=p||{},_=y.forwardToReplicas,P=m(o(y,["forwardToReplicas"]));return _&&(P.queryParameters.forwardToReplicas=1),v(f.transporter.write({method:Y,path:E("1/indexes/%s/synonyms/clear",f.indexName)},P),function(b,$){return it(f)(b.taskID,$)})}},de=function(f){return function(p,y){return v(f.transporter.write({method:Y,path:E("1/indexes/%s/deleteByQuery",f.indexName),data:p},y),function(_,P){return it(f)(_.taskID,P)})}},ke=function(f){return function(p){return v(f.transporter.write({method:q,path:E("1/indexes/%s",f.indexName)},p),function(y,_){return it(f)(y.taskID,_)})}},dt=function(f){return function(p,y){return v(zt(f)([p],y).then(function(_){return{taskID:_.taskIDs[0]}}),function(_,P){return it(f)(_.taskID,P)})}},zt=function(f){return function(p,y){var _=p.map(function(P){return{objectID:P}});return ne(f)(_,Zi.DeleteObject,y)}},rt=function(f){return function(p,y){var _=y||{},P=_.forwardToReplicas,b=m(o(_,["forwardToReplicas"]));return P&&(b.queryParameters.forwardToReplicas=1),v(f.transporter.write({method:q,path:E("1/indexes/%s/rules/%s",f.indexName,p)},b),function($,O){return it(f)($.taskID,O)})}},Ar=function(f){return function(p,y){var _=y||{},P=_.forwardToReplicas,b=m(o(_,["forwardToReplicas"]));return P&&(b.queryParameters.forwardToReplicas=1),v(f.transporter.write({method:q,path:E("1/indexes/%s/synonyms/%s",f.indexName,p)},b),function($,O){return it(f)($.taskID,O)})}},ds=function(f){return function(p){return ar(f)(p).then(function(){return!0}).catch(function(y){if(y.status!==404)throw y;return!1})}},Rr=function(f){return function(p,y,_){return f.transporter.read({method:Y,path:E("1/answers/%s/prediction",f.indexName),data:{query:p,queryLanguages:y},cacheable:!0},_)}},Un=function(f){return function(p,y){var _=y||{},P=_.query,b=_.paginate,$=o(_,["query","paginate"]),O=0;return function U(){return Wm(f)(P||"",i(i({},$),{},{page:O})).then(function(X){for(var Q=0,ue=Object.entries(X.hits);Q<ue.length;Q++){var ae=s(ue[Q],2),_e=ae[0],pe=ae[1];if(p(pe))return{object:pe,position:parseInt(_e,10),page:O}}if(O++,b===!1||O>=X.nbPages)throw{name:"ObjectNotFoundError",message:"Object not found."};return U()})}()}},sr=function(f){return function(p,y){return f.transporter.read({method:z,path:E("1/indexes/%s/%s",f.indexName,p)},y)}},fs=function(){return function(f,p){for(var y=0,_=Object.entries(f.hits);y<_.length;y++){var P=s(_[y],2),b=P[0];if(P[1].objectID===p)return parseInt(b,10)}return-1}},ps=function(f){return function(p,y){var _=y||{},P=_.attributesToRetrieve,b=o(_,["attributesToRetrieve"]),$=p.map(function(O){return i({indexName:f.indexName,objectID:O},P?{attributesToRetrieve:P}:{})});return f.transporter.read({method:Y,path:"1/indexes/*/objects",data:{requests:$}},b)}},ms=function(f){return function(p,y){return f.transporter.read({method:z,path:E("1/indexes/%s/rules/%s",f.indexName,p)},y)}},ar=function(f){return function(p){return f.transporter.read({method:z,path:E("1/indexes/%s/settings",f.indexName),data:{getVersion:2}},p)}},Ji=function(f){return function(p,y){return f.transporter.read({method:z,path:E("1/indexes/%s/synonyms/%s",f.indexName,p)},y)}},Re=function(f){return function(p,y){return v(Oe(f)([p],y).then(function(_){return{objectID:_.objectIDs[0],taskID:_.taskIDs[0]}}),function(_,P){return it(f)(_.taskID,P)})}},Oe=function(f){return function(p,y){var _=y||{},P=_.createIfNotExists,b=o(_,["createIfNotExists"]),$=P?Zi.PartialUpdateObject:Zi.PartialUpdateObjectNoCreate;return ne(f)(p,$,b)}},fn=function(f){return function(p,y){var _=y||{},P=_.safe,b=_.autoGenerateObjectIDIfNotExist,$=_.batchSize,O=o(_,["safe","autoGenerateObjectIDIfNotExist","batchSize"]),U=function(pe,Ve,ze,Yt){return v(f.transporter.write({method:Y,path:E("1/indexes/%s/operation",pe),data:{operation:ze,destination:Ve}},Yt),function(gs,Jt){return it(f)(gs.taskID,Jt)})},X=Math.random().toString(36).substring(7),Q="".concat(f.indexName,"_tmp_").concat(X),ue=hh({appId:f.appId,transporter:f.transporter,indexName:Q}),ae=[],_e=U(f.indexName,Q,"copy",i(i({},O),{},{scope:["settings","synonyms","rules"]}));return ae.push(_e),v((P?_e.wait(O):_e).then(function(){var pe=ue(p,i(i({},O),{},{autoGenerateObjectIDIfNotExist:b,batchSize:$}));return ae.push(pe),P?pe.wait(O):pe}).then(function(){var pe=U(Q,f.indexName,"move",O);return ae.push(pe),P?pe.wait(O):pe}).then(function(){return Promise.all(ae)}).then(function(pe){var Ve=s(pe,3),ze=Ve[0],Yt=Ve[1],gs=Ve[2];return{objectIDs:Yt.objectIDs,taskIDs:[ze.taskID].concat(a(Yt.taskIDs),[gs.taskID])}}),function(pe,Ve){return Promise.all(ae.map(function(ze){return ze.wait(Ve)}))})}},Xi=function(f){return function(p,y){return dh(f)(p,i(i({},y),{},{clearExistingRules:!0}))}},ch=function(f){return function(p,y){return fh(f)(p,i(i({},y),{},{clearExistingSynonyms:!0}))}},DT=function(f){return function(p,y){return v(hh(f)([p],y).then(function(_){return{objectID:_.objectIDs[0],taskID:_.taskIDs[0]}}),function(_,P){return it(f)(_.taskID,P)})}},hh=function(f){return function(p,y){var _=y||{},P=_.autoGenerateObjectIDIfNotExist,b=o(_,["autoGenerateObjectIDIfNotExist"]),$=P?Zi.AddObject:Zi.UpdateObject;if($===Zi.UpdateObject){var O=!0,U=!1,X=void 0;try{for(var Q,ue=p[Symbol.iterator]();!(O=(Q=ue.next()).done);O=!0)if(Q.value.objectID===void 0)return v(Promise.reject({name:"MissingObjectIDError",message:"All objects must have an unique objectID (like a primary key) to be valid. Algolia is also able to generate objectIDs automatically but *it's not recommended*. To do it, use the `{'autoGenerateObjectIDIfNotExist': true}` option."}))}catch(ae){U=!0,X=ae}finally{try{O||ue.return==null||ue.return()}finally{if(U)throw X}}}return ne(f)(p,$,b)}},NT=function(f){return function(p,y){return dh(f)([p],y)}},dh=function(f){return function(p,y){var _=y||{},P=_.forwardToReplicas,b=_.clearExistingRules,$=m(o(_,["forwardToReplicas","clearExistingRules"]));return P&&($.queryParameters.forwardToReplicas=1),b&&($.queryParameters.clearExistingRules=1),v(f.transporter.write({method:Y,path:E("1/indexes/%s/rules/batch",f.indexName),data:p},$),function(O,U){return it(f)(O.taskID,U)})}},OT=function(f){return function(p,y){return fh(f)([p],y)}},fh=function(f){return function(p,y){var _=y||{},P=_.forwardToReplicas,b=_.clearExistingSynonyms,$=_.replaceExistingSynonyms,O=m(o(_,["forwardToReplicas","clearExistingSynonyms","replaceExistingSynonyms"]));return P&&(O.queryParameters.forwardToReplicas=1),($||b)&&(O.queryParameters.replaceExistingSynonyms=1),v(f.transporter.write({method:Y,path:E("1/indexes/%s/synonyms/batch",f.indexName),data:p},O),function(U,X){return it(f)(U.taskID,X)})}},Wm=function(f){return function(p,y){return f.transporter.read({method:Y,path:E("1/indexes/%s/query",f.indexName),data:{query:p},cacheable:!0},y)}},Hm=function(f){return function(p,y,_){return f.transporter.read({method:Y,path:E("1/indexes/%s/facets/%s/query",f.indexName,p),data:{facetQuery:y},cacheable:!0},_)}},Gm=function(f){return function(p,y){return f.transporter.read({method:Y,path:E("1/indexes/%s/rules/search",f.indexName),data:{query:p}},y)}},Qm=function(f){return function(p,y){return f.transporter.read({method:Y,path:E("1/indexes/%s/synonyms/search",f.indexName),data:{query:p}},y)}},VT=function(f){return function(p,y){var _=y||{},P=_.forwardToReplicas,b=m(o(_,["forwardToReplicas"]));return P&&(b.queryParameters.forwardToReplicas=1),v(f.transporter.write({method:Le,path:E("1/indexes/%s/settings",f.indexName),data:p},b),function($,O){return it(f)($.taskID,O)})}},it=function(f){return function(p,y){return d(function(_){return function(P){return function(b,$){return P.transporter.read({method:z,path:E("1/indexes/%s/task/%s",P.indexName,b.toString())},$)}}(f)(p,y).then(function(P){return P.status!=="published"?_():void 0})})}},Zi={AddObject:"addObject",UpdateObject:"updateObject",PartialUpdateObject:"partialUpdateObject",PartialUpdateObjectNoCreate:"partialUpdateObjectNoCreate",DeleteObject:"deleteObject",DeleteIndex:"delete",ClearIndex:"clear"},ph={Settings:"settings",Synonyms:"synonyms",Rules:"rules"},MT=1,bT=2,LT=3;function Km(f,p,y){var _,P={appId:f,apiKey:p,timeouts:{connect:1,read:2,write:30},requester:{send:function(O){return new Promise(function(U){var X=new XMLHttpRequest;X.open(O.method,O.url,!0),Object.keys(O.headers).forEach(function(_e){return X.setRequestHeader(_e,O.headers[_e])});var Q,ue=function(_e,pe){return setTimeout(function(){X.abort(),U({status:0,content:pe,isTimedOut:!0})},1e3*_e)},ae=ue(O.connectTimeout,"Connection timeout");X.onreadystatechange=function(){X.readyState>X.OPENED&&Q===void 0&&(clearTimeout(ae),Q=ue(O.responseTimeout,"Socket timeout"))},X.onerror=function(){X.status===0&&(clearTimeout(ae),clearTimeout(Q),U({content:X.responseText||"Network request failed",status:X.status,isTimedOut:!1}))},X.onload=function(){clearTimeout(ae),clearTimeout(Q),U({content:X.responseText,status:X.status,isTimedOut:!1})},X.send(O.data)})}},logger:(_=LT,{debug:function(O,U){return MT>=_&&console.debug(O,U),Promise.resolve()},info:function(O,U){return bT>=_&&console.info(O,U),Promise.resolve()},error:function(O,U){return console.error(O,U),Promise.resolve()}}),responsesCache:c(),requestsCache:c({serializable:!1}),hostsCache:u({caches:[l({key:"".concat("4.22.1","-").concat(f)}),c()]}),userAgent:Bt("4.22.1").add({segment:"Browser"})},b=i(i({},P),y),$=function(){return function(O){return function(U){var X=U.region||"us",Q=h(g.WithinHeaders,U.appId,U.apiKey),ue=Kt(i(i({hosts:[{url:"personalization.".concat(X,".algolia.com")}]},U),{},{headers:i(i(i({},Q.headers()),{"content-type":"application/json"}),U.headers),queryParameters:i(i({},Q.queryParameters()),U.queryParameters)}));return I({appId:U.appId,transporter:ue},U.methods)}(i(i(i({},P),O),{},{methods:{getPersonalizationStrategy:wt,setPersonalizationStrategy:bn}}))}};return function(O){var U=O.appId,X=h(O.authMode!==void 0?O.authMode:g.WithinHeaders,U,O.apiKey),Q=Kt(i(i({hosts:[{url:"".concat(U,"-dsn.algolia.net"),accept:w.Read},{url:"".concat(U,".algolia.net"),accept:w.Write}].concat(A([{url:"".concat(U,"-1.algolianet.com")},{url:"".concat(U,"-2.algolianet.com")},{url:"".concat(U,"-3.algolianet.com")}]))},O),{},{headers:i(i(i({},X.headers()),{"content-type":"application/x-www-form-urlencoded"}),O.headers),queryParameters:i(i({},X.queryParameters()),O.queryParameters)}));return I({transporter:Q,appId:U,addAlgoliaAgent:function(ue,ae){Q.userAgent.add({segment:ue,version:ae})},clearCache:function(){return Promise.all([Q.requestsCache.clear(),Q.responsesCache.clear()]).then(function(){})}},O.methods)}(i(i({},b),{},{methods:{search:pi,searchForFacetValues:cs,multipleBatch:sh,multipleGetObjects:vl,multipleQueries:pi,copyIndex:hi,copySettings:or,copySynonyms:th,copyRules:eh,moveIndex:yl,listIndices:ml,getLogs:us,listClusters:jn,multipleSearchForFacetValues:cs,getApiKey:di,addApiKey:Xc,listApiKeys:oh,updateApiKey:C,deleteApiKey:rh,restoreApiKey:_l,assignUserID:Zc,assignUserIDs:$t,getUserID:fi,searchUserIDs:uh,listUserIDs:gl,getTopUserIDs:Ln,removeUserID:hs,hasPendingMappings:pl,clearDictionaryEntries:ci,deleteDictionaryEntries:ih,getDictionarySettings:fl,getAppTask:Ir,replaceDictionaryEntries:ah,saveDictionaryEntries:lh,searchDictionaryEntries:wl,setDictionarySettings:R,waitAppTask:k,customRequest:nh,initIndex:function(O){return function(U){return Fn(O)(U,{methods:{batch:B,delete:ke,findAnswers:Rr,getObject:sr,getObjects:ps,saveObject:DT,saveObjects:hh,search:Wm,searchForFacetValues:Hm,waitTask:it,setSettings:VT,getSettings:ar,partialUpdateObject:Re,partialUpdateObjects:Oe,deleteObject:dt,deleteObjects:zt,deleteBy:de,clearObjects:ee,browseObjects:Z,getObjectPosition:fs,findObject:Un,exists:ds,saveSynonym:OT,saveSynonyms:fh,getSynonym:Ji,searchSynonyms:Qm,browseSynonyms:oe,deleteSynonym:Ar,clearSynonyms:nt,replaceAllObjects:fn,replaceAllSynonyms:ch,searchRules:Gm,getRule:ms,deleteRule:rt,saveRule:NT,saveRules:dh,replaceAllRules:Xi,browseRules:fe,clearRules:me}})}},initAnalytics:function(){return function(O){return function(U){var X=U.region||"us",Q=h(g.WithinHeaders,U.appId,U.apiKey),ue=Kt(i(i({hosts:[{url:"analytics.".concat(X,".algolia.com")}]},U),{},{headers:i(i(i({},Q.headers()),{"content-type":"application/json"}),U.headers),queryParameters:i(i({},Q.queryParameters()),U.queryParameters)}));return I({appId:U.appId,transporter:ue},U.methods)}(i(i(i({},P),O),{},{methods:{addABTest:Ee,getABTest:dn,getABTests:ht,stopABTest:rn,deleteABTest:Ne}}))}},initPersonalization:$,initRecommendation:function(){return function(O){return b.logger.info("The `initRecommendation` method is deprecated. Use `initPersonalization` instead."),$()(O)}}}}))}return Km.version="4.22.1",Km})})(cT);var j2=cT.exports;const hT=$f(j2),U2={apiKey:"AIzaSyANe6FhYgb8cKaPQSlDiV-VpPI-TVmdgwc",authDomain:"crucial-binder-166413.firebaseapp.com",projectId:"crucial-binder-166413",storageBucket:"crucial-binder-166413.appspot.com",messagingSenderId:"251134816734",appId:"1:251134816734:web:a4ee50fbcb52d6c0176d4f",measurementId:"G-DFQWV78HE0"},B2=Mw(U2),ui=qD();M2(B2);li(ui,"documents");const ec=hl(li(ui,"documents")),$2=hl(li(ui,"feedback")),z2="E77TDAP2ZW",q2="2016061c4660d6ecc71016602c36e34e",W2=hT(z2,q2),dT=W2.initIndex("asu-mecha");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ao=function(){return Ao=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ao.apply(this,arguments)},fT=function(t){return{loading:t==null,value:t}},H2=function(){return function(t,e){switch(e.type){case"error":return Ao(Ao({},t),{error:e.error,loading:!1,value:void 0});case"reset":return fT(e.defaultValue);case"value":return Ao(Ao({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},G2=function(t){var e=t?t():void 0,n=M.useReducer(H2(),fT(e)),r=n[0],i=n[1],o=M.useCallback(function(){var l=t?t():void 0;i({type:"reset",defaultValue:l})},[t]),s=M.useCallback(function(l){i({type:"error",error:l})},[]),a=M.useCallback(function(l){i({type:"value",value:l})},[]);return M.useMemo(function(){return{error:r.error,loading:r.loading,reset:o,setError:s,setValue:a,value:r.value}},[r.error,r.loading,o,s,a,r.value])},Q2=function(t,e,n){var r=M.useRef(t);return M.useEffect(function(){e(t,r.current)||(r.current=t,n&&n())}),r},K2=function(t,e){var n=!t&&!e,r=!!t&&!!e&&$D(t,e);return n||r},Y2=function(t,e){return Q2(t,K2,e)},J2=function(t,e){var n=G2(),r=n.error,i=n.loading,o=n.reset,s=n.setError,a=n.setValue,l=n.value,u=Y2(t,o);return M.useEffect(function(){if(!u.current){a(void 0);return}var c=e?.snapshotListenOptions?Dv(u.current,e.snapshotListenOptions,a,s):Dv(u.current,a,s);return function(){c()}},[u.current]),[l,i,r]},pT=function(t,e){var n=J2(t,e),r=n[0],i=n[1],o=n[2],s=X2(r,e?.snapshotOptions,e?.initialValue);return[s,i,o,r]},X2=function(t,e,n){return M.useMemo(function(){var r;return(r=t?.docs.map(function(i){return i.data(e)}))!==null&&r!==void 0?r:n},[t,e])};function Mn(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function qi(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const mT=6048e5,Z2=864e5;let eN={};function Jc(){return eN}function $a(t,e){const n=Jc(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Mn(t),o=i.getDay(),s=(o<r?7:0)+o-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function tc(t){return $a(t,{weekStartsOn:1})}function gT(t){const e=Mn(t),n=e.getFullYear(),r=qi(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=tc(r),o=qi(t,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const s=tc(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function Lv(t){const e=Mn(t);return e.setHours(0,0,0,0),e}function Fv(t){const e=Mn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function tN(t,e){const n=Lv(t),r=Lv(e),i=+n-Fv(n),o=+r-Fv(r);return Math.round((i-o)/Z2)}function nN(t){const e=gT(t),n=qi(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),tc(n)}function rN(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function iN(t){if(!rN(t)&&typeof t!="number")return!1;const e=Mn(t);return!isNaN(Number(e))}function oN(t){const e=Mn(t),n=qi(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const sN={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},aN=(t,e,n)=>{let r;const i=sN[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ld(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const lN={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},uN={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},cN={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},hN={date:ld({formats:lN,defaultWidth:"full"}),time:ld({formats:uN,defaultWidth:"full"}),dateTime:ld({formats:cN,defaultWidth:"full"})},dN={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},fN=(t,e,n,r)=>dN[t];function Ms(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,a=n?.width?String(n.width):s;i=t.formattingValues[a]||t.formattingValues[s]}else{const s=t.defaultWidth,a=n?.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[s]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const pN={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},mN={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},gN={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},yN={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},vN={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},_N={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},wN=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},EN={ordinalNumber:wN,era:Ms({values:pN,defaultWidth:"wide"}),quarter:Ms({values:mN,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ms({values:gN,defaultWidth:"wide"}),day:Ms({values:yN,defaultWidth:"wide"}),dayPeriod:Ms({values:vN,defaultWidth:"wide",formattingValues:_N,defaultFormattingWidth:"wide"})};function bs(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const s=o[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?SN(a,h=>h.test(s)):TN(a,h=>h.test(s));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const c=e.slice(s.length);return{value:u,rest:c}}}function TN(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function SN(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function IN(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let s=t.valueCallback?t.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;const a=e.slice(i.length);return{value:s,rest:a}}}const AN=/^(\d+)(th|st|nd|rd)?/i,RN=/\d+/i,PN={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},CN={any:[/^b/i,/^(a|c)/i]},xN={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},kN={any:[/1/i,/2/i,/3/i,/4/i]},DN={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},NN={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ON={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},VN={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},MN={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},bN={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},LN={ordinalNumber:IN({matchPattern:AN,parsePattern:RN,valueCallback:t=>parseInt(t,10)}),era:bs({matchPatterns:PN,defaultMatchWidth:"wide",parsePatterns:CN,defaultParseWidth:"any"}),quarter:bs({matchPatterns:xN,defaultMatchWidth:"wide",parsePatterns:kN,defaultParseWidth:"any",valueCallback:t=>t+1}),month:bs({matchPatterns:DN,defaultMatchWidth:"wide",parsePatterns:NN,defaultParseWidth:"any"}),day:bs({matchPatterns:ON,defaultMatchWidth:"wide",parsePatterns:VN,defaultParseWidth:"any"}),dayPeriod:bs({matchPatterns:MN,defaultMatchWidth:"any",parsePatterns:bN,defaultParseWidth:"any"})},FN={code:"en-US",formatDistance:aN,formatLong:hN,formatRelative:fN,localize:EN,match:LN,options:{weekStartsOn:0,firstWeekContainsDate:1}};function jN(t){const e=Mn(t);return tN(e,oN(e))+1}function UN(t){const e=Mn(t),n=+tc(e)-+nN(e);return Math.round(n/mT)+1}function yT(t,e){const n=Mn(t),r=n.getFullYear(),i=Jc(),o=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,s=qi(t,0);s.setFullYear(r+1,0,o),s.setHours(0,0,0,0);const a=$a(s,e),l=qi(t,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const u=$a(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function BN(t,e){const n=Jc(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=yT(t,e),o=qi(t,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),$a(o,e)}function $N(t,e){const n=Mn(t),r=+$a(n,e)-+BN(n,e);return Math.round(r/mT)+1}function Pe(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const xr={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Pe(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Pe(n+1,2)},d(t,e){return Pe(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Pe(t.getHours()%12||12,e.length)},H(t,e){return Pe(t.getHours(),e.length)},m(t,e){return Pe(t.getMinutes(),e.length)},s(t,e){return Pe(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Pe(i,e.length)}},ro={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},jv={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return xr.y(t,e)},Y:function(t,e,n,r){const i=yT(t,r),o=i>0?i:1-i;if(e==="YY"){const s=o%100;return Pe(s,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):Pe(o,e.length)},R:function(t,e){const n=gT(t);return Pe(n,e.length)},u:function(t,e){const n=t.getFullYear();return Pe(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Pe(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Pe(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return xr.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Pe(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=$N(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Pe(i,e.length)},I:function(t,e,n){const r=UN(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Pe(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):xr.d(t,e)},D:function(t,e,n){const r=jN(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Pe(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Pe(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Pe(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Pe(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=ro.noon:r===0?i=ro.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=ro.evening:r>=12?i=ro.afternoon:r>=4?i=ro.morning:i=ro.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return xr.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):xr.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Pe(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Pe(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):xr.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):xr.s(t,e)},S:function(t,e){return xr.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Bv(r);case"XXXX":case"XX":return wi(r);case"XXXXX":case"XXX":default:return wi(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return Bv(r);case"xxxx":case"xx":return wi(r);case"xxxxx":case"xxx":default:return wi(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Uv(r,":");case"OOOO":default:return"GMT"+wi(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Uv(r,":");case"zzzz":default:return"GMT"+wi(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Pe(r,e.length)},T:function(t,e,n){const r=t.getTime();return Pe(r,e.length)}};function Uv(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+e+Pe(o,2)}function Bv(t,e){return t%60===0?(t>0?"-":"+")+Pe(Math.abs(t)/60,2):wi(t,e)}function wi(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Pe(Math.trunc(r/60),2),o=Pe(r%60,2);return n+i+e+o}const $v=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},vT=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},zN=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return $v(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",$v(r,e)).replace("{{time}}",vT(i,e))},qN={p:vT,P:zN},WN=/^D+$/,HN=/^Y+$/,GN=["D","DD","YY","YYYY"];function QN(t){return WN.test(t)}function KN(t){return HN.test(t)}function YN(t,e,n){const r=JN(t,e,n);if(console.warn(r),GN.includes(t))throw new RangeError(r)}function JN(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const XN=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ZN=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,eO=/^'([^]*?)'?$/,tO=/''/g,nO=/[a-zA-Z]/;function rO(t,e,n){const r=Jc(),i=n?.locale??r.locale??FN,o=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,s=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Mn(t);if(!iN(a))throw new RangeError("Invalid time value");let l=e.match(ZN).map(c=>{const h=c[0];if(h==="p"||h==="P"){const d=qN[h];return d(c,i.formatLong)}return c}).join("").match(XN).map(c=>{if(c==="''")return{isToken:!1,value:"'"};const h=c[0];if(h==="'")return{isToken:!1,value:iO(c)};if(jv[h])return{isToken:!0,value:c};if(h.match(nO))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:c}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const u={firstWeekContainsDate:o,weekStartsOn:s,locale:i};return l.map(c=>{if(!c.isToken)return c.value;const h=c.value;(!n?.useAdditionalWeekYearTokens&&KN(h)||!n?.useAdditionalDayOfYearTokens&&QN(h))&&YN(h,e,String(t));const d=jv[h[0]];return d(a,h,i.localize,u)}).join("")}function iO(t){const e=t.match(eO);return e?e[1].replace(tO,"'"):t}function _T(t){const{CourseCode:e,CourseName:n,CreatedAt:r,Title:i,Thumbnail:o,URL:s}=t.doc,a=new Image;a.src=o,a.onload=()=>{console.log("Image loaded")};const l=t.theme;return S.jsxs("a",{target:"_blank",rel:"noreferrer",className:"preview",href:s,children:[S.jsx("div",{className:"aspectwrapper",children:o?S.jsx("img",{src:o,alt:i,width:150}):S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"100",viewBox:"0 -960 960 960",width:"100",fill:l=="light"?"black":"white",children:S.jsx("path",{d:"M440-280H280q-83 0-141.5-58.5T80-480q0-83 58.5-141.5T280-680h160v80H280q-50 0-85 35t-35 85q0 50 35 85t85 35h160v80ZM320-440v-80h320v80H320Zm200 160v-80h160q50 0 85-35t35-85q0-50-35-85t-85-35H520v-80h160q83 0 141.5 58.5T880-480q0 83-58.5 141.5T680-280H520Z"})})}),S.jsxs("div",{className:"overlay",children:[S.jsx("h2",{className:"title",children:i}),S.jsx("h2",{className:"course",children:"Course: "+e+"-"+n}),S.jsx("h2",{className:"date",children:"Uploaded: "+rO(r.toDate(),"MMM dd, yyyy hh:mm")})]})]})}const wT="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGkAAABpCAYAAAA5gg06AAAAAXNSR0IArs4c6QAACIlJREFUeAHtnWlsVUUUx7unhaba1oJ0sS1tEFxARMUYKSHAB6xiIogQxQgSNS5gokZjkAAaDZomEJdEUARCZIlxQUiIyyeCMSYogkqUUmppFWygfcgiXai/MZ3kpbz3vMvM3To3uZl7586cOef/nzMzd+7Me2lp5jAIGAQMAgYBg4BBwCBgEDAIGAQMAgYBg4BBwCBgEDAIGASCiEBmEJVKpVNNTc2MoqKieYWFhec7Ojr+SJU2Ks/Sw2BIbW3tNX19fQvT09MfRN8SqXNvb+/oo0eP/irvoxpmBdmwkSNHToOYp9GxnvASVTMzM28h0pB0CTIeROA5k/GcBoiZkKw4nse6u7t3JnsepfhAeVJ1dXUl3tEAwLMSec4A4Je2tLR0DIiL5O2lbYhPZjIgWAoxL1spHi86eOTIkbFW0kYhje+eVFlZWZ2dnf0hYN5qA9AlNtKGPqmvnkTzNpvmbQMoDrWB5P7GxsbxNtKHPmmGXxYwcluQkZGxnfLtEJRGU/eOXzr7Va4vJEHQEghaTx9ky5Mh6NyFCxc2+wWWX+V6ThIDhJcgaLVDgze1traed5g3tNk8HTjw/vMESK10ihae9JXTvGHO55knQdAigHrLJViGJJcAJs1OHzQVL1ibNIGFB+Q/0NTUFLOQNHJJtDd3EHQVfdDHIGdrkDAQaUjaMzBusNzrbu6yGMB9ApgFCgBtVCAjlCK0ksRIbjkk3agCGeQ0q5ATRhnaSKKZGwWwz6sChW9HhiRVYEo59ENioKCsz+vq6mqVsgdbqMWTGG7fC5CTVYKZlZXVq1JemGTpIEmM4lapBqGnpyd06zFUYaCcJPqih1CuWpWCUk5eXp5yXaXsoIfKDWewsEyH0UysZuuQGwaZSkliyD0Fkqp0GJ6Tk6PcO3XoqUOmUpIg6AEdSgqZyK7VJTvoclWSJIbbczQabEhyCy7D7juQke9WTrL8eNKoZM+iHq/Mk5gArdcJFvKn65QfZNnKSKKm36nTUORfjrcqmQfUqacO2UpIYlnWGJQr1aFgvEy8aVr8/WC5VkISUzZiTbb2A2/S2qRqN8BhAUpIouzrHZZvN1sda/XG2c0U9vRKSKKGe0VSGrPrz4QddLv6KyGJvkL0SZ4cVIj5FRUV2vs/T4yxWIgSkgCuwmJ5SpKxdvxFJYJCIiTdrZ4Mi8X6BU9X8eC5fZQ5lp0VP7nVPwz5XXsSX0yv8NpQPFdUrg+8Ltev8lyTxK4IbVNBqUCBp5v4dvVYqjRReaaCJN8+a0NUA0Pyq6NCRjI7XJN08eLF7mTCdcdD0hA8edfw4cNtbZ/RrZdq+a5JYqmVbyT1g1GTn5+/TTUwQZLnmiR2gP/tt0F4VD3906t+66GrfNdDcKEYn83PiqZHl5I25K5nq+Yi0oshemQO157Uj8SxgCCykAqzq7y8PC8g+ihRQwlJeFGzEm0UCEGXGbm5uXt5ya5RIE6pCJrkevT6gor0hp2KpIQkJgCC9uY/Hp0OAsoCpSg7FCbmGiHnIyaHdyJiOhXpWSrS21bFqSLpG6sFepUOIPIAZT21dktpaannsyLSTspfzHI0sW1nlowTIZXoyvj7VNdKSOJdKXAkSaMhay6rX48B1hpqc7mM1x1S1hzKPED5a0SFSVDe3gRxCaOUjO6EZJRqIqhOWEqAIqnBGwDtXUaB3+pQCxzmU4b4CZ5RqeTzfjmRn4H7LlUa+UwZSaKmothiKTjoIUD+ho7vc25gNv0vp/qWlJTkFxQU3IztE5H5OOH/frYhXSdlFlotUxlJdNK30weEcl8roB0G3B8J94sT8ARpMa5j1PYT2HYZNb+UtRwjSFdG816KrdfxXJBje+6QfNsh6T7PSRIF4uonCYqsFj5Y00H4TMj/3Kr9SgYOcYVtirs2l4kRaLNDkBChlCQ2eq1CZldi3UxsPwKiH7R1KCWpubn5OO31OlsaDLLE9Efv2TVZKUmicEh6hcB4UwImIGgdAwbb85yZCWS5iurs7DzDb3bnMuqpcyUoYpkh6B8wuevUqVPn7Jqm3JOEAtSWlShlu8bYVT5M6SFoNS/Q7U501kISiojm7lEnCkU0jyDnNae2KW/upCL8RUEjzd44atAYGTdYQ1qVh2ldvndqvy5P+k8fCBLTRGedKheRfDsgaJsbW7SSRBvcSi2azRmpz9lWAcdssbJXfM53dWhr7qRWotkrLi4WK4qmyrjBEkLS/XjRPrf2aidJKMiwcw/90w00f6PdKhyW/LwvvsAvXdp+cU1kn9bmLr5AJhXncf9DfFxUr/GgjRAkpsiUHMo+VVjRpqysrJivpF+TNsq79XbQF99tBQ+raTzzJKFQW1vbSZqBydQ01+20VQO9TIddWyHoHtVleupJUnkWhgzBo3bTR02ScWEPIUjMyz2iww5fSJKG8JHwM65nyvsQh8vxoBW69PdkdJdMeUZ9Wxn1HcejppAmJ1m6oMbjPb9zTseDtujU0VdPkoaJ/1Bi/cBmyLpNxgU9hJyNp0+ffrK9vf2Mbl0DQZI0khVHz3G9ErJyZVwAw0MMfp5iiC1GqZ4cgSJJWAxRw6ily1iNIzrhwPxaJDrFqDwr6HveRK8eoatXR+BIkob3N4HLAUb8t6yfh9h/Jf5YqwGCHH0Pcqt8YEmShlVVVY1my+UC7udD2AgZrzvEc05Q3uuxWGytF/1OKnsCT1K88mxiroOwuQA4FwAtrwCNl5HqGrl/8nwH525GbJ+mSuvls1CRFA8MfdcEQJ0EWXWc4qXY1s4J8op/NDtE3l8YCOyjD/yS5uzn+DKCch1akgYCyIvxtcTVAr7YUjIM8EeIa8Kh3LdxtnDfxn0LPxBymD8SFhsMzGEQMAgYBAwCBgGDgEHAIGAQMAgYBAwCBgGDgEHAIGAQMAgYBAwCBgGDgEHAIJAagX8B0ZRLy7UYZB4AAAAASUVORK5CYII=",ET="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGkAAABpCAYAAAA5gg06AAAAAXNSR0IArs4c6QAACOlJREFUeAHtXO2R2zYU9GXy3+ogdAVhKjA6iFyBmQp8HVipwOrA6sByBZQrsDoQXcHJFTi7ZzKDg/BNgBLOeDPvSOJj3759BI4nau7Fi2pVgapAVaAqUBWoClQFqgJVgarAggrcLRgre6gfP36sEOT1GOjL3d3dOXvQGsBfARSohT/AJ+N5649QR2ZXAAXpp+pIxz574BrATwEURUiFUU+FH0odlVUBVKVXKyNd19WUVX0PcBTDtoqmWgkPqDoklwKoQj9VwnKsqylXAVy4KIrPKppqJ1x4tT+DAlC/nyrgcayrKUMNrJAoSsgqmmoorKC1M60CUL2flA841tWUtgxmNBQlZhVNtRRm5F+sB4qs4K/hTerUgdnDYy35agKRBv4azs8OyzCQ7eDy52hfcf0O3szNABhzVhGmP5pIwIOFYU7MbbIHnHRzsbPPB0mSJ1mTMal38CaGDOb18LkWtZoQVFcYlQtzv+0VBYIhd3pQwQKxVfHUa+Fzk2CST2GisH3iZxkDtiFFkpNzFgyDe3nCzHPjagJuTGFkOl43QJYC+IKC7VlmHHF+UTBgxBbfFv5/MTFobmGmOGW8aATb3cQ4wXEqWJ8AS4Ug5js4Y6Syne/N7Dsuy+tzZLsGgU++JJ7ZuDd4bb9PmVOWIpEgCsVl/zIl2QKwvqNAq9Q8f0sNKOElvZsk3Fs+zZJzLVLakmcpUrbtjrln3vK+IwRFOcAH+FH9Chfir9Dewhu4gK/hubbgLFsd+OY1iJTyKQ9wj7bFTwofZZgr4Dl47aIIXXsSxFjDUxmFbVLlRCx4ymJxlZZpEGLuH7aHlMVRVRyLxRhz7KziFnWNzOfcrdulkgVPbqOxtsvJ8/ec4CP2Hse3EXH+wYPAzmcelG0xjg8EQhl/wDV/oR+V9otLjLkHDsd9vOh0NzDHsg3Jh2x5HEvRrYYxAv4BfoK77IQBHCusoOjEmBYexNeFWUQ/kg7Z8jpbUqOIPY6x1mNi44jRBYDvbFjF9CHhtWfSW1tSwOBqSGUfHLG2noHWNpyi+pCwawsx7uuYu4L38NTWA3BlEhJ9e0fAs2luke1I1rXlNbrEKCI85asEVXdiawuF9kYdrFzvdJyLbENiAm4TemNKzDFP0Sz60vaWdmtBZU7CxL2IdiYA7+E2O6PTdCd/tE1M3LfViUpucHK0WY/OsopFwnAS97GNQRxiLG1aoUFi40mkxzgthi7Hq7SRIJxEQ6zRkQVAHwKSaKx22wN2G4jfY7zQ5XW1NhKCk1ioDTrSAFmHAiUcLwychogYPeZo8XQxTG2zXvqRAJx3H12Yglja94a+taF9iebOEMTE1TD8sVngJwtF5/lyxoBjYBxmmdCxBuLDLNR5kx8MnFKs7h7UtDnrYka1MQCcgVLZSiUCYMa4tl0ICUKrhKR6YF3EULWYrr22OwDyF+ecbW2K9+SIT57PTxp+XghN29JNFxwMXGN5EZ+ForcuEOerCoDwbmeBLu56F7ijn99R+NVNQAAW6pXtJvBZSR2AUhcIkC+O/KGxRtO2dJOJw5cMRKhtZ8P1KVKOAtk4LR1Px2VpDtZ4PkXa6bJI0PaHAeNoaF+y2cThz0wkdjZcZ5GwVw4AeANP/TukAWZpZr3jI5Khpvzu+GCb6ywSJwNkj0MD/xeeuliAfGKmu/jJoMwXFxzGB6hUYakhtWxGbVPh/sQhWfgGfobPNaGyA2DKv0di+V2sGACl+PuNmlG7C3xVB/naayXJE1D5M3yDtgY+d2UJYDwx4qPh85PGZS8+jxzUqEJtCLiWV87GgB8AFziUd8V4d8SsrK+6cMDr4NeyzsDJ9tLSxDVq5ejiJ2kDy9hiaZc+8AZT5hnbB50YiNcExryt4qhJIZnQYnUqBq+Bc43VNJfLbRdHFTqgWCd17nQNjAN8KTtMcdUjCJwcJMoqjiZBn5V1r87jNYTh3MEhUIpuxjBtuxtLgLKLo4qORLeWZPn+yCRSiz6KkcuI3ap8pZvE9m5Le3PpsIpogxAnh8pbUyIUEZ6jUFxB2gKNRdo6OGufTk153HT7KLIj38fuzpQIelfwow+I5xhirSzxOk+cxoRRVDuSdd2Rkx7cWox3NpNGP8XjCog1zu1sAqK/hdu2OTn2vQ2rmD5kdJKzcpxzrPEOZ9Lsh9/Dj3Bf41jO8cH2LRBjZ9/y7nJXGklwZYQmMmAOPx0+uvgBv8GYNZziMxaPtDP8OB73wBpwbrWR6ycMaqwDLztf+eBfTruRFiS+hccY7+ZuqTQYCx6yguSc7pfimSUOMjnJ2UScv89CTAIFp/cRvOQpoTuFFP3Kp8iilTOZcX7C3Lep0yEm/ARPYU1qfovgIfPYrc4k2gkds4qF+StiwE/wlJZty8v64AAF+LlcrjtsD+wDnO9/BhyNBh4NOv+GC/gansP4b3P+ygGcrUgQpgXhJffqAfHosjW4oC9lWZ7ynF+OnJFdN2NuzNQGk+jXNK7SbWoCOVdSzq0utQ6p8LJsecHfcfDJZtzqGp+xz2wMn2aT552lSBC+Syw+v5jCL3Oktm8AJHZKy/VgkpLj42drJ9xRc20PAH4KsCI7HDdzATXzuxGbj+WMxZhzbcmHJdIPN2TIJR9rTwojRwcghTzHAmvmDTL+dD7GmVuwZsK7ySOSFBpBbE3GwqgJAiTlaupUfPUa8XhjxBRMqFg3dY2kWrjLvAsjJwdQinZ2gXv0DzKuz/kY27dgjQ/mVccgoa1GqKjCqIkAN8Vq6lTckGtHwe5DsHzG5vw7qQUBPukc4Qd8ZHL2IeQaQ4EwZoC/dI019H8Dl8bQF9w88mGexOR7K+ZbbeZq6qqCCygwbjcxv5uGBeglD5Hrj9nkRGXAcevcym2e5xvPcXVYCgUiVtOQIu41MIpcSRQqYjVtriHwLx8zYDUNJYtV7Eqi6AGraVNykYrn7rGahuKTfA4JoFC2TyG655Bj8TlYVtNQfHLPKQEUag1XjR/XFG/ZPru7hjKokEBcOm2HB4vh8az+qApUBaoCVYGqQFWgKlAVqApUBaoCVYFnpcB/RUg2S4CIBygAAAAASUVORK5CYII=",oO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAAAAXNSR0IArs4c6QAAA7RJREFUaAXtmEloFFEQhmc8uaEmLolrPERE4sX1KEJAIeBCNERckCCIehBPCh4ED4J4cTkIKirmJCKCiGgQDMRDPAQDrhjFxDVGTXIwrqjxK+yR2FP1epkeM4gFPz39v6q//nkz3f1ep1MRor+/fwbp1WAJmAiKQQnoA90e7nG8CK6k0+mPHAcvMLwR3AFR4wwF0/66c5pWgftR3Sr5J+Dk18l/0Ggn+KGYiEs9onBKXp3T4GhcdwF1rxifmYT5tF8E4X1wu/287/w253IBPgXPwSggszkHyMU7EljRxcB8LtwXVkJkHtNrAmbsJOOzgoTJWQ8eO7RagjRCj9OkAnwymskFWh5azEukZpehJ/SpqHpqPkKNoqbEDbjRalEIktpaRTNDLQwhYaegsiKj5Ds2cz7Mrgw3gkY1+O7TltPmcApGFgItiugbuDFGSWQarb1KD6EqI4tJAYWlhuD2WIJGET2Gg26l1xGjxE0jtE0R63VXxRulzx6lV3sctSEULVUKLytcEtQlRWQ6XybyHUuMT1XEGhQuZ4qHTisi7xQhWXVGCjEuy1J/JPdU8yunUm3ZVKpM4ZyUGJ+kZMjaOl/RoQhHXnyJce1ClLVHvmKEIvxF4ZyUGH+tZExWuKQobXY1D85+YrxTyZircDlT3D2GIjJPEXqpcE5KjD9QMpYpXBKU7FW1uKmRTo5ZqFQeCkJpM+PUChpE84LSK/4SF7EeRTDRezn6C5QeQsnGJV5QfMgQXR1PMbsK/VtGD+12nC2gMQiWAG0T8QF+tlYThUPjLNDicBQdNRfVA5oyXBeQvWSsoPa4odsLPz6W6MAiRIrAQ6PJe/i6gflBn8kvBw2GntA1QRqhxxErA53ACtkAbwZFlihji8Bp4IprVn1YXns9UUFxIwj6GZvIkdcTsiCTPak8EeUWGuap+5m8g+AraGLVeJ1j7sFUyc/c4ZqymGNXjbqq3F17CjSQLZ22FzV6B9KbRJoseRGqxfLEzHuN1tGlXesUkqsn7/cOh8/HHHUrEzXvfQF5P3IO9DkaZ4Za+bAfZG0Q4FZlkoyjvMILjKyLM7CCBBou5jABjAXFQF7gvwWy0mzlYuvhaAb1GxisNxNSqRo0zjvGB28I82uB9Rr7G2PJ/22S+rqYq/uXzdcmNVGJ6wTMvPyd/ptPfNZF0Jt5DmrIzMvdqDADc1tU27/Igje/1WH+bmFOuefKmPk2+HEFbVzM+cw/4by04E1nDGJ2B3gGtLfKmbTCPGJaNip/xE+n1KTrzKWnrAAAAABJRU5ErkJggg==",sO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAAAAXNSR0IArs4c6QAABcJJREFUaAXNmltoHFUYx93dXMSVFrIx3iLNbRNKfamtUsFq+2AUL2ltWlu0aiu+6LNYEAQfqrZSEOtdvGBUqihqkFYKrULpQ8GElpSSNtlk0zWmqTUxhWTJPf6+dWeZOXNmZ2Z3Y/bAZOb7n+/yn2/OnPOd2QSu8dHq6uqipaWlWxYWFpoxu5mjIhAI3Mh5nGNEDvrOcbRPTEz8MjQ0lARblBbw4rWxsfEZCL6I7u1e9A0dbqBtdnb2lf7+/oSBFeqclTiEHyLQAUivzCcgN/BJMpncMzg4OJqPH7OtI/GmpqaXCLgP0o46Zkdu1/iKzc/Pb4zFYoNuul76taQg/T7Gz3tx4FPnEvobL9B82tnUbcQZHq+R5JdtmiaA7HVxtAeDwYtzc3N/0LUsFApVg63Gdgvy9SZ1yyU6l8n82nwzbyEO6R0EPmSJZBU+I+iB3t7ebitslXhiOyH4Kr7qrT0ZqZOkr81IOVxkiDc0NKwigx0Eu1b1A4luMtvS19cXU/uyydzAHvr3Oeh8DvlnHfpc4aChwaN+14H0Saa0u/2SFr8Q289N7zBiKOfdPOG7FMyzmCJOZjZhsUG1IugpprFm5uGrap9Xuaen51uGVyu+5jU2b2swT1BItCorK7/mdIvZgkBXpqen1yUSCVkV82qjo6PdkUgkxBO9z+wIuRr85MjISNyMe7kO1tTU3ITiGlUZ4nsHBgbGVDxXeXx8fD+2ugVInrbvFiwrK5Ppy9IgPcbMcdAC5ilI3YJf29Ag64/m4jqI4QOqIdhhFSuEzFj/WeOnpr6+vkGDZ4WCZOE2VQPsqIoVQmbROY3vv1VfzGhRFXOTJeNSlloaWEHqCYvTtIDvHhXnZlaomJss06FlNkkbSG29WG1AdczCV61ibrIQ/0dVIgPLVKxQMr7DGl9TGiwrJGN8WKNxqwYrCMRQsWXXgUPWeJJxKTUtDed3WIACCawZUgfZ1gywP/2GEOK2So8M5DS3ugUvLy+XvaqtUVacsoEugBD/UdUh4yuZW3WZUVV9ySRkl8agM5ctXZAi6DjObC9oSUnJ65ogOUNUgneSkMdUB9xMTmuGZFxa238ny99mavStFiQ/4SOdOTfzng53w1LEqQLf4M4nVWVWtC8YMr4+Sag+RCbb30BwtabvIDX7kAZ3hVLE4/H4ZRy/o9G+DvLHybwuqEbdDkH6Y3xvV3tI1Bi7qr0q7lVO1eOiHA6HO/hKJWMwYjYmaJiV7cmKioph6uoz5r5s11I4VVVVHcL+cZ0e+NNUoL/r+rxgmT2nKNfW1q6gzJWpSWp0WyNLfYBvTk5OfscGw/ZCi0E0Gr0XUrs5domsa/g5xqRwv67PK2YhLkbpTfNvBL4hmxOCn6D/IocUZMvRl88Tazi7rrroyfv0Fsc0+icY579y7avZiIu1PGamw2Nc+q7aXKLL1Ger/7mRh3kCR1xsLd2pl9OCIMiOfmpqah2XnWpfHvJzZPZBSLapPsj6YTbsLSqeTdYSFwP2m8MEko82O0XkyKlB9Es+b0Tx9WnagW3aTePtzECbvQbRDhWdMU63k5lW+uQLrq40zZhBVmafozMzMx8w1cp7kGm8vK3MUt9nAOVCPmUw2/ygwDbRM3GzJS/wBub3KrAIgeTjfpLjCoQvUTCddqs9SMJT6NuGjBGD+X0b2zzHmxO9nIgbAfI5k/knIP8Vh40DCZjD91Ze2J+cYmQWICeFxcJZzM6yqCXw36KSR5Z3bxsfi7r4WHRex2HJiAsZWYk9kL8A+XMq+SUl7pF8K5k/r5JfcuIeyMs7YCNfFMTN5Bnfm0Q2t/Q7IOT7yXyX9BUNcSGTHvNSYj8isrmlyW82yDuunGaj//OaxedD4r2gi5kmL79yFFfGDbIMhw5mG13me9FZT3+yqIaKQVzODBsLeRalOFvMeygA/5L+oiVukOfXkquQXkUZsJ66J6f9qfhaksY/PyxXA/8LlLBDAO1jtCgAAAAASUVORK5CYII=",aO="E77TDAP2ZW",lO="8761a5cbc3b094847852417488c43f3b",uO=hT(aO,lO),cO=uO.initIndex("asu-mecha");function $m(t){var e=t.navbar,n=t.theme;const[r,i]=M.useState([]),[o,s]=M.useState("");return M.useEffect(()=>{cO.search(o).then(({hits:a})=>{i(a)})},[o]),S.jsxs("div",{className:"searchbar "+e,children:[S.jsx("input",{type:"search",value:o,onChange:a=>s(a.target.value),placeholder:"Search"}),o.length>0&&S.jsx("ul",{children:r.map(a=>S.jsx("li",{className:"search-result",dangerouslySetInnerHTML:{__html:a._highlightResult.Title.value}},a.objectID))}),S.jsx("img",{src:n=="light"?oO:sO,alt:"search"})]})}const dl=({theme:t,setTheme:e})=>{const[n,r]=M.useState(!1),i=()=>{window.scrollY>=250?r(!0):r(!1)};return window.addEventListener("scroll",i),S.jsxs("div",{className:"nav-container",children:[S.jsx(dO,{theme:t,setTheme:e,navbar:n}),S.jsx(fO,{theme:t,setTheme:e,navbar:n})]})},hO=({theme:t,setTheme:e})=>{const n=()=>{e(t==="light"?"dark":"light")},r=()=>{const i=document.querySelector(".sidebar");i.style.display="none"};return S.jsxs("ul",{className:"sidebar",children:[S.jsxs("div",{className:"toolbar",children:[S.jsx("li",{className:"sidebar-item",onClick:()=>r(),children:S.jsx("a",{children:S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"26",viewBox:"0 -960 960 960",width:"26",fill:t=="light"?"black":"white",children:S.jsx("path",{d:"m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"})})})}),S.jsx("img",{onClick:()=>n(),src:t=="light"?wT:ET,alt:"toggle",className:"toggle"})]}),S.jsx("li",{className:"sidebar-item",children:S.jsx("a",{href:"/#",children:"Home"})}),S.jsx("li",{className:"sidebar-item",children:S.jsx("a",{href:"/#/courses",children:"Courses"})}),S.jsx("li",{className:"sidebar-item",children:S.jsx("a",{href:"/#/feedback",children:"Feedback"})}),S.jsx("li",{className:"sidebar-item",children:S.jsx("a",{children:"Login"})}),S.jsx("li",{className:"sidebar-item",children:S.jsx("a",{href:"/#/upload",children:"Upload"})})]})},dO=({theme:t,setTheme:e,navbar:n})=>{const r=()=>{e(t==="light"?"dark":"light")};return S.jsxs("div",{children:[S.jsxs("nav",{className:"navbar desktop "+n,children:[S.jsx("li",{className:"logo",onClick:()=>window.location.href="/",children:S.jsx("h1",{children:"ASU MECHA"})}),S.jsx($m,{navbar:n,theme:t}),S.jsxs("ul",{children:[S.jsx("li",{children:S.jsx("a",{href:"/#",children:"Home"})}),S.jsx("li",{children:S.jsx("a",{href:"/#/courses",children:"Courses"})}),S.jsx("li",{children:S.jsx("a",{href:"/#/feedback",children:"Feedback"})}),S.jsx("li",{children:S.jsx("a",{href:"/#/upload",children:"Upload"})})]}),S.jsx("img",{onClick:()=>r(),src:t=="light"?wT:ET,alt:"toggle",className:"toggle"})]}),S.jsx("div",{className:"spacer"})]})},fO=({theme:t,setTheme:e,navbar:n})=>{const r=()=>{const i=document.querySelector(".sidebar");i.style.display="flex"};return S.jsxs(S.Fragment,{children:[S.jsx(hO,{theme:t,setTheme:e}),S.jsx("div",{children:S.jsxs("nav",{className:"navbar mobile "+n,children:[S.jsx("li",{className:"logo",onClick:()=>window.location.href="/",children:S.jsx("h1",{children:"ASU MECHA"})}),S.jsx($m,{navbar:n,theme:t}),S.jsx("li",{onClick:()=>r(),className:"menu-button",children:S.jsx("a",{children:S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"26",viewBox:"0 -960 960 960",width:"26",fill:t=="light"?"black":"white",children:S.jsx("path",{d:"M120-240v-80h720v80H120Zm0-200v-80h720v80H120Zm0-200v-80h720v80H120Z"})})})}),S.jsx("div",{className:"spacer"})]})})]})},pO=t=>{let e=t.currentTheme;return S.jsxs("div",{className:"hero",children:[S.jsx("h1",{children:"ASU MECHA"}),S.jsx($m,{navbar:!0,theme:e})]})};function mO(){function t(){let i=0;const o=li(ui,"documents"),s=_i(o,t2("CreatedAt","desc")),[a]=pT(s);return S.jsx("div",{children:a&&a.map(l=>S.jsx(_T,{doc:l,theme:n},i++))})}const e=localStorage.getItem("currentTheme"),[n,r]=M.useState(e||"dark");return M.useEffect(()=>{localStorage.setItem("currentTheme",n)},[n]),S.jsx(S.Fragment,{children:S.jsxs("div",{className:"container "+n+" home",children:[S.jsx(dl,{theme:n,setTheme:r}),S.jsx(pO,{currentTheme:n}),S.jsx("h1",{className:"title",children:"Recently Uploaded"}),S.jsx(t,{})]})})}const gO="Spring",yO="Junior",vO="2024",_O=[{grade:"Junior",Semesters:[{semester:"Spring",Courses:[{courseCode:"MDP251",courseName:"Casting and Welding"},{courseCode:"MDP231",courseName:"Engineering Economy"},{courseCode:"MDP232",courseName:"Industrial Project Management"},{courseCode:"MDP212",courseName:"Mechanics of Machines"},{courseCode:"MCT232",courseName:"Electronics for Instrumentation"},{courseCode:"MEP221",courseName:"Fluid Mechanics and Turbo-machinery"}]}]}],wO=["Lecture Recording","Lecture Slides","Lecture Notes","Tutorial Recording","Tutorial Slides","Tutorial Notes","Labs","Quizzes","Midterm Exams","Final Exams","Solutions","Sheets","Other Materials"],et={currentSemester:gO,currentGrade:yO,currentYear:vO,Grades:_O,Category:wO};async function EO(t,e){e("Uploading link..."),t.preventDefault();const n=t.target?.[1]?.value,r=t.target?.[2]?.value,i=t.target?.[6]?.value,o=i.split("-")[0],s=i.split("-")[1],a=t.target?.[3]?.value,l=t.target?.[5]?.value,u=t.target?.[4]?.value,c=et.currentYear,h=n&&(n.includes("youtube.com")||n.includes("youtu.be"))?`https://i.ytimg.com/vi/${n.split("v=")[1]}/hqdefault.jpg`:"",d={Title:r,Name:r,CourseName:s,CourseCode:o,Category:a,Semester:l,Grade:u,Year:c,CreatedAt:Je.now(),Type:"Link",URL:n,Keywords:[...r.split(" "),...s.split(" ")],Thumbnail:h};Yr(ec,d);const v=ec.id;dT.saveObject({...d,objectID:v});const A=hl(li(ui,"Courses"),o);console.log(o),console.log(A);const I=(await Um(A)).data();var E=[];try{E=I.Types,E.find(g=>g===a)||(E.push(a),Yr(A,I))}catch{E.push(a),Yr(A,{Types:E})}e("Link uploaded successfully")}function TO(){const[t,e]=M.useState(""),[n,r]=M.useState(0),[i,o]=M.useState(!0),[s,a]=M.useState(0),l=h=>{const d=et.Grades.findIndex(v=>v.grade===h.target.value);a(d),console.log(d)},u=h=>{const d=et.Grades[s].Semesters.findIndex(v=>v.semester===h.target.value);r(d),console.log(d)},c=h=>{e("Uploading document..."),console.log(h.target),h.preventDefault();const d=h.target?.[1].files[0],v=h.target?.[2]?.value,A=h.target?.[6]?.value,I=A.split("-")[0],E=A.split("-")[1],g=h.target?.[3]?.value,m=h.target?.[5]?.value,w=h.target?.[4]?.value,x=h.target?.[7]?.checked,L=et.currentYear,T=new FileReader;d&&(T.readAsDataURL(d),T.onload=function(){var D=T.result.split(",")[1],j={dataReq:{data:D,name:d.name,type:d.type,course:A,category:g,semester:m,grade:w,old:x,year:L},fname:"uploadFilesToGoogleDrive"};console.log(j),fetch("https://script.google.com/macros/s/AKfycbzXkzwvCK-6KvM2eK7jtoDiEDIYdXzvTVQzOzU3MajW-5ihGUo17JkIXI65laf1Law/exec",{method:"POST",body:JSON.stringify(j)}).then(q=>q.json()).then(q=>{const z=["and","for","but","etc."],Y={Title:v,Name:d.name,CourseName:E,CourseCode:I,Category:g,Semester:m,Grade:w,Year:L,CreatedAt:Je.now(),Type:"Document",URL:q.url,fileID:q.id,Keywords:[...v.split(" "),...E.split(" ")].filter(ct=>!z.includes(ct.toLowerCase())),Thumbnail:"https://drive.google.com/thumbnail?sz=w130&id="+q.id};console.log(q.path),Yr(ec,Y);const Le=ec.id;dT.saveObject({...Y,objectID:Le});const De=hl(li(ui,"Courses"),I);console.log(I),console.log(De),Um(De).then(ct=>{const Kt=ct.data();var Bt=[];try{Bt=Kt.Types,Bt.find(Ae=>Ae===g)||(Kt.Types.push(g),Yr(De,Kt))}catch{Bt.push(g),Yr(De,{Types:Bt})}}),e("Document uploaded successfully")}).catch(q=>{console.log(q),e("Error uploading document")})})};return S.jsx("div",{children:S.jsxs("form",{onSubmit:h=>i?c(h):EO(h,e),className:"uploadForm",children:[S.jsx("label",{htmlFor:"Type",children:"Choose a Type:"}),S.jsxs("select",{name:"Type",onChange:h=>o(h.target.value==="File"),children:[S.jsx("option",{value:"File",children:"File"}),S.jsx("option",{value:"Link",children:"Link"})]}),i&&S.jsxs(S.Fragment,{children:[S.jsx("label",{htmlFor:"file",children:"Choose a File:"}),S.jsx("input",{type:"file",name:"file"})]}),!i&&S.jsxs(S.Fragment,{children:[S.jsx("label",{htmlFor:"link",children:"Enter a Link:"}),S.jsx("input",{type:"text",name:"link"})]}),S.jsx("label",{htmlFor:"title",children:"Enter a Title:"}),S.jsx("input",{type:"text",name:"title"}),S.jsx("label",{htmlFor:"category",children:"Choose a Category:"}),S.jsx("select",{name:"category",children:et.Category.map(h=>S.jsx("option",{value:h,children:h}))}),S.jsx("label",{htmlFor:"grade",children:"Choose a Grade:"}),S.jsx("select",{name:"grade",onChange:h=>l(h),children:et.Grades.map(h=>S.jsx("option",{value:h.grade,children:h.grade}))}),S.jsx("label",{htmlFor:"semester",children:"Choose a Semester:"}),S.jsx("select",{name:"semester",onChange:h=>u(h),children:et.Grades[s].Semesters.map(h=>S.jsx("option",{value:h.semester,children:h.semester}))}),S.jsx("label",{htmlFor:"course",children:"Choose a Course:"}),S.jsx("select",{name:"course",children:et.Grades[s].Semesters[n].Courses.map(h=>S.jsx("option",{value:h.courseCode+"-"+h.courseName,children:h.courseCode+" - "+h.courseName}))}),S.jsx("label",{htmlFor:"oldMaterial",children:"Old Material?"}),S.jsx("input",{type:"checkbox",name:"oldMaterial"}),S.jsx("br",{}),S.jsx("button",{type:"submit",children:"Upload"}),S.jsx("p",{children:t})]})})}function SO(){const t=localStorage.getItem("currentTheme"),[e,n]=M.useState(t||"dark");return M.useEffect(()=>{localStorage.setItem("currentTheme",e)},[e]),S.jsxs("div",{className:"container upload "+e,children:[S.jsx(dl,{theme:e,setTheme:n}),S.jsx("h1",{children:"Upload Files"}),S.jsx(TO,{})]})}async function IO(t,e,n){console.log(e);const r=hl(li(ui,"Courses"),t);var i=null;try{i=await s2(r)}catch{i=await Um(r)}const o=i.data();var s=[];try{s=o.Types}catch{Yr(r,{Types:[]})}for(var a=[],l=0;l<et.Category.length;l++)s.find(u=>u===et.Category[l])&&a.push(et.Category[l]);return n(a),a}function AO(){for(var t=[],e=[],n=[],r=0;r<et.Grades.length;r++){const l=et?.Grades[r]?.grade;n=[];for(var i=0;i<et.Grades[r].Semesters.length;i++){t=[];const u=et?.Grades[r]?.Semesters[i]?.semester;for(var o=0;o<et.Grades[r].Semesters[i].Courses.length;o++){const c=et?.Grades[r]?.Semesters[i]?.Courses[o].courseCode;var s=[];const[h,d]=M.useState([]);M.useEffect(()=>{IO(c,h,d)},[]);for(var a=0;a<h.length;a++)h[a]&&s.push(S.jsxs("li",{className:"TypeButton",children:[S.jsx("a",{href:"#/search?grade="+l+"&semester="+u+"&CourseCode="+c+"&Category="+h[a],children:h[a]})," "]},a));s.length===0&&(s=[S.jsx("div",{className:"EmptyCourse",children:S.jsxs("p",{children:["We don't have any content for this course",S.jsx("br",{}),"New content will be added soon."]})},a)]),t.push(S.jsxs("div",{className:"card course",children:[S.jsx("input",{type:"radio",name:"Courses",id:"c"+r+i+o+a,className:"CoursesRadio"}),S.jsxs("label",{htmlFor:"c"+r+i+o+a,children:[S.jsx("div",{className:"row",children:S.jsx("div",{className:"description",children:S.jsx("h4",{children:et.Grades[r].Semesters[i].Courses[o].courseCode+" - "+et.Grades[r].Semesters[i].Courses[o].courseName})})}),S.jsx("div",{className:"content",children:S.jsx("ul",{children:s})})]},"c"+r+i+o+a)]}))}n.push(S.jsxs("div",{className:"card semester",children:[S.jsx("input",{type:"radio",name:"Semesters",id:"s"+r+i,className:"SemesterRadio"}),S.jsxs("label",{htmlFor:"s"+r+i,children:[S.jsx("div",{className:"row",children:S.jsx("div",{className:"description",children:S.jsx("h3",{children:et.Grades[r].Semesters[i].semester})})}),S.jsx("div",{className:"content",children:S.jsx("div",{className:"description",children:S.jsx("ul",{children:t})})})]},"s"+r+i)]}))}e.push(S.jsxs("div",{className:"card grade",children:[S.jsx("input",{type:"radio",name:"Grades",id:"y"+r}),S.jsxs("label",{htmlFor:"y"+r,children:[S.jsx("div",{className:"row",children:S.jsx("div",{className:"description",children:S.jsx("h2",{children:et.Grades[r].grade})})}),S.jsx("div",{className:"content",children:S.jsx("div",{className:"description",children:S.jsx("ul",{children:n})})})]},"y"+r)]}))}return S.jsx("div",{className:"wrapper",children:S.jsx("div",{className:"card-container",children:e})})}function RO(){const t=localStorage.getItem("currentTheme"),[e,n]=M.useState(t||"dark");return M.useEffect(()=>{localStorage.setItem("currentTheme",e)},[e]),S.jsxs("div",{className:"container courses "+e,children:[S.jsx(dl,{theme:e,setTheme:n}),S.jsx("h1",{className:"Title",children:"Courses"}),S.jsx(AO,{})]})}const TT="%[a-f0-9]{2}",zv=new RegExp("("+TT+")|([^%]+?)","gi"),qv=new RegExp("("+TT+")+","gi");function Uf(t,e){try{return[decodeURIComponent(t.join(""))]}catch{}if(t.length===1)return t;e=e||1;const n=t.slice(0,e),r=t.slice(e);return Array.prototype.concat.call([],Uf(n),Uf(r))}function PO(t){try{return decodeURIComponent(t)}catch{let e=t.match(zv)||[];for(let n=1;n<e.length;n++)t=Uf(e,n).join(""),e=t.match(zv)||[];return t}}function CO(t){const e={"%FE%FF":"","%FF%FE":""};let n=qv.exec(t);for(;n;){try{e[n[0]]=decodeURIComponent(n[0])}catch{const i=PO(n[0]);i!==n[0]&&(e[n[0]]=i)}n=qv.exec(t)}e["%C2"]="";const r=Object.keys(e);for(const i of r)t=t.replace(new RegExp(i,"g"),e[i]);return t}function xO(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return decodeURIComponent(t)}catch{return CO(t)}}function ST(t,e){if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t===""||e==="")return[];const n=t.indexOf(e);return n===-1?[]:[t.slice(0,n),t.slice(n+e.length)]}function kO(t,e){const n={};if(Array.isArray(e))for(const r of e){const i=Object.getOwnPropertyDescriptor(t,r);i?.enumerable&&Object.defineProperty(n,r,i)}else for(const r of Reflect.ownKeys(t)){const i=Object.getOwnPropertyDescriptor(t,r);if(i.enumerable){const o=t[r];e(r,o,t)&&Object.defineProperty(n,r,i)}}return n}const DO=t=>t==null,NO=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),Bf=Symbol("encodeFragmentIdentifier");function OO(t){switch(t.arrayFormat){case"index":return e=>(n,r)=>{const i=n.length;return r===void 0||t.skipNull&&r===null||t.skipEmptyString&&r===""?n:r===null?[...n,[st(e,t),"[",i,"]"].join("")]:[...n,[st(e,t),"[",st(i,t),"]=",st(r,t)].join("")]};case"bracket":return e=>(n,r)=>r===void 0||t.skipNull&&r===null||t.skipEmptyString&&r===""?n:r===null?[...n,[st(e,t),"[]"].join("")]:[...n,[st(e,t),"[]=",st(r,t)].join("")];case"colon-list-separator":return e=>(n,r)=>r===void 0||t.skipNull&&r===null||t.skipEmptyString&&r===""?n:r===null?[...n,[st(e,t),":list="].join("")]:[...n,[st(e,t),":list=",st(r,t)].join("")];case"comma":case"separator":case"bracket-separator":{const e=t.arrayFormat==="bracket-separator"?"[]=":"=";return n=>(r,i)=>i===void 0||t.skipNull&&i===null||t.skipEmptyString&&i===""?r:(i=i===null?"":i,r.length===0?[[st(n,t),e,st(i,t)].join("")]:[[r,st(i,t)].join(t.arrayFormatSeparator)])}default:return e=>(n,r)=>r===void 0||t.skipNull&&r===null||t.skipEmptyString&&r===""?n:r===null?[...n,st(e,t)]:[...n,[st(e,t),"=",st(r,t)].join("")]}}function VO(t){let e;switch(t.arrayFormat){case"index":return(n,r,i)=>{if(e=/\[(\d*)]$/.exec(n),n=n.replace(/\[\d*]$/,""),!e){i[n]=r;return}i[n]===void 0&&(i[n]={}),i[n][e[1]]=r};case"bracket":return(n,r,i)=>{if(e=/(\[])$/.exec(n),n=n.replace(/\[]$/,""),!e){i[n]=r;return}if(i[n]===void 0){i[n]=[r];return}i[n]=[...i[n],r]};case"colon-list-separator":return(n,r,i)=>{if(e=/(:list)$/.exec(n),n=n.replace(/:list$/,""),!e){i[n]=r;return}if(i[n]===void 0){i[n]=[r];return}i[n]=[...i[n],r]};case"comma":case"separator":return(n,r,i)=>{const o=typeof r=="string"&&r.includes(t.arrayFormatSeparator),s=typeof r=="string"&&!o&&cr(r,t).includes(t.arrayFormatSeparator);r=s?cr(r,t):r;const a=o||s?r.split(t.arrayFormatSeparator).map(l=>cr(l,t)):r===null?r:cr(r,t);i[n]=a};case"bracket-separator":return(n,r,i)=>{const o=/(\[])$/.test(n);if(n=n.replace(/\[]$/,""),!o){i[n]=r&&cr(r,t);return}const s=r===null?[]:r.split(t.arrayFormatSeparator).map(a=>cr(a,t));if(i[n]===void 0){i[n]=s;return}i[n]=[...i[n],...s]};default:return(n,r,i)=>{if(i[n]===void 0){i[n]=r;return}i[n]=[...[i[n]].flat(),r]}}}function IT(t){if(typeof t!="string"||t.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function st(t,e){return e.encode?e.strict?NO(t):encodeURIComponent(t):t}function cr(t,e){return e.decode?xO(t):t}function AT(t){return Array.isArray(t)?t.sort():typeof t=="object"?AT(Object.keys(t)).sort((e,n)=>Number(e)-Number(n)).map(e=>t[e]):t}function RT(t){const e=t.indexOf("#");return e!==-1&&(t=t.slice(0,e)),t}function MO(t){let e="";const n=t.indexOf("#");return n!==-1&&(e=t.slice(n)),e}function Wv(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&typeof t=="string"&&t.trim()!==""?t=Number(t):e.parseBooleans&&t!==null&&(t.toLowerCase()==="true"||t.toLowerCase()==="false")&&(t=t.toLowerCase()==="true"),t}function zm(t){t=RT(t);const e=t.indexOf("?");return e===-1?"":t.slice(e+1)}function qm(t,e){e={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,...e},IT(e.arrayFormatSeparator);const n=VO(e),r=Object.create(null);if(typeof t!="string"||(t=t.trim().replace(/^[?#&]/,""),!t))return r;for(const i of t.split("&")){if(i==="")continue;const o=e.decode?i.replace(/\+/g," "):i;let[s,a]=ST(o,"=");s===void 0&&(s=o),a=a===void 0?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?a:cr(a,e),n(cr(s,e),a,r)}for(const[i,o]of Object.entries(r))if(typeof o=="object"&&o!==null)for(const[s,a]of Object.entries(o))o[s]=Wv(a,e);else r[i]=Wv(o,e);return e.sort===!1?r:(e.sort===!0?Object.keys(r).sort():Object.keys(r).sort(e.sort)).reduce((i,o)=>{const s=r[o];return i[o]=s&&typeof s=="object"&&!Array.isArray(s)?AT(s):s,i},Object.create(null))}function PT(t,e){if(!t)return"";e={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...e},IT(e.arrayFormatSeparator);const n=s=>e.skipNull&&DO(t[s])||e.skipEmptyString&&t[s]==="",r=OO(e),i={};for(const[s,a]of Object.entries(t))n(s)||(i[s]=a);const o=Object.keys(i);return e.sort!==!1&&o.sort(e.sort),o.map(s=>{const a=t[s];return a===void 0?"":a===null?st(s,e):Array.isArray(a)?a.length===0&&e.arrayFormat==="bracket-separator"?st(s,e)+"[]":a.reduce(r(s),[]).join("&"):st(s,e)+"="+st(a,e)}).filter(s=>s.length>0).join("&")}function CT(t,e){e={decode:!0,...e};let[n,r]=ST(t,"#");return n===void 0&&(n=t),{url:n?.split("?")?.[0]??"",query:qm(zm(t),e),...e&&e.parseFragmentIdentifier&&r?{fragmentIdentifier:cr(r,e)}:{}}}function xT(t,e){e={encode:!0,strict:!0,[Bf]:!0,...e};const n=RT(t.url).split("?")[0]||"",r=zm(t.url),i={...qm(r,{sort:!1}),...t.query};let o=PT(i,e);o&&(o=`?${o}`);let s=MO(t.url);if(t.fragmentIdentifier){const a=new URL(n);a.hash=t.fragmentIdentifier,s=e[Bf]?a.hash:`#${t.fragmentIdentifier}`}return`${n}${o}${s}`}function kT(t,e,n){n={parseFragmentIdentifier:!0,[Bf]:!1,...n};const{url:r,query:i,fragmentIdentifier:o}=CT(t,n);return xT({url:r,query:kO(i,e),fragmentIdentifier:o},n)}function bO(t,e,n){const r=Array.isArray(e)?i=>!e.includes(i):(i,o)=>!e(i,o);return kT(t,r,n)}const LO=Object.freeze(Object.defineProperty({__proto__:null,exclude:bO,extract:zm,parse:qm,parseUrl:CT,pick:kT,stringify:PT,stringifyUrl:xT},Symbol.toStringTag,{value:"Module"}));function FO(){const t=localStorage.getItem("currentTheme"),[e,n]=M.useState(t||"dark");M.useEffect(()=>{localStorage.setItem("currentTheme",e)},[e]);const r=Ew().search,i=LO.parse(r);var o=[],s=[],a=[],l=[],u=[];i.year&&o.push(i.year.split(",")),i.semester&&s.push(i.semester.split(",")),i.course&&a.push(i.course.split(",")),i.date&&l.push(i.date.split(",")),i.Category&&u.push(i.Category.split(",")),i.CourseCode&&a.push(i.CourseCode.split(",")),console.log(a[0]),console.log(u[0]),console.log(s[0]);const h=li(ui,"documents");var d=_i(h);o[0]&&(d=_i(d,Vs("Year","in",o[0]))),s[0]&&(d=_i(d,Vs("Semester","in",s[0]))),a[0]&&(d=_i(d,Vs("CourseCode","in",a[0]))),l[0]&&(d=_i(d,Vs("date","in",l[0]))),u[0]&&(d=_i(d,Vs("Category","in",u[0])));const[v]=pT(d);return console.log(v),S.jsxs("div",{className:"container feedback "+e,children:[S.jsx(dl,{theme:e,setTheme:n}),S.jsx("h1",{children:a+"/"+u}),S.jsxs("p",{children:["Results(",v?.length,")"]}),S.jsx("div",{children:v&&v.map(A=>S.jsx(_T,{doc:A,theme:e}))})]})}async function jO(t,e){e("Submitting feedback..."),t.preventDefault();const n=t.target?.[0]?.value,r=t.target?.[1]?.value,i={Type:n,Feedback:r,CreatedAt:Je.now()};Yr($2,i),e("Thank you for your feedback!")}function UO(){const[t,e]=M.useState("");return S.jsx("div",{children:S.jsxs("form",{onSubmit:n=>jO(n,e),className:"uploadForm",children:[S.jsxs("select",{name:"feedbackType",id:"feedbackType",required:!0,children:[S.jsx("option",{value:"General Feedback",children:"General Feedback"}),S.jsx("option",{value:"Upload Request",children:"Upload Request"}),S.jsx("option",{value:"Bug Report",children:"Bug Report"}),S.jsx("option",{value:"Feature Request",children:"Feature Request"})]}),S.jsx("input",{className:"feedbackInput",type:"text",id:"feedback",name:"feedback",placeholder:"Please enter your feedback here",required:!0}),S.jsx("br",{}),S.jsx("button",{type:"submit",children:"Submit"}),S.jsx("p",{children:t})]})})}function BO(){const t=localStorage.getItem("currentTheme"),[e,n]=M.useState(t||"dark");return M.useEffect(()=>{localStorage.setItem("currentTheme",e)},[e]),S.jsxs("div",{className:"container upload "+e,children:[S.jsx(dl,{theme:e,setTheme:n}),S.jsx("h1",{children:"Upload Files"}),S.jsx(UO,{})]})}function $O(){return S.jsxs(vR,{children:[S.jsx(io,{path:"/",element:S.jsx(mO,{})}),S.jsx(io,{path:"/upload",element:S.jsx(SO,{})}),S.jsx(io,{path:"/courses",element:S.jsx(RO,{})}),S.jsx(io,{path:"/search",element:S.jsx(FO,{})}),S.jsx(io,{path:"/feedback",element:S.jsx(BO,{})})]})}const zO=ER([{path:"/*",element:S.jsx($O,{})}]);ud.createRoot(document.getElementById("root")).render(S.jsx(n_.StrictMode,{children:S.jsx(kR,{router:zO})}));
