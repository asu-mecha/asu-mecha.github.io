function VT(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var TC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ta(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $T={exports:{}},qf={},UT={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lc=Symbol.for("react.element"),PC=Symbol.for("react.portal"),RC=Symbol.for("react.fragment"),IC=Symbol.for("react.strict_mode"),bC=Symbol.for("react.profiler"),AC=Symbol.for("react.provider"),OC=Symbol.for("react.context"),CC=Symbol.for("react.forward_ref"),xC=Symbol.for("react.suspense"),kC=Symbol.for("react.memo"),NC=Symbol.for("react.lazy"),u0=Symbol.iterator;function DC(t){return t===null||typeof t!="object"?null:(t=u0&&t[u0]||t["@@iterator"],typeof t=="function"?t:null)}var BT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},HT=Object.assign,WT={};function Pa(t,e,n){this.props=t,this.context=e,this.refs=WT,this.updater=n||BT}Pa.prototype.isReactComponent={};Pa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Pa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function zT(){}zT.prototype=Pa.prototype;function ky(t,e,n){this.props=t,this.context=e,this.refs=WT,this.updater=n||BT}var Ny=ky.prototype=new zT;Ny.constructor=ky;HT(Ny,Pa.prototype);Ny.isPureReactComponent=!0;var l0=Array.isArray,qT=Object.prototype.hasOwnProperty,Dy={current:null},QT={key:!0,ref:!0,__self:!0,__source:!0};function KT(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)qT.call(e,r)&&!QT.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:lc,type:t,key:s,ref:o,props:i,_owner:Dy.current}}function jC(t,e){return{$$typeof:lc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function jy(t){return typeof t=="object"&&t!==null&&t.$$typeof===lc}function FC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var c0=/\/+/g;function gp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?FC(""+t.key):e.toString(36)}function Rh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case lc:case PC:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+gp(o,0):r,l0(i)?(n="",t!=null&&(n=t.replace(c0,"$&/")+"/"),Rh(i,e,n,"",function(l){return l})):i!=null&&(jy(i)&&(i=jC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(c0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",l0(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+gp(s,a);o+=Rh(s,e,n,u,i)}else if(u=DC(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+gp(s,a++),o+=Rh(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function qc(t,e,n){if(t==null)return t;var r=[],i=0;return Rh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function LC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var mn={current:null},Ih={transition:null},MC={ReactCurrentDispatcher:mn,ReactCurrentBatchConfig:Ih,ReactCurrentOwner:Dy};be.Children={map:qc,forEach:function(t,e,n){qc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return qc(t,function(){e++}),e},toArray:function(t){return qc(t,function(e){return e})||[]},only:function(t){if(!jy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};be.Component=Pa;be.Fragment=RC;be.Profiler=bC;be.PureComponent=ky;be.StrictMode=IC;be.Suspense=xC;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MC;be.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=HT({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Dy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)qT.call(e,u)&&!QT.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:lc,type:t.type,key:i,ref:s,props:r,_owner:o}};be.createContext=function(t){return t={$$typeof:OC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:AC,_context:t},t.Consumer=t};be.createElement=KT;be.createFactory=function(t){var e=KT.bind(null,t);return e.type=t,e};be.createRef=function(){return{current:null}};be.forwardRef=function(t){return{$$typeof:CC,render:t}};be.isValidElement=jy;be.lazy=function(t){return{$$typeof:NC,_payload:{_status:-1,_result:t},_init:LC}};be.memo=function(t,e){return{$$typeof:kC,type:t,compare:e===void 0?null:e}};be.startTransition=function(t){var e=Ih.transition;Ih.transition={};try{t()}finally{Ih.transition=e}};be.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};be.useCallback=function(t,e){return mn.current.useCallback(t,e)};be.useContext=function(t){return mn.current.useContext(t)};be.useDebugValue=function(){};be.useDeferredValue=function(t){return mn.current.useDeferredValue(t)};be.useEffect=function(t,e){return mn.current.useEffect(t,e)};be.useId=function(){return mn.current.useId()};be.useImperativeHandle=function(t,e,n){return mn.current.useImperativeHandle(t,e,n)};be.useInsertionEffect=function(t,e){return mn.current.useInsertionEffect(t,e)};be.useLayoutEffect=function(t,e){return mn.current.useLayoutEffect(t,e)};be.useMemo=function(t,e){return mn.current.useMemo(t,e)};be.useReducer=function(t,e,n){return mn.current.useReducer(t,e,n)};be.useRef=function(t){return mn.current.useRef(t)};be.useState=function(t){return mn.current.useState(t)};be.useSyncExternalStore=function(t,e,n){return mn.current.useSyncExternalStore(t,e,n)};be.useTransition=function(){return mn.current.useTransition()};be.version="18.2.0";UT.exports=be;var O=UT.exports;const ie=Ta(O),GT=VT({__proto__:null,default:ie},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VC=O,$C=Symbol.for("react.element"),UC=Symbol.for("react.fragment"),BC=Object.prototype.hasOwnProperty,HC=VC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,WC={key:!0,ref:!0,__self:!0,__source:!0};function YT(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)BC.call(e,r)&&!WC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:$C,type:t,key:s,ref:o,props:i,_owner:HC.current}}qf.Fragment=UC;qf.jsx=YT;qf.jsxs=YT;$T.exports=qf;var T=$T.exports,bm={},JT={exports:{}},Nn={},XT={exports:{}},ZT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,W){var K=D.length;D.push(W);e:for(;0<K;){var ae=K-1>>>1,Te=D[ae];if(0<i(Te,W))D[ae]=W,D[K]=Te,K=ae;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var W=D[0],K=D.pop();if(K!==W){D[0]=K;e:for(var ae=0,Te=D.length,Rt=Te>>>1;ae<Rt;){var Me=2*(ae+1)-1,tt=D[Me],Ve=Me+1,It=D[Ve];if(0>i(tt,K))Ve<Te&&0>i(It,tt)?(D[ae]=It,D[Ve]=K,ae=Ve):(D[ae]=tt,D[Me]=K,ae=Me);else if(Ve<Te&&0>i(It,K))D[ae]=It,D[Ve]=K,ae=Ve;else break e}}return W}function i(D,W){var K=D.sortIndex-W.sortIndex;return K!==0?K:D.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],l=[],c=1,h=null,f=3,d=!1,y=!1,g=!1,_=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var W=n(l);W!==null;){if(W.callback===null)r(l);else if(W.startTime<=D)r(l),W.sortIndex=W.expirationTime,e(u,W);else break;W=n(l)}}function I(D){if(g=!1,w(D),!y)if(n(u)!==null)y=!0,He(k);else{var W=n(l);W!==null&&ne(I,W.startTime-D)}}function k(D,W){y=!1,g&&(g=!1,m(N),N=-1),d=!0;var K=f;try{for(w(W),h=n(u);h!==null&&(!(h.expirationTime>W)||D&&!L());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,f=h.priorityLevel;var Te=ae(h.expirationTime<=W);W=t.unstable_now(),typeof Te=="function"?h.callback=Te:h===n(u)&&r(u),w(W)}else r(u);h=n(u)}if(h!==null)var Rt=!0;else{var Me=n(l);Me!==null&&ne(I,Me.startTime-W),Rt=!1}return Rt}finally{h=null,f=K,d=!1}}var P=!1,A=null,N=-1,V=5,M=-1;function L(){return!(t.unstable_now()-M<V)}function ye(){if(A!==null){var D=t.unstable_now();M=D;var W=!0;try{W=A(!0,D)}finally{W?Pe():(P=!1,A=null)}}else P=!1}var Pe;if(typeof p=="function")Pe=function(){p(ye)};else if(typeof MessageChannel<"u"){var Le=new MessageChannel,Be=Le.port2;Le.port1.onmessage=ye,Pe=function(){Be.postMessage(null)}}else Pe=function(){_(ye,0)};function He(D){A=D,P||(P=!0,Pe())}function ne(D,W){N=_(function(){D(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){y||d||(y=!0,He(k))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(D){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var K=f;f=W;try{return D()}finally{f=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,W){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var K=f;f=D;try{return W()}finally{f=K}},t.unstable_scheduleCallback=function(D,W,K){var ae=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ae+K:ae):K=ae,D){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=K+Te,D={id:c++,callback:W,priorityLevel:D,startTime:K,expirationTime:Te,sortIndex:-1},K>ae?(D.sortIndex=K,e(l,D),n(u)===null&&D===n(l)&&(g?(m(N),N=-1):g=!0,ne(I,K-ae))):(D.sortIndex=Te,e(u,D),y||d||(y=!0,He(k))),D},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(D){var W=f;return function(){var K=f;f=W;try{return D.apply(this,arguments)}finally{f=K}}}})(ZT);XT.exports=ZT;var zC=XT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eP=O,xn=zC;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tP=new Set,Ju={};function Xs(t,e){Xo(t,e),Xo(t+"Capture",e)}function Xo(t,e){for(Ju[t]=e,t=0;t<e.length;t++)tP.add(e[t])}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Am=Object.prototype.hasOwnProperty,qC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h0={},f0={};function QC(t){return Am.call(f0,t)?!0:Am.call(h0,t)?!1:qC.test(t)?f0[t]=!0:(h0[t]=!0,!1)}function KC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function GC(t,e,n,r){if(e===null||typeof e>"u"||KC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function gn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Qt[t]=new gn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Qt[e]=new gn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Qt[t]=new gn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Qt[t]=new gn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Qt[t]=new gn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Qt[t]=new gn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Qt[t]=new gn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Qt[t]=new gn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Qt[t]=new gn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Fy=/[\-:]([a-z])/g;function Ly(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Fy,Ly);Qt[e]=new gn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Fy,Ly);Qt[e]=new gn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Fy,Ly);Qt[e]=new gn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Qt[t]=new gn(t,1,!1,t.toLowerCase(),null,!1,!1)});Qt.xlinkHref=new gn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Qt[t]=new gn(t,1,!1,t.toLowerCase(),null,!0,!0)});function My(t,e,n,r){var i=Qt.hasOwnProperty(e)?Qt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(GC(e,n,i,r)&&(n=null),r||i===null?QC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var fi=eP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qc=Symbol.for("react.element"),wo=Symbol.for("react.portal"),Eo=Symbol.for("react.fragment"),Vy=Symbol.for("react.strict_mode"),Om=Symbol.for("react.profiler"),nP=Symbol.for("react.provider"),rP=Symbol.for("react.context"),$y=Symbol.for("react.forward_ref"),Cm=Symbol.for("react.suspense"),xm=Symbol.for("react.suspense_list"),Uy=Symbol.for("react.memo"),Ti=Symbol.for("react.lazy"),iP=Symbol.for("react.offscreen"),d0=Symbol.iterator;function Ka(t){return t===null||typeof t!="object"?null:(t=d0&&t[d0]||t["@@iterator"],typeof t=="function"?t:null)}var st=Object.assign,yp;function wu(t){if(yp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);yp=e&&e[1]||""}return`
`+yp+t}var vp=!1;function _p(t,e){if(!t||vp)return"";vp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{vp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?wu(t):""}function YC(t){switch(t.tag){case 5:return wu(t.type);case 16:return wu("Lazy");case 13:return wu("Suspense");case 19:return wu("SuspenseList");case 0:case 2:case 15:return t=_p(t.type,!1),t;case 11:return t=_p(t.type.render,!1),t;case 1:return t=_p(t.type,!0),t;default:return""}}function km(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Eo:return"Fragment";case wo:return"Portal";case Om:return"Profiler";case Vy:return"StrictMode";case Cm:return"Suspense";case xm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case rP:return(t.displayName||"Context")+".Consumer";case nP:return(t._context.displayName||"Context")+".Provider";case $y:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Uy:return e=t.displayName||null,e!==null?e:km(t.type)||"Memo";case Ti:e=t._payload,t=t._init;try{return km(t(e))}catch{}}return null}function JC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return km(e);case 8:return e===Vy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sP(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function XC(t){var e=sP(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Kc(t){t._valueTracker||(t._valueTracker=XC(t))}function oP(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=sP(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function qh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Nm(t,e){var n=e.checked;return st({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function p0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Qi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function aP(t,e){e=e.checked,e!=null&&My(t,"checked",e,!1)}function Dm(t,e){aP(t,e);var n=Qi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jm(t,e.type,n):e.hasOwnProperty("defaultValue")&&jm(t,e.type,Qi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function m0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function jm(t,e,n){(e!=="number"||qh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Eu=Array.isArray;function Uo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Qi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Fm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return st({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function g0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(Eu(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Qi(n)}}function uP(t,e){var n=Qi(e.value),r=Qi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function y0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function lP(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?lP(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Gc,cP=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Gc=Gc||document.createElement("div"),Gc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Gc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Xu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Nu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ZC=["Webkit","ms","Moz","O"];Object.keys(Nu).forEach(function(t){ZC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Nu[e]=Nu[t]})});function hP(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Nu.hasOwnProperty(t)&&Nu[t]?(""+e).trim():e+"px"}function fP(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=hP(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var ex=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mm(t,e){if(e){if(ex[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function Vm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $m=null;function By(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Um=null,Bo=null,Ho=null;function v0(t){if(t=fc(t)){if(typeof Um!="function")throw Error(H(280));var e=t.stateNode;e&&(e=Jf(e),Um(t.stateNode,t.type,e))}}function dP(t){Bo?Ho?Ho.push(t):Ho=[t]:Bo=t}function pP(){if(Bo){var t=Bo,e=Ho;if(Ho=Bo=null,v0(t),e)for(t=0;t<e.length;t++)v0(e[t])}}function mP(t,e){return t(e)}function gP(){}var wp=!1;function yP(t,e,n){if(wp)return t(e,n);wp=!0;try{return mP(t,e,n)}finally{wp=!1,(Bo!==null||Ho!==null)&&(gP(),pP())}}function Zu(t,e){var n=t.stateNode;if(n===null)return null;var r=Jf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var Bm=!1;if(ri)try{var Ga={};Object.defineProperty(Ga,"passive",{get:function(){Bm=!0}}),window.addEventListener("test",Ga,Ga),window.removeEventListener("test",Ga,Ga)}catch{Bm=!1}function tx(t,e,n,r,i,s,o,a,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(c){this.onError(c)}}var Du=!1,Qh=null,Kh=!1,Hm=null,nx={onError:function(t){Du=!0,Qh=t}};function rx(t,e,n,r,i,s,o,a,u){Du=!1,Qh=null,tx.apply(nx,arguments)}function ix(t,e,n,r,i,s,o,a,u){if(rx.apply(this,arguments),Du){if(Du){var l=Qh;Du=!1,Qh=null}else throw Error(H(198));Kh||(Kh=!0,Hm=l)}}function Zs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function vP(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _0(t){if(Zs(t)!==t)throw Error(H(188))}function sx(t){var e=t.alternate;if(!e){if(e=Zs(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return _0(i),t;if(s===r)return _0(i),e;s=s.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function _P(t){return t=sx(t),t!==null?wP(t):null}function wP(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=wP(t);if(e!==null)return e;t=t.sibling}return null}var EP=xn.unstable_scheduleCallback,w0=xn.unstable_cancelCallback,ox=xn.unstable_shouldYield,ax=xn.unstable_requestPaint,mt=xn.unstable_now,ux=xn.unstable_getCurrentPriorityLevel,Hy=xn.unstable_ImmediatePriority,SP=xn.unstable_UserBlockingPriority,Gh=xn.unstable_NormalPriority,lx=xn.unstable_LowPriority,TP=xn.unstable_IdlePriority,Qf=null,Tr=null;function cx(t){if(Tr&&typeof Tr.onCommitFiberRoot=="function")try{Tr.onCommitFiberRoot(Qf,t,void 0,(t.current.flags&128)===128)}catch{}}var tr=Math.clz32?Math.clz32:dx,hx=Math.log,fx=Math.LN2;function dx(t){return t>>>=0,t===0?32:31-(hx(t)/fx|0)|0}var Yc=64,Jc=4194304;function Su(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Yh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Su(a):(s&=o,s!==0&&(r=Su(s)))}else o=n&~i,o!==0?r=Su(o):s!==0&&(r=Su(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-tr(e),i=1<<n,r|=t[n],e&=~i;return r}function px(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mx(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-tr(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=px(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function Wm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function PP(){var t=Yc;return Yc<<=1,!(Yc&4194240)&&(Yc=64),t}function Ep(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function cc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-tr(e),t[e]=n}function gx(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-tr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Wy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-tr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var je=0;function RP(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var IP,zy,bP,AP,OP,zm=!1,Xc=[],Di=null,ji=null,Fi=null,el=new Map,tl=new Map,Ri=[],yx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function E0(t,e){switch(t){case"focusin":case"focusout":Di=null;break;case"dragenter":case"dragleave":ji=null;break;case"mouseover":case"mouseout":Fi=null;break;case"pointerover":case"pointerout":el.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":tl.delete(e.pointerId)}}function Ya(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=fc(e),e!==null&&zy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function vx(t,e,n,r,i){switch(e){case"focusin":return Di=Ya(Di,t,e,n,r,i),!0;case"dragenter":return ji=Ya(ji,t,e,n,r,i),!0;case"mouseover":return Fi=Ya(Fi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return el.set(s,Ya(el.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,tl.set(s,Ya(tl.get(s)||null,t,e,n,r,i)),!0}return!1}function CP(t){var e=Ts(t.target);if(e!==null){var n=Zs(e);if(n!==null){if(e=n.tag,e===13){if(e=vP(n),e!==null){t.blockedOn=e,OP(t.priority,function(){bP(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=qm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);$m=r,n.target.dispatchEvent(r),$m=null}else return e=fc(n),e!==null&&zy(e),t.blockedOn=n,!1;e.shift()}return!0}function S0(t,e,n){bh(t)&&n.delete(e)}function _x(){zm=!1,Di!==null&&bh(Di)&&(Di=null),ji!==null&&bh(ji)&&(ji=null),Fi!==null&&bh(Fi)&&(Fi=null),el.forEach(S0),tl.forEach(S0)}function Ja(t,e){t.blockedOn===e&&(t.blockedOn=null,zm||(zm=!0,xn.unstable_scheduleCallback(xn.unstable_NormalPriority,_x)))}function nl(t){function e(i){return Ja(i,t)}if(0<Xc.length){Ja(Xc[0],t);for(var n=1;n<Xc.length;n++){var r=Xc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Di!==null&&Ja(Di,t),ji!==null&&Ja(ji,t),Fi!==null&&Ja(Fi,t),el.forEach(e),tl.forEach(e),n=0;n<Ri.length;n++)r=Ri[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ri.length&&(n=Ri[0],n.blockedOn===null);)CP(n),n.blockedOn===null&&Ri.shift()}var Wo=fi.ReactCurrentBatchConfig,Jh=!0;function wx(t,e,n,r){var i=je,s=Wo.transition;Wo.transition=null;try{je=1,qy(t,e,n,r)}finally{je=i,Wo.transition=s}}function Ex(t,e,n,r){var i=je,s=Wo.transition;Wo.transition=null;try{je=4,qy(t,e,n,r)}finally{je=i,Wo.transition=s}}function qy(t,e,n,r){if(Jh){var i=qm(t,e,n,r);if(i===null)xp(t,e,r,Xh,n),E0(t,r);else if(vx(i,t,e,n,r))r.stopPropagation();else if(E0(t,r),e&4&&-1<yx.indexOf(t)){for(;i!==null;){var s=fc(i);if(s!==null&&IP(s),s=qm(t,e,n,r),s===null&&xp(t,e,r,Xh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else xp(t,e,r,null,n)}}var Xh=null;function qm(t,e,n,r){if(Xh=null,t=By(r),t=Ts(t),t!==null)if(e=Zs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=vP(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Xh=t,null}function xP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ux()){case Hy:return 1;case SP:return 4;case Gh:case lx:return 16;case TP:return 536870912;default:return 16}default:return 16}}var xi=null,Qy=null,Ah=null;function kP(){if(Ah)return Ah;var t,e=Qy,n=e.length,r,i="value"in xi?xi.value:xi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ah=i.slice(t,1<r?1-r:void 0)}function Oh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Zc(){return!0}function T0(){return!1}function Dn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Zc:T0,this.isPropagationStopped=T0,this}return st(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zc)},persist:function(){},isPersistent:Zc}),e}var Ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ky=Dn(Ra),hc=st({},Ra,{view:0,detail:0}),Sx=Dn(hc),Sp,Tp,Xa,Kf=st({},hc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xa&&(Xa&&t.type==="mousemove"?(Sp=t.screenX-Xa.screenX,Tp=t.screenY-Xa.screenY):Tp=Sp=0,Xa=t),Sp)},movementY:function(t){return"movementY"in t?t.movementY:Tp}}),P0=Dn(Kf),Tx=st({},Kf,{dataTransfer:0}),Px=Dn(Tx),Rx=st({},hc,{relatedTarget:0}),Pp=Dn(Rx),Ix=st({},Ra,{animationName:0,elapsedTime:0,pseudoElement:0}),bx=Dn(Ix),Ax=st({},Ra,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ox=Dn(Ax),Cx=st({},Ra,{data:0}),R0=Dn(Cx),xx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dx(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Nx[t])?!!e[t]:!1}function Gy(){return Dx}var jx=st({},hc,{key:function(t){if(t.key){var e=xx[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Oh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?kx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gy,charCode:function(t){return t.type==="keypress"?Oh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Oh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Fx=Dn(jx),Lx=st({},Kf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I0=Dn(Lx),Mx=st({},hc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gy}),Vx=Dn(Mx),$x=st({},Ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ux=Dn($x),Bx=st({},Kf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Hx=Dn(Bx),Wx=[9,13,27,32],Yy=ri&&"CompositionEvent"in window,ju=null;ri&&"documentMode"in document&&(ju=document.documentMode);var zx=ri&&"TextEvent"in window&&!ju,NP=ri&&(!Yy||ju&&8<ju&&11>=ju),b0=" ",A0=!1;function DP(t,e){switch(t){case"keyup":return Wx.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var So=!1;function qx(t,e){switch(t){case"compositionend":return jP(e);case"keypress":return e.which!==32?null:(A0=!0,b0);case"textInput":return t=e.data,t===b0&&A0?null:t;default:return null}}function Qx(t,e){if(So)return t==="compositionend"||!Yy&&DP(t,e)?(t=kP(),Ah=Qy=xi=null,So=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return NP&&e.locale!=="ko"?null:e.data;default:return null}}var Kx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function O0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Kx[t.type]:e==="textarea"}function FP(t,e,n,r){dP(r),e=Zh(e,"onChange"),0<e.length&&(n=new Ky("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Fu=null,rl=null;function Gx(t){QP(t,0)}function Gf(t){var e=Ro(t);if(oP(e))return t}function Yx(t,e){if(t==="change")return e}var LP=!1;if(ri){var Rp;if(ri){var Ip="oninput"in document;if(!Ip){var C0=document.createElement("div");C0.setAttribute("oninput","return;"),Ip=typeof C0.oninput=="function"}Rp=Ip}else Rp=!1;LP=Rp&&(!document.documentMode||9<document.documentMode)}function x0(){Fu&&(Fu.detachEvent("onpropertychange",MP),rl=Fu=null)}function MP(t){if(t.propertyName==="value"&&Gf(rl)){var e=[];FP(e,rl,t,By(t)),yP(Gx,e)}}function Jx(t,e,n){t==="focusin"?(x0(),Fu=e,rl=n,Fu.attachEvent("onpropertychange",MP)):t==="focusout"&&x0()}function Xx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gf(rl)}function Zx(t,e){if(t==="click")return Gf(e)}function ek(t,e){if(t==="input"||t==="change")return Gf(e)}function tk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var sr=typeof Object.is=="function"?Object.is:tk;function il(t,e){if(sr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Am.call(e,i)||!sr(t[i],e[i]))return!1}return!0}function k0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function N0(t,e){var n=k0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=k0(n)}}function VP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?VP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $P(){for(var t=window,e=qh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=qh(t.document)}return e}function Jy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function nk(t){var e=$P(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&VP(n.ownerDocument.documentElement,n)){if(r!==null&&Jy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=N0(n,s);var o=N0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var rk=ri&&"documentMode"in document&&11>=document.documentMode,To=null,Qm=null,Lu=null,Km=!1;function D0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Km||To==null||To!==qh(r)||(r=To,"selectionStart"in r&&Jy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Lu&&il(Lu,r)||(Lu=r,r=Zh(Qm,"onSelect"),0<r.length&&(e=new Ky("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=To)))}function eh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Po={animationend:eh("Animation","AnimationEnd"),animationiteration:eh("Animation","AnimationIteration"),animationstart:eh("Animation","AnimationStart"),transitionend:eh("Transition","TransitionEnd")},bp={},UP={};ri&&(UP=document.createElement("div").style,"AnimationEvent"in window||(delete Po.animationend.animation,delete Po.animationiteration.animation,delete Po.animationstart.animation),"TransitionEvent"in window||delete Po.transitionend.transition);function Yf(t){if(bp[t])return bp[t];if(!Po[t])return t;var e=Po[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in UP)return bp[t]=e[n];return t}var BP=Yf("animationend"),HP=Yf("animationiteration"),WP=Yf("animationstart"),zP=Yf("transitionend"),qP=new Map,j0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function es(t,e){qP.set(t,e),Xs(e,[t])}for(var Ap=0;Ap<j0.length;Ap++){var Op=j0[Ap],ik=Op.toLowerCase(),sk=Op[0].toUpperCase()+Op.slice(1);es(ik,"on"+sk)}es(BP,"onAnimationEnd");es(HP,"onAnimationIteration");es(WP,"onAnimationStart");es("dblclick","onDoubleClick");es("focusin","onFocus");es("focusout","onBlur");es(zP,"onTransitionEnd");Xo("onMouseEnter",["mouseout","mouseover"]);Xo("onMouseLeave",["mouseout","mouseover"]);Xo("onPointerEnter",["pointerout","pointerover"]);Xo("onPointerLeave",["pointerout","pointerover"]);Xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ok=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tu));function F0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ix(r,e,void 0,t),t.currentTarget=null}function QP(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;F0(i,a,l),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,l=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;F0(i,a,l),s=u}}}if(Kh)throw t=Hm,Kh=!1,Hm=null,t}function Ye(t,e){var n=e[Zm];n===void 0&&(n=e[Zm]=new Set);var r=t+"__bubble";n.has(r)||(KP(e,t,2,!1),n.add(r))}function Cp(t,e,n){var r=0;e&&(r|=4),KP(n,t,r,e)}var th="_reactListening"+Math.random().toString(36).slice(2);function sl(t){if(!t[th]){t[th]=!0,tP.forEach(function(n){n!=="selectionchange"&&(ok.has(n)||Cp(n,!1,t),Cp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[th]||(e[th]=!0,Cp("selectionchange",!1,e))}}function KP(t,e,n,r){switch(xP(e)){case 1:var i=wx;break;case 4:i=Ex;break;default:i=qy}n=i.bind(null,e,n,t),i=void 0,!Bm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function xp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ts(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}yP(function(){var l=s,c=By(n),h=[];e:{var f=qP.get(t);if(f!==void 0){var d=Ky,y=t;switch(t){case"keypress":if(Oh(n)===0)break e;case"keydown":case"keyup":d=Fx;break;case"focusin":y="focus",d=Pp;break;case"focusout":y="blur",d=Pp;break;case"beforeblur":case"afterblur":d=Pp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=P0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=Px;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=Vx;break;case BP:case HP:case WP:d=bx;break;case zP:d=Ux;break;case"scroll":d=Sx;break;case"wheel":d=Hx;break;case"copy":case"cut":case"paste":d=Ox;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=I0}var g=(e&4)!==0,_=!g&&t==="scroll",m=g?f!==null?f+"Capture":null:f;g=[];for(var p=l,w;p!==null;){w=p;var I=w.stateNode;if(w.tag===5&&I!==null&&(w=I,m!==null&&(I=Zu(p,m),I!=null&&g.push(ol(p,I,w)))),_)break;p=p.return}0<g.length&&(f=new d(f,y,null,n,c),h.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",f&&n!==$m&&(y=n.relatedTarget||n.fromElement)&&(Ts(y)||y[ii]))break e;if((d||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,d?(y=n.relatedTarget||n.toElement,d=l,y=y?Ts(y):null,y!==null&&(_=Zs(y),y!==_||y.tag!==5&&y.tag!==6)&&(y=null)):(d=null,y=l),d!==y)){if(g=P0,I="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(g=I0,I="onPointerLeave",m="onPointerEnter",p="pointer"),_=d==null?f:Ro(d),w=y==null?f:Ro(y),f=new g(I,p+"leave",d,n,c),f.target=_,f.relatedTarget=w,I=null,Ts(c)===l&&(g=new g(m,p+"enter",y,n,c),g.target=w,g.relatedTarget=_,I=g),_=I,d&&y)t:{for(g=d,m=y,p=0,w=g;w;w=po(w))p++;for(w=0,I=m;I;I=po(I))w++;for(;0<p-w;)g=po(g),p--;for(;0<w-p;)m=po(m),w--;for(;p--;){if(g===m||m!==null&&g===m.alternate)break t;g=po(g),m=po(m)}g=null}else g=null;d!==null&&L0(h,f,d,g,!1),y!==null&&_!==null&&L0(h,_,y,g,!0)}}e:{if(f=l?Ro(l):window,d=f.nodeName&&f.nodeName.toLowerCase(),d==="select"||d==="input"&&f.type==="file")var k=Yx;else if(O0(f))if(LP)k=ek;else{k=Xx;var P=Jx}else(d=f.nodeName)&&d.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=Zx);if(k&&(k=k(t,l))){FP(h,k,n,c);break e}P&&P(t,f,l),t==="focusout"&&(P=f._wrapperState)&&P.controlled&&f.type==="number"&&jm(f,"number",f.value)}switch(P=l?Ro(l):window,t){case"focusin":(O0(P)||P.contentEditable==="true")&&(To=P,Qm=l,Lu=null);break;case"focusout":Lu=Qm=To=null;break;case"mousedown":Km=!0;break;case"contextmenu":case"mouseup":case"dragend":Km=!1,D0(h,n,c);break;case"selectionchange":if(rk)break;case"keydown":case"keyup":D0(h,n,c)}var A;if(Yy)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else So?DP(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(NP&&n.locale!=="ko"&&(So||N!=="onCompositionStart"?N==="onCompositionEnd"&&So&&(A=kP()):(xi=c,Qy="value"in xi?xi.value:xi.textContent,So=!0)),P=Zh(l,N),0<P.length&&(N=new R0(N,t,null,n,c),h.push({event:N,listeners:P}),A?N.data=A:(A=jP(n),A!==null&&(N.data=A)))),(A=zx?qx(t,n):Qx(t,n))&&(l=Zh(l,"onBeforeInput"),0<l.length&&(c=new R0("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:l}),c.data=A))}QP(h,e)})}function ol(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Zh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Zu(t,n),s!=null&&r.unshift(ol(t,s,i)),s=Zu(t,e),s!=null&&r.push(ol(t,s,i))),t=t.return}return r}function po(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function L0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&l!==null&&(a=l,i?(u=Zu(n,s),u!=null&&o.unshift(ol(n,u,a))):i||(u=Zu(n,s),u!=null&&o.push(ol(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var ak=/\r\n?/g,uk=/\u0000|\uFFFD/g;function M0(t){return(typeof t=="string"?t:""+t).replace(ak,`
`).replace(uk,"")}function nh(t,e,n){if(e=M0(e),M0(t)!==e&&n)throw Error(H(425))}function ef(){}var Gm=null,Ym=null;function Jm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Xm=typeof setTimeout=="function"?setTimeout:void 0,lk=typeof clearTimeout=="function"?clearTimeout:void 0,V0=typeof Promise=="function"?Promise:void 0,ck=typeof queueMicrotask=="function"?queueMicrotask:typeof V0<"u"?function(t){return V0.resolve(null).then(t).catch(hk)}:Xm;function hk(t){setTimeout(function(){throw t})}function kp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),nl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);nl(e)}function Li(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function $0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ia=Math.random().toString(36).slice(2),_r="__reactFiber$"+Ia,al="__reactProps$"+Ia,ii="__reactContainer$"+Ia,Zm="__reactEvents$"+Ia,fk="__reactListeners$"+Ia,dk="__reactHandles$"+Ia;function Ts(t){var e=t[_r];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ii]||n[_r]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=$0(t);t!==null;){if(n=t[_r])return n;t=$0(t)}return e}t=n,n=t.parentNode}return null}function fc(t){return t=t[_r]||t[ii],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ro(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function Jf(t){return t[al]||null}var eg=[],Io=-1;function ts(t){return{current:t}}function Ze(t){0>Io||(t.current=eg[Io],eg[Io]=null,Io--)}function Ke(t,e){Io++,eg[Io]=t.current,t.current=e}var Ki={},sn=ts(Ki),Pn=ts(!1),Ls=Ki;function Zo(t,e){var n=t.type.contextTypes;if(!n)return Ki;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Rn(t){return t=t.childContextTypes,t!=null}function tf(){Ze(Pn),Ze(sn)}function U0(t,e,n){if(sn.current!==Ki)throw Error(H(168));Ke(sn,e),Ke(Pn,n)}function GP(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(H(108,JC(t)||"Unknown",i));return st({},n,r)}function nf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ki,Ls=sn.current,Ke(sn,t),Ke(Pn,Pn.current),!0}function B0(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=GP(t,e,Ls),r.__reactInternalMemoizedMergedChildContext=t,Ze(Pn),Ze(sn),Ke(sn,t)):Ze(Pn),Ke(Pn,n)}var Qr=null,Xf=!1,Np=!1;function YP(t){Qr===null?Qr=[t]:Qr.push(t)}function pk(t){Xf=!0,YP(t)}function ns(){if(!Np&&Qr!==null){Np=!0;var t=0,e=je;try{var n=Qr;for(je=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Qr=null,Xf=!1}catch(i){throw Qr!==null&&(Qr=Qr.slice(t+1)),EP(Hy,ns),i}finally{je=e,Np=!1}}return null}var bo=[],Ao=0,rf=null,sf=0,Mn=[],Vn=0,Ms=null,Yr=1,Jr="";function ps(t,e){bo[Ao++]=sf,bo[Ao++]=rf,rf=t,sf=e}function JP(t,e,n){Mn[Vn++]=Yr,Mn[Vn++]=Jr,Mn[Vn++]=Ms,Ms=t;var r=Yr;t=Jr;var i=32-tr(r)-1;r&=~(1<<i),n+=1;var s=32-tr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yr=1<<32-tr(e)+i|n<<i|r,Jr=s+t}else Yr=1<<s|n<<i|r,Jr=t}function Xy(t){t.return!==null&&(ps(t,1),JP(t,1,0))}function Zy(t){for(;t===rf;)rf=bo[--Ao],bo[Ao]=null,sf=bo[--Ao],bo[Ao]=null;for(;t===Ms;)Ms=Mn[--Vn],Mn[Vn]=null,Jr=Mn[--Vn],Mn[Vn]=null,Yr=Mn[--Vn],Mn[Vn]=null}var Cn=null,On=null,et=!1,Xn=null;function XP(t,e){var n=Hn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function H0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Cn=t,On=Li(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Cn=t,On=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ms!==null?{id:Yr,overflow:Jr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Hn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Cn=t,On=null,!0):!1;default:return!1}}function tg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ng(t){if(et){var e=On;if(e){var n=e;if(!H0(t,e)){if(tg(t))throw Error(H(418));e=Li(n.nextSibling);var r=Cn;e&&H0(t,e)?XP(r,n):(t.flags=t.flags&-4097|2,et=!1,Cn=t)}}else{if(tg(t))throw Error(H(418));t.flags=t.flags&-4097|2,et=!1,Cn=t}}}function W0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Cn=t}function rh(t){if(t!==Cn)return!1;if(!et)return W0(t),et=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Jm(t.type,t.memoizedProps)),e&&(e=On)){if(tg(t))throw ZP(),Error(H(418));for(;e;)XP(t,e),e=Li(e.nextSibling)}if(W0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){On=Li(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}On=null}}else On=Cn?Li(t.stateNode.nextSibling):null;return!0}function ZP(){for(var t=On;t;)t=Li(t.nextSibling)}function ea(){On=Cn=null,et=!1}function ev(t){Xn===null?Xn=[t]:Xn.push(t)}var mk=fi.ReactCurrentBatchConfig;function Gn(t,e){if(t&&t.defaultProps){e=st({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var of=ts(null),af=null,Oo=null,tv=null;function nv(){tv=Oo=af=null}function rv(t){var e=of.current;Ze(of),t._currentValue=e}function rg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function zo(t,e){af=t,tv=Oo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Sn=!0),t.firstContext=null)}function zn(t){var e=t._currentValue;if(tv!==t)if(t={context:t,memoizedValue:e,next:null},Oo===null){if(af===null)throw Error(H(308));Oo=t,af.dependencies={lanes:0,firstContext:t}}else Oo=Oo.next=t;return e}var Ps=null;function iv(t){Ps===null?Ps=[t]:Ps.push(t)}function e1(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,iv(e)):(n.next=i.next,i.next=n),e.interleaved=n,si(t,r)}function si(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Pi=!1;function sv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function t1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ti(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Mi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,xe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,si(t,n)}return i=r.interleaved,i===null?(e.next=e,iv(r)):(e.next=i.next,i.next=e),r.interleaved=e,si(t,n)}function Ch(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Wy(t,n)}}function z0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function uf(t,e,n,r){var i=t.updateQueue;Pi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,o===null?s=l:o.next=l,o=u;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(s!==null){var h=i.baseState;o=0,c=l=u=null,a=s;do{var f=a.lane,d=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,g=a;switch(f=e,d=n,g.tag){case 1:if(y=g.payload,typeof y=="function"){h=y.call(d,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,f=typeof y=="function"?y.call(d,h,f):y,f==null)break e;h=st({},h,f);break e;case 2:Pi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else d={eventTime:d,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=d,u=h):c=c.next=d,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(u=h),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);$s|=o,t.lanes=o,t.memoizedState=h}}function q0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var n1=new eP.Component().refs;function ig(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:st({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Zf={isMounted:function(t){return(t=t._reactInternals)?Zs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=pn(),i=$i(t),s=ti(r,i);s.payload=e,n!=null&&(s.callback=n),e=Mi(t,s,i),e!==null&&(nr(e,t,i,r),Ch(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=pn(),i=$i(t),s=ti(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Mi(t,s,i),e!==null&&(nr(e,t,i,r),Ch(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=pn(),r=$i(t),i=ti(n,r);i.tag=2,e!=null&&(i.callback=e),e=Mi(t,i,r),e!==null&&(nr(e,t,r,n),Ch(e,t,r))}};function Q0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!il(n,r)||!il(i,s):!0}function r1(t,e,n){var r=!1,i=Ki,s=e.contextType;return typeof s=="object"&&s!==null?s=zn(s):(i=Rn(e)?Ls:sn.current,r=e.contextTypes,s=(r=r!=null)?Zo(t,i):Ki),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Zf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function K0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Zf.enqueueReplaceState(e,e.state,null)}function sg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=n1,sv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=zn(s):(s=Rn(e)?Ls:sn.current,i.context=Zo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ig(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Zf.enqueueReplaceState(i,i.state,null),uf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Za(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===n1&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function ih(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function G0(t){var e=t._init;return e(t._payload)}function i1(t){function e(m,p){if(t){var w=m.deletions;w===null?(m.deletions=[p],m.flags|=16):w.push(p)}}function n(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function i(m,p){return m=Ui(m,p),m.index=0,m.sibling=null,m}function s(m,p,w){return m.index=w,t?(w=m.alternate,w!==null?(w=w.index,w<p?(m.flags|=2,p):w):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,p,w,I){return p===null||p.tag!==6?(p=$p(w,m.mode,I),p.return=m,p):(p=i(p,w),p.return=m,p)}function u(m,p,w,I){var k=w.type;return k===Eo?c(m,p,w.props.children,I,w.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ti&&G0(k)===p.type)?(I=i(p,w.props),I.ref=Za(m,p,w),I.return=m,I):(I=Fh(w.type,w.key,w.props,null,m.mode,I),I.ref=Za(m,p,w),I.return=m,I)}function l(m,p,w,I){return p===null||p.tag!==4||p.stateNode.containerInfo!==w.containerInfo||p.stateNode.implementation!==w.implementation?(p=Up(w,m.mode,I),p.return=m,p):(p=i(p,w.children||[]),p.return=m,p)}function c(m,p,w,I,k){return p===null||p.tag!==7?(p=Ds(w,m.mode,I,k),p.return=m,p):(p=i(p,w),p.return=m,p)}function h(m,p,w){if(typeof p=="string"&&p!==""||typeof p=="number")return p=$p(""+p,m.mode,w),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Qc:return w=Fh(p.type,p.key,p.props,null,m.mode,w),w.ref=Za(m,null,p),w.return=m,w;case wo:return p=Up(p,m.mode,w),p.return=m,p;case Ti:var I=p._init;return h(m,I(p._payload),w)}if(Eu(p)||Ka(p))return p=Ds(p,m.mode,w,null),p.return=m,p;ih(m,p)}return null}function f(m,p,w,I){var k=p!==null?p.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return k!==null?null:a(m,p,""+w,I);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Qc:return w.key===k?u(m,p,w,I):null;case wo:return w.key===k?l(m,p,w,I):null;case Ti:return k=w._init,f(m,p,k(w._payload),I)}if(Eu(w)||Ka(w))return k!==null?null:c(m,p,w,I,null);ih(m,w)}return null}function d(m,p,w,I,k){if(typeof I=="string"&&I!==""||typeof I=="number")return m=m.get(w)||null,a(p,m,""+I,k);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Qc:return m=m.get(I.key===null?w:I.key)||null,u(p,m,I,k);case wo:return m=m.get(I.key===null?w:I.key)||null,l(p,m,I,k);case Ti:var P=I._init;return d(m,p,w,P(I._payload),k)}if(Eu(I)||Ka(I))return m=m.get(w)||null,c(p,m,I,k,null);ih(p,I)}return null}function y(m,p,w,I){for(var k=null,P=null,A=p,N=p=0,V=null;A!==null&&N<w.length;N++){A.index>N?(V=A,A=null):V=A.sibling;var M=f(m,A,w[N],I);if(M===null){A===null&&(A=V);break}t&&A&&M.alternate===null&&e(m,A),p=s(M,p,N),P===null?k=M:P.sibling=M,P=M,A=V}if(N===w.length)return n(m,A),et&&ps(m,N),k;if(A===null){for(;N<w.length;N++)A=h(m,w[N],I),A!==null&&(p=s(A,p,N),P===null?k=A:P.sibling=A,P=A);return et&&ps(m,N),k}for(A=r(m,A);N<w.length;N++)V=d(A,m,N,w[N],I),V!==null&&(t&&V.alternate!==null&&A.delete(V.key===null?N:V.key),p=s(V,p,N),P===null?k=V:P.sibling=V,P=V);return t&&A.forEach(function(L){return e(m,L)}),et&&ps(m,N),k}function g(m,p,w,I){var k=Ka(w);if(typeof k!="function")throw Error(H(150));if(w=k.call(w),w==null)throw Error(H(151));for(var P=k=null,A=p,N=p=0,V=null,M=w.next();A!==null&&!M.done;N++,M=w.next()){A.index>N?(V=A,A=null):V=A.sibling;var L=f(m,A,M.value,I);if(L===null){A===null&&(A=V);break}t&&A&&L.alternate===null&&e(m,A),p=s(L,p,N),P===null?k=L:P.sibling=L,P=L,A=V}if(M.done)return n(m,A),et&&ps(m,N),k;if(A===null){for(;!M.done;N++,M=w.next())M=h(m,M.value,I),M!==null&&(p=s(M,p,N),P===null?k=M:P.sibling=M,P=M);return et&&ps(m,N),k}for(A=r(m,A);!M.done;N++,M=w.next())M=d(A,m,N,M.value,I),M!==null&&(t&&M.alternate!==null&&A.delete(M.key===null?N:M.key),p=s(M,p,N),P===null?k=M:P.sibling=M,P=M);return t&&A.forEach(function(ye){return e(m,ye)}),et&&ps(m,N),k}function _(m,p,w,I){if(typeof w=="object"&&w!==null&&w.type===Eo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Qc:e:{for(var k=w.key,P=p;P!==null;){if(P.key===k){if(k=w.type,k===Eo){if(P.tag===7){n(m,P.sibling),p=i(P,w.props.children),p.return=m,m=p;break e}}else if(P.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ti&&G0(k)===P.type){n(m,P.sibling),p=i(P,w.props),p.ref=Za(m,P,w),p.return=m,m=p;break e}n(m,P);break}else e(m,P);P=P.sibling}w.type===Eo?(p=Ds(w.props.children,m.mode,I,w.key),p.return=m,m=p):(I=Fh(w.type,w.key,w.props,null,m.mode,I),I.ref=Za(m,p,w),I.return=m,m=I)}return o(m);case wo:e:{for(P=w.key;p!==null;){if(p.key===P)if(p.tag===4&&p.stateNode.containerInfo===w.containerInfo&&p.stateNode.implementation===w.implementation){n(m,p.sibling),p=i(p,w.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else e(m,p);p=p.sibling}p=Up(w,m.mode,I),p.return=m,m=p}return o(m);case Ti:return P=w._init,_(m,p,P(w._payload),I)}if(Eu(w))return y(m,p,w,I);if(Ka(w))return g(m,p,w,I);ih(m,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,p!==null&&p.tag===6?(n(m,p.sibling),p=i(p,w),p.return=m,m=p):(n(m,p),p=$p(w,m.mode,I),p.return=m,m=p),o(m)):n(m,p)}return _}var ta=i1(!0),s1=i1(!1),dc={},Pr=ts(dc),ul=ts(dc),ll=ts(dc);function Rs(t){if(t===dc)throw Error(H(174));return t}function ov(t,e){switch(Ke(ll,e),Ke(ul,t),Ke(Pr,dc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Lm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Lm(e,t)}Ze(Pr),Ke(Pr,e)}function na(){Ze(Pr),Ze(ul),Ze(ll)}function o1(t){Rs(ll.current);var e=Rs(Pr.current),n=Lm(e,t.type);e!==n&&(Ke(ul,t),Ke(Pr,n))}function av(t){ul.current===t&&(Ze(Pr),Ze(ul))}var rt=ts(0);function lf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Dp=[];function uv(){for(var t=0;t<Dp.length;t++)Dp[t]._workInProgressVersionPrimary=null;Dp.length=0}var xh=fi.ReactCurrentDispatcher,jp=fi.ReactCurrentBatchConfig,Vs=0,it=null,Ot=null,Nt=null,cf=!1,Mu=!1,cl=0,gk=0;function Gt(){throw Error(H(321))}function lv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!sr(t[n],e[n]))return!1;return!0}function cv(t,e,n,r,i,s){if(Vs=s,it=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xh.current=t===null||t.memoizedState===null?wk:Ek,t=n(r,i),Mu){s=0;do{if(Mu=!1,cl=0,25<=s)throw Error(H(301));s+=1,Nt=Ot=null,e.updateQueue=null,xh.current=Sk,t=n(r,i)}while(Mu)}if(xh.current=hf,e=Ot!==null&&Ot.next!==null,Vs=0,Nt=Ot=it=null,cf=!1,e)throw Error(H(300));return t}function hv(){var t=cl!==0;return cl=0,t}function yr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?it.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function qn(){if(Ot===null){var t=it.alternate;t=t!==null?t.memoizedState:null}else t=Ot.next;var e=Nt===null?it.memoizedState:Nt.next;if(e!==null)Nt=e,Ot=t;else{if(t===null)throw Error(H(310));Ot=t,t={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Nt===null?it.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function hl(t,e){return typeof e=="function"?e(t):e}function Fp(t){var e=qn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=Ot,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,l=s;do{var c=l.lane;if((Vs&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var h={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=h,o=r):u=u.next=h,it.lanes|=c,$s|=c}l=l.next}while(l!==null&&l!==s);u===null?o=r:u.next=a,sr(r,e.memoizedState)||(Sn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,it.lanes|=s,$s|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Lp(t){var e=qn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);sr(s,e.memoizedState)||(Sn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function a1(){}function u1(t,e){var n=it,r=qn(),i=e(),s=!sr(r.memoizedState,i);if(s&&(r.memoizedState=i,Sn=!0),r=r.queue,fv(h1.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Nt!==null&&Nt.memoizedState.tag&1){if(n.flags|=2048,fl(9,c1.bind(null,n,r,i,e),void 0,null),Dt===null)throw Error(H(349));Vs&30||l1(n,e,i)}return i}function l1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=it.updateQueue,e===null?(e={lastEffect:null,stores:null},it.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function c1(t,e,n,r){e.value=n,e.getSnapshot=r,f1(e)&&d1(t)}function h1(t,e,n){return n(function(){f1(e)&&d1(t)})}function f1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!sr(t,n)}catch{return!0}}function d1(t){var e=si(t,1);e!==null&&nr(e,t,1,-1)}function Y0(t){var e=yr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hl,lastRenderedState:t},e.queue=t,t=t.dispatch=_k.bind(null,it,t),[e.memoizedState,t]}function fl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=it.updateQueue,e===null?(e={lastEffect:null,stores:null},it.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function p1(){return qn().memoizedState}function kh(t,e,n,r){var i=yr();it.flags|=t,i.memoizedState=fl(1|e,n,void 0,r===void 0?null:r)}function ed(t,e,n,r){var i=qn();r=r===void 0?null:r;var s=void 0;if(Ot!==null){var o=Ot.memoizedState;if(s=o.destroy,r!==null&&lv(r,o.deps)){i.memoizedState=fl(e,n,s,r);return}}it.flags|=t,i.memoizedState=fl(1|e,n,s,r)}function J0(t,e){return kh(8390656,8,t,e)}function fv(t,e){return ed(2048,8,t,e)}function m1(t,e){return ed(4,2,t,e)}function g1(t,e){return ed(4,4,t,e)}function y1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function v1(t,e,n){return n=n!=null?n.concat([t]):null,ed(4,4,y1.bind(null,e,t),n)}function dv(){}function _1(t,e){var n=qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&lv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function w1(t,e){var n=qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&lv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function E1(t,e,n){return Vs&21?(sr(n,e)||(n=PP(),it.lanes|=n,$s|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Sn=!0),t.memoizedState=n)}function yk(t,e){var n=je;je=n!==0&&4>n?n:4,t(!0);var r=jp.transition;jp.transition={};try{t(!1),e()}finally{je=n,jp.transition=r}}function S1(){return qn().memoizedState}function vk(t,e,n){var r=$i(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},T1(t))P1(e,n);else if(n=e1(t,e,n,r),n!==null){var i=pn();nr(n,t,r,i),R1(n,e,r)}}function _k(t,e,n){var r=$i(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(T1(t))P1(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,sr(a,o)){var u=e.interleaved;u===null?(i.next=i,iv(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=e1(t,e,i,r),n!==null&&(i=pn(),nr(n,t,r,i),R1(n,e,r))}}function T1(t){var e=t.alternate;return t===it||e!==null&&e===it}function P1(t,e){Mu=cf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function R1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Wy(t,n)}}var hf={readContext:zn,useCallback:Gt,useContext:Gt,useEffect:Gt,useImperativeHandle:Gt,useInsertionEffect:Gt,useLayoutEffect:Gt,useMemo:Gt,useReducer:Gt,useRef:Gt,useState:Gt,useDebugValue:Gt,useDeferredValue:Gt,useTransition:Gt,useMutableSource:Gt,useSyncExternalStore:Gt,useId:Gt,unstable_isNewReconciler:!1},wk={readContext:zn,useCallback:function(t,e){return yr().memoizedState=[t,e===void 0?null:e],t},useContext:zn,useEffect:J0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,kh(4194308,4,y1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return kh(4194308,4,t,e)},useInsertionEffect:function(t,e){return kh(4,2,t,e)},useMemo:function(t,e){var n=yr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=yr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=vk.bind(null,it,t),[r.memoizedState,t]},useRef:function(t){var e=yr();return t={current:t},e.memoizedState=t},useState:Y0,useDebugValue:dv,useDeferredValue:function(t){return yr().memoizedState=t},useTransition:function(){var t=Y0(!1),e=t[0];return t=yk.bind(null,t[1]),yr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=it,i=yr();if(et){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),Dt===null)throw Error(H(349));Vs&30||l1(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,J0(h1.bind(null,r,s,t),[t]),r.flags|=2048,fl(9,c1.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=yr(),e=Dt.identifierPrefix;if(et){var n=Jr,r=Yr;n=(r&~(1<<32-tr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=cl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=gk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Ek={readContext:zn,useCallback:_1,useContext:zn,useEffect:fv,useImperativeHandle:v1,useInsertionEffect:m1,useLayoutEffect:g1,useMemo:w1,useReducer:Fp,useRef:p1,useState:function(){return Fp(hl)},useDebugValue:dv,useDeferredValue:function(t){var e=qn();return E1(e,Ot.memoizedState,t)},useTransition:function(){var t=Fp(hl)[0],e=qn().memoizedState;return[t,e]},useMutableSource:a1,useSyncExternalStore:u1,useId:S1,unstable_isNewReconciler:!1},Sk={readContext:zn,useCallback:_1,useContext:zn,useEffect:fv,useImperativeHandle:v1,useInsertionEffect:m1,useLayoutEffect:g1,useMemo:w1,useReducer:Lp,useRef:p1,useState:function(){return Lp(hl)},useDebugValue:dv,useDeferredValue:function(t){var e=qn();return Ot===null?e.memoizedState=t:E1(e,Ot.memoizedState,t)},useTransition:function(){var t=Lp(hl)[0],e=qn().memoizedState;return[t,e]},useMutableSource:a1,useSyncExternalStore:u1,useId:S1,unstable_isNewReconciler:!1};function ra(t,e){try{var n="",r=e;do n+=YC(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Mp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function og(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Tk=typeof WeakMap=="function"?WeakMap:Map;function I1(t,e,n){n=ti(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){df||(df=!0,gg=r),og(t,e)},n}function b1(t,e,n){n=ti(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){og(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){og(t,e),typeof r!="function"&&(Vi===null?Vi=new Set([this]):Vi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function X0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Tk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Lk.bind(null,t,e,n),e.then(t,t))}function Z0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ew(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ti(-1,1),e.tag=2,Mi(n,e,1))),n.lanes|=1),t)}var Pk=fi.ReactCurrentOwner,Sn=!1;function hn(t,e,n,r){e.child=t===null?s1(e,null,n,r):ta(e,t.child,n,r)}function tw(t,e,n,r,i){n=n.render;var s=e.ref;return zo(e,i),r=cv(t,e,n,r,s,i),n=hv(),t!==null&&!Sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,oi(t,e,i)):(et&&n&&Xy(e),e.flags|=1,hn(t,e,r,i),e.child)}function nw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Ev(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,A1(t,e,s,r,i)):(t=Fh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:il,n(o,r)&&t.ref===e.ref)return oi(t,e,i)}return e.flags|=1,t=Ui(s,r),t.ref=e.ref,t.return=e,e.child=t}function A1(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(il(s,r)&&t.ref===e.ref)if(Sn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Sn=!0);else return e.lanes=t.lanes,oi(t,e,i)}return ag(t,e,n,r,i)}function O1(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(xo,An),An|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ke(xo,An),An|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ke(xo,An),An|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ke(xo,An),An|=r;return hn(t,e,i,n),e.child}function C1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ag(t,e,n,r,i){var s=Rn(n)?Ls:sn.current;return s=Zo(e,s),zo(e,i),n=cv(t,e,n,r,s,i),r=hv(),t!==null&&!Sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,oi(t,e,i)):(et&&r&&Xy(e),e.flags|=1,hn(t,e,n,i),e.child)}function rw(t,e,n,r,i){if(Rn(n)){var s=!0;nf(e)}else s=!1;if(zo(e,i),e.stateNode===null)Nh(t,e),r1(e,n,r),sg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=zn(l):(l=Rn(n)?Ls:sn.current,l=Zo(e,l));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==l)&&K0(e,o,r,l),Pi=!1;var f=e.memoizedState;o.state=f,uf(e,r,o,i),u=e.memoizedState,a!==r||f!==u||Pn.current||Pi?(typeof c=="function"&&(ig(e,n,c,r),u=e.memoizedState),(a=Pi||Q0(e,n,a,r,f,u,l))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,t1(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:Gn(e.type,a),o.props=l,h=e.pendingProps,f=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=zn(u):(u=Rn(n)?Ls:sn.current,u=Zo(e,u));var d=n.getDerivedStateFromProps;(c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==u)&&K0(e,o,r,u),Pi=!1,f=e.memoizedState,o.state=f,uf(e,r,o,i);var y=e.memoizedState;a!==h||f!==y||Pn.current||Pi?(typeof d=="function"&&(ig(e,n,d,r),y=e.memoizedState),(l=Pi||Q0(e,n,l,r,f,y,u)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=u,r=l):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return ug(t,e,n,r,s,i)}function ug(t,e,n,r,i,s){C1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&B0(e,n,!1),oi(t,e,s);r=e.stateNode,Pk.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ta(e,t.child,null,s),e.child=ta(e,null,a,s)):hn(t,e,a,s),e.memoizedState=r.state,i&&B0(e,n,!0),e.child}function x1(t){var e=t.stateNode;e.pendingContext?U0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&U0(t,e.context,!1),ov(t,e.containerInfo)}function iw(t,e,n,r,i){return ea(),ev(i),e.flags|=256,hn(t,e,n,r),e.child}var lg={dehydrated:null,treeContext:null,retryLane:0};function cg(t){return{baseLanes:t,cachePool:null,transitions:null}}function k1(t,e,n){var r=e.pendingProps,i=rt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ke(rt,i&1),t===null)return ng(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=rd(o,r,0,null),t=Ds(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=cg(n),e.memoizedState=lg,t):pv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Rk(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Ui(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ui(a,s):(s=Ds(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?cg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=lg,r}return s=t.child,t=s.sibling,r=Ui(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function pv(t,e){return e=rd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function sh(t,e,n,r){return r!==null&&ev(r),ta(e,t.child,null,n),t=pv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Rk(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Mp(Error(H(422))),sh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=rd({mode:"visible",children:r.children},i,0,null),s=Ds(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ta(e,t.child,null,o),e.child.memoizedState=cg(o),e.memoizedState=lg,s);if(!(e.mode&1))return sh(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(H(419)),r=Mp(s,r,void 0),sh(t,e,o,r)}if(a=(o&t.childLanes)!==0,Sn||a){if(r=Dt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,si(t,i),nr(r,t,i,-1))}return wv(),r=Mp(Error(H(421))),sh(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Mk.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,On=Li(i.nextSibling),Cn=e,et=!0,Xn=null,t!==null&&(Mn[Vn++]=Yr,Mn[Vn++]=Jr,Mn[Vn++]=Ms,Yr=t.id,Jr=t.overflow,Ms=e),e=pv(e,r.children),e.flags|=4096,e)}function sw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),rg(t.return,e,n)}function Vp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function N1(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(hn(t,e,r.children,n),r=rt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sw(t,n,e);else if(t.tag===19)sw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ke(rt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&lf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Vp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&lf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Vp(e,!0,n,null,s);break;case"together":Vp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Nh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function oi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),$s|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=Ui(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ui(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Ik(t,e,n){switch(e.tag){case 3:x1(e),ea();break;case 5:o1(e);break;case 1:Rn(e.type)&&nf(e);break;case 4:ov(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ke(of,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ke(rt,rt.current&1),e.flags|=128,null):n&e.child.childLanes?k1(t,e,n):(Ke(rt,rt.current&1),t=oi(t,e,n),t!==null?t.sibling:null);Ke(rt,rt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return N1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ke(rt,rt.current),r)break;return null;case 22:case 23:return e.lanes=0,O1(t,e,n)}return oi(t,e,n)}var D1,hg,j1,F1;D1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};hg=function(){};j1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Rs(Pr.current);var s=null;switch(n){case"input":i=Nm(t,i),r=Nm(t,r),s=[];break;case"select":i=st({},i,{value:void 0}),r=st({},r,{value:void 0}),s=[];break;case"textarea":i=Fm(t,i),r=Fm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ef)}Mm(n,r);var o;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Ju.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var u=r[l];if(a=i?.[l],r.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Ju.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&Ye("scroll",t),s||a===u||(s=[])):(s=s||[]).push(l,u))}n&&(s=s||[]).push("style",n);var l=s;(e.updateQueue=l)&&(e.flags|=4)}};F1=function(t,e,n,r){n!==r&&(e.flags|=4)};function eu(t,e){if(!et)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Yt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function bk(t,e,n){var r=e.pendingProps;switch(Zy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(e),null;case 1:return Rn(e.type)&&tf(),Yt(e),null;case 3:return r=e.stateNode,na(),Ze(Pn),Ze(sn),uv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(rh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xn!==null&&(_g(Xn),Xn=null))),hg(t,e),Yt(e),null;case 5:av(e);var i=Rs(ll.current);if(n=e.type,t!==null&&e.stateNode!=null)j1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return Yt(e),null}if(t=Rs(Pr.current),rh(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[_r]=e,r[al]=s,t=(e.mode&1)!==0,n){case"dialog":Ye("cancel",r),Ye("close",r);break;case"iframe":case"object":case"embed":Ye("load",r);break;case"video":case"audio":for(i=0;i<Tu.length;i++)Ye(Tu[i],r);break;case"source":Ye("error",r);break;case"img":case"image":case"link":Ye("error",r),Ye("load",r);break;case"details":Ye("toggle",r);break;case"input":p0(r,s),Ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ye("invalid",r);break;case"textarea":g0(r,s),Ye("invalid",r)}Mm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&nh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&nh(r.textContent,a,t),i=["children",""+a]):Ju.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ye("scroll",r)}switch(n){case"input":Kc(r),m0(r,s,!0);break;case"textarea":Kc(r),y0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ef)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=lP(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[_r]=e,t[al]=r,D1(t,e,!1,!1),e.stateNode=t;e:{switch(o=Vm(n,r),n){case"dialog":Ye("cancel",t),Ye("close",t),i=r;break;case"iframe":case"object":case"embed":Ye("load",t),i=r;break;case"video":case"audio":for(i=0;i<Tu.length;i++)Ye(Tu[i],t);i=r;break;case"source":Ye("error",t),i=r;break;case"img":case"image":case"link":Ye("error",t),Ye("load",t),i=r;break;case"details":Ye("toggle",t),i=r;break;case"input":p0(t,r),i=Nm(t,r),Ye("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=st({},r,{value:void 0}),Ye("invalid",t);break;case"textarea":g0(t,r),i=Fm(t,r),Ye("invalid",t);break;default:i=r}Mm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?fP(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&cP(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Xu(t,u):typeof u=="number"&&Xu(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ju.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Ye("scroll",t):u!=null&&My(t,s,u,o))}switch(n){case"input":Kc(t),m0(t,r,!1);break;case"textarea":Kc(t),y0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Qi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Uo(t,!!r.multiple,s,!1):r.defaultValue!=null&&Uo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ef)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Yt(e),null;case 6:if(t&&e.stateNode!=null)F1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=Rs(ll.current),Rs(Pr.current),rh(e)){if(r=e.stateNode,n=e.memoizedProps,r[_r]=e,(s=r.nodeValue!==n)&&(t=Cn,t!==null))switch(t.tag){case 3:nh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&nh(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_r]=e,e.stateNode=r}return Yt(e),null;case 13:if(Ze(rt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(et&&On!==null&&e.mode&1&&!(e.flags&128))ZP(),ea(),e.flags|=98560,s=!1;else if(s=rh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(H(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(H(317));s[_r]=e}else ea(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Yt(e),s=!1}else Xn!==null&&(_g(Xn),Xn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||rt.current&1?Ct===0&&(Ct=3):wv())),e.updateQueue!==null&&(e.flags|=4),Yt(e),null);case 4:return na(),hg(t,e),t===null&&sl(e.stateNode.containerInfo),Yt(e),null;case 10:return rv(e.type._context),Yt(e),null;case 17:return Rn(e.type)&&tf(),Yt(e),null;case 19:if(Ze(rt),s=e.memoizedState,s===null)return Yt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)eu(s,!1);else{if(Ct!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=lf(t),o!==null){for(e.flags|=128,eu(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ke(rt,rt.current&1|2),e.child}t=t.sibling}s.tail!==null&&mt()>ia&&(e.flags|=128,r=!0,eu(s,!1),e.lanes=4194304)}else{if(!r)if(t=lf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),eu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!et)return Yt(e),null}else 2*mt()-s.renderingStartTime>ia&&n!==1073741824&&(e.flags|=128,r=!0,eu(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=mt(),e.sibling=null,n=rt.current,Ke(rt,r?n&1|2:n&1),e):(Yt(e),null);case 22:case 23:return _v(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?An&1073741824&&(Yt(e),e.subtreeFlags&6&&(e.flags|=8192)):Yt(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function Ak(t,e){switch(Zy(e),e.tag){case 1:return Rn(e.type)&&tf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return na(),Ze(Pn),Ze(sn),uv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return av(e),null;case 13:if(Ze(rt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));ea()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ze(rt),null;case 4:return na(),null;case 10:return rv(e.type._context),null;case 22:case 23:return _v(),null;case 24:return null;default:return null}}var oh=!1,Zt=!1,Ok=typeof WeakSet=="function"?WeakSet:Set,ee=null;function Co(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){lt(t,e,r)}else n.current=null}function fg(t,e,n){try{n()}catch(r){lt(t,e,r)}}var ow=!1;function Ck(t,e){if(Gm=Jh,t=$P(),Jy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,l=0,c=0,h=t,f=null;t:for(;;){for(var d;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(u=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(d=h.firstChild)!==null;)f=h,h=d;for(;;){if(h===t)break t;if(f===n&&++l===i&&(a=o),f===s&&++c===r&&(u=o),(d=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=d}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ym={focusedElem:t,selectionRange:n},Jh=!1,ee=e;ee!==null;)if(e=ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ee=t;else for(;ee!==null;){e=ee;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,_=y.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?g:Gn(e.type,g),_);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(I){lt(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,ee=t;break}ee=e.return}return y=ow,ow=!1,y}function Vu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&fg(e,n,s)}i=i.next}while(i!==r)}}function td(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function dg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function L1(t){var e=t.alternate;e!==null&&(t.alternate=null,L1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[_r],delete e[al],delete e[Zm],delete e[fk],delete e[dk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function M1(t){return t.tag===5||t.tag===3||t.tag===4}function aw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||M1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ef));else if(r!==4&&(t=t.child,t!==null))for(pg(t,e,n),t=t.sibling;t!==null;)pg(t,e,n),t=t.sibling}function mg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(mg(t,e,n),t=t.sibling;t!==null;)mg(t,e,n),t=t.sibling}var $t=null,Yn=!1;function yi(t,e,n){for(n=n.child;n!==null;)V1(t,e,n),n=n.sibling}function V1(t,e,n){if(Tr&&typeof Tr.onCommitFiberUnmount=="function")try{Tr.onCommitFiberUnmount(Qf,n)}catch{}switch(n.tag){case 5:Zt||Co(n,e);case 6:var r=$t,i=Yn;$t=null,yi(t,e,n),$t=r,Yn=i,$t!==null&&(Yn?(t=$t,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):$t.removeChild(n.stateNode));break;case 18:$t!==null&&(Yn?(t=$t,n=n.stateNode,t.nodeType===8?kp(t.parentNode,n):t.nodeType===1&&kp(t,n),nl(t)):kp($t,n.stateNode));break;case 4:r=$t,i=Yn,$t=n.stateNode.containerInfo,Yn=!0,yi(t,e,n),$t=r,Yn=i;break;case 0:case 11:case 14:case 15:if(!Zt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&fg(n,e,o),i=i.next}while(i!==r)}yi(t,e,n);break;case 1:if(!Zt&&(Co(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){lt(n,e,a)}yi(t,e,n);break;case 21:yi(t,e,n);break;case 22:n.mode&1?(Zt=(r=Zt)||n.memoizedState!==null,yi(t,e,n),Zt=r):yi(t,e,n);break;default:yi(t,e,n)}}function uw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Ok),e.forEach(function(r){var i=Vk.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Kn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:$t=a.stateNode,Yn=!1;break e;case 3:$t=a.stateNode.containerInfo,Yn=!0;break e;case 4:$t=a.stateNode.containerInfo,Yn=!0;break e}a=a.return}if($t===null)throw Error(H(160));V1(s,o,i),$t=null,Yn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){lt(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$1(e,t),e=e.sibling}function $1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Kn(e,t),dr(t),r&4){try{Vu(3,t,t.return),td(3,t)}catch(g){lt(t,t.return,g)}try{Vu(5,t,t.return)}catch(g){lt(t,t.return,g)}}break;case 1:Kn(e,t),dr(t),r&512&&n!==null&&Co(n,n.return);break;case 5:if(Kn(e,t),dr(t),r&512&&n!==null&&Co(n,n.return),t.flags&32){var i=t.stateNode;try{Xu(i,"")}catch(g){lt(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&aP(i,s),Vm(a,o);var l=Vm(a,s);for(o=0;o<u.length;o+=2){var c=u[o],h=u[o+1];c==="style"?fP(i,h):c==="dangerouslySetInnerHTML"?cP(i,h):c==="children"?Xu(i,h):My(i,c,h,l)}switch(a){case"input":Dm(i,s);break;case"textarea":uP(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?Uo(i,!!s.multiple,d,!1):f!==!!s.multiple&&(s.defaultValue!=null?Uo(i,!!s.multiple,s.defaultValue,!0):Uo(i,!!s.multiple,s.multiple?[]:"",!1))}i[al]=s}catch(g){lt(t,t.return,g)}}break;case 6:if(Kn(e,t),dr(t),r&4){if(t.stateNode===null)throw Error(H(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){lt(t,t.return,g)}}break;case 3:if(Kn(e,t),dr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{nl(e.containerInfo)}catch(g){lt(t,t.return,g)}break;case 4:Kn(e,t),dr(t);break;case 13:Kn(e,t),dr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(yv=mt())),r&4&&uw(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Zt=(l=Zt)||c,Kn(e,t),Zt=l):Kn(e,t),dr(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!c&&t.mode&1)for(ee=t,c=t.child;c!==null;){for(h=ee=c;ee!==null;){switch(f=ee,d=f.child,f.tag){case 0:case 11:case 14:case 15:Vu(4,f,f.return);break;case 1:Co(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(g){lt(r,n,g)}}break;case 5:Co(f,f.return);break;case 22:if(f.memoizedState!==null){cw(h);continue}}d!==null?(d.return=f,ee=d):cw(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=hP("display",o))}catch(g){lt(t,t.return,g)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(g){lt(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Kn(e,t),dr(t),r&4&&uw(t);break;case 21:break;default:Kn(e,t),dr(t)}}function dr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(M1(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Xu(i,""),r.flags&=-33);var s=aw(t);mg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=aw(t);pg(t,a,o);break;default:throw Error(H(161))}}catch(u){lt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function xk(t,e,n){ee=t,U1(t)}function U1(t,e,n){for(var r=(t.mode&1)!==0;ee!==null;){var i=ee,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||oh;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Zt;a=oh;var l=Zt;if(oh=o,(Zt=u)&&!l)for(ee=i;ee!==null;)o=ee,u=o.child,o.tag===22&&o.memoizedState!==null?hw(i):u!==null?(u.return=o,ee=u):hw(i);for(;s!==null;)ee=s,U1(s),s=s.sibling;ee=i,oh=a,Zt=l}lw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ee=s):lw(t)}}function lw(t){for(;ee!==null;){var e=ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Zt||td(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Zt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Gn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&q0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}q0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&nl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Zt||e.flags&512&&dg(e)}catch(f){lt(e,e.return,f)}}if(e===t){ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,ee=n;break}ee=e.return}}function cw(t){for(;ee!==null;){var e=ee;if(e===t){ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ee=n;break}ee=e.return}}function hw(t){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{td(4,e)}catch(u){lt(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){lt(e,i,u)}}var s=e.return;try{dg(e)}catch(u){lt(e,s,u)}break;case 5:var o=e.return;try{dg(e)}catch(u){lt(e,o,u)}}}catch(u){lt(e,e.return,u)}if(e===t){ee=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ee=a;break}ee=e.return}}var kk=Math.ceil,ff=fi.ReactCurrentDispatcher,mv=fi.ReactCurrentOwner,Wn=fi.ReactCurrentBatchConfig,xe=0,Dt=null,St=null,Wt=0,An=0,xo=ts(0),Ct=0,dl=null,$s=0,nd=0,gv=0,$u=null,En=null,yv=0,ia=1/0,qr=null,df=!1,gg=null,Vi=null,ah=!1,ki=null,pf=0,Uu=0,yg=null,Dh=-1,jh=0;function pn(){return xe&6?mt():Dh!==-1?Dh:Dh=mt()}function $i(t){return t.mode&1?xe&2&&Wt!==0?Wt&-Wt:mk.transition!==null?(jh===0&&(jh=PP()),jh):(t=je,t!==0||(t=window.event,t=t===void 0?16:xP(t.type)),t):1}function nr(t,e,n,r){if(50<Uu)throw Uu=0,yg=null,Error(H(185));cc(t,n,r),(!(xe&2)||t!==Dt)&&(t===Dt&&(!(xe&2)&&(nd|=n),Ct===4&&Ii(t,Wt)),In(t,r),n===1&&xe===0&&!(e.mode&1)&&(ia=mt()+500,Xf&&ns()))}function In(t,e){var n=t.callbackNode;mx(t,e);var r=Yh(t,t===Dt?Wt:0);if(r===0)n!==null&&w0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&w0(n),e===1)t.tag===0?pk(fw.bind(null,t)):YP(fw.bind(null,t)),ck(function(){!(xe&6)&&ns()}),n=null;else{switch(RP(r)){case 1:n=Hy;break;case 4:n=SP;break;case 16:n=Gh;break;case 536870912:n=TP;break;default:n=Gh}n=G1(n,B1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function B1(t,e){if(Dh=-1,jh=0,xe&6)throw Error(H(327));var n=t.callbackNode;if(qo()&&t.callbackNode!==n)return null;var r=Yh(t,t===Dt?Wt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=mf(t,r);else{e=r;var i=xe;xe|=2;var s=W1();(Dt!==t||Wt!==e)&&(qr=null,ia=mt()+500,Ns(t,e));do try{jk();break}catch(a){H1(t,a)}while(!0);nv(),ff.current=s,xe=i,St!==null?e=0:(Dt=null,Wt=0,e=Ct)}if(e!==0){if(e===2&&(i=Wm(t),i!==0&&(r=i,e=vg(t,i))),e===1)throw n=dl,Ns(t,0),Ii(t,r),In(t,mt()),n;if(e===6)Ii(t,r);else{if(i=t.current.alternate,!(r&30)&&!Nk(i)&&(e=mf(t,r),e===2&&(s=Wm(t),s!==0&&(r=s,e=vg(t,s))),e===1))throw n=dl,Ns(t,0),Ii(t,r),In(t,mt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:ms(t,En,qr);break;case 3:if(Ii(t,r),(r&130023424)===r&&(e=yv+500-mt(),10<e)){if(Yh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){pn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Xm(ms.bind(null,t,En,qr),e);break}ms(t,En,qr);break;case 4:if(Ii(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-tr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=mt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kk(r/1960))-r,10<r){t.timeoutHandle=Xm(ms.bind(null,t,En,qr),r);break}ms(t,En,qr);break;case 5:ms(t,En,qr);break;default:throw Error(H(329))}}}return In(t,mt()),t.callbackNode===n?B1.bind(null,t):null}function vg(t,e){var n=$u;return t.current.memoizedState.isDehydrated&&(Ns(t,e).flags|=256),t=mf(t,e),t!==2&&(e=En,En=n,e!==null&&_g(e)),t}function _g(t){En===null?En=t:En.push.apply(En,t)}function Nk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!sr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ii(t,e){for(e&=~gv,e&=~nd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-tr(e),r=1<<n;t[n]=-1,e&=~r}}function fw(t){if(xe&6)throw Error(H(327));qo();var e=Yh(t,0);if(!(e&1))return In(t,mt()),null;var n=mf(t,e);if(t.tag!==0&&n===2){var r=Wm(t);r!==0&&(e=r,n=vg(t,r))}if(n===1)throw n=dl,Ns(t,0),Ii(t,e),In(t,mt()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ms(t,En,qr),In(t,mt()),null}function vv(t,e){var n=xe;xe|=1;try{return t(e)}finally{xe=n,xe===0&&(ia=mt()+500,Xf&&ns())}}function Us(t){ki!==null&&ki.tag===0&&!(xe&6)&&qo();var e=xe;xe|=1;var n=Wn.transition,r=je;try{if(Wn.transition=null,je=1,t)return t()}finally{je=r,Wn.transition=n,xe=e,!(xe&6)&&ns()}}function _v(){An=xo.current,Ze(xo)}function Ns(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,lk(n)),St!==null)for(n=St.return;n!==null;){var r=n;switch(Zy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&tf();break;case 3:na(),Ze(Pn),Ze(sn),uv();break;case 5:av(r);break;case 4:na();break;case 13:Ze(rt);break;case 19:Ze(rt);break;case 10:rv(r.type._context);break;case 22:case 23:_v()}n=n.return}if(Dt=t,St=t=Ui(t.current,null),Wt=An=e,Ct=0,dl=null,gv=nd=$s=0,En=$u=null,Ps!==null){for(e=0;e<Ps.length;e++)if(n=Ps[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ps=null}return t}function H1(t,e){do{var n=St;try{if(nv(),xh.current=hf,cf){for(var r=it.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}cf=!1}if(Vs=0,Nt=Ot=it=null,Mu=!1,cl=0,mv.current=null,n===null||n.return===null){Ct=1,dl=e,St=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=Wt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=Z0(o);if(d!==null){d.flags&=-257,ew(d,o,a,s,e),d.mode&1&&X0(s,l,e),e=d,u=l;var y=e.updateQueue;if(y===null){var g=new Set;g.add(u),e.updateQueue=g}else y.add(u);break e}else{if(!(e&1)){X0(s,l,e),wv();break e}u=Error(H(426))}}else if(et&&a.mode&1){var _=Z0(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),ew(_,o,a,s,e),ev(ra(u,a));break e}}s=u=ra(u,a),Ct!==4&&(Ct=2),$u===null?$u=[s]:$u.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=I1(s,u,e);z0(s,m);break e;case 1:a=u;var p=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Vi===null||!Vi.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var I=b1(s,a,e);z0(s,I);break e}}s=s.return}while(s!==null)}q1(n)}catch(k){e=k,St===n&&n!==null&&(St=n=n.return);continue}break}while(!0)}function W1(){var t=ff.current;return ff.current=hf,t===null?hf:t}function wv(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),Dt===null||!($s&268435455)&&!(nd&268435455)||Ii(Dt,Wt)}function mf(t,e){var n=xe;xe|=2;var r=W1();(Dt!==t||Wt!==e)&&(qr=null,Ns(t,e));do try{Dk();break}catch(i){H1(t,i)}while(!0);if(nv(),xe=n,ff.current=r,St!==null)throw Error(H(261));return Dt=null,Wt=0,Ct}function Dk(){for(;St!==null;)z1(St)}function jk(){for(;St!==null&&!ox();)z1(St)}function z1(t){var e=K1(t.alternate,t,An);t.memoizedProps=t.pendingProps,e===null?q1(t):St=e,mv.current=null}function q1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Ak(n,e),n!==null){n.flags&=32767,St=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ct=6,St=null;return}}else if(n=bk(n,e,An),n!==null){St=n;return}if(e=e.sibling,e!==null){St=e;return}St=e=t}while(e!==null);Ct===0&&(Ct=5)}function ms(t,e,n){var r=je,i=Wn.transition;try{Wn.transition=null,je=1,Fk(t,e,n,r)}finally{Wn.transition=i,je=r}return null}function Fk(t,e,n,r){do qo();while(ki!==null);if(xe&6)throw Error(H(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(gx(t,s),t===Dt&&(St=Dt=null,Wt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ah||(ah=!0,G1(Gh,function(){return qo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Wn.transition,Wn.transition=null;var o=je;je=1;var a=xe;xe|=4,mv.current=null,Ck(t,n),$1(n,t),nk(Ym),Jh=!!Gm,Ym=Gm=null,t.current=n,xk(n),ax(),xe=a,je=o,Wn.transition=s}else t.current=n;if(ah&&(ah=!1,ki=t,pf=i),s=t.pendingLanes,s===0&&(Vi=null),cx(n.stateNode),In(t,mt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(df)throw df=!1,t=gg,gg=null,t;return pf&1&&t.tag!==0&&qo(),s=t.pendingLanes,s&1?t===yg?Uu++:(Uu=0,yg=t):Uu=0,ns(),null}function qo(){if(ki!==null){var t=RP(pf),e=Wn.transition,n=je;try{if(Wn.transition=null,je=16>t?16:t,ki===null)var r=!1;else{if(t=ki,ki=null,pf=0,xe&6)throw Error(H(331));var i=xe;for(xe|=4,ee=t.current;ee!==null;){var s=ee,o=s.child;if(ee.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(ee=l;ee!==null;){var c=ee;switch(c.tag){case 0:case 11:case 15:Vu(8,c,s)}var h=c.child;if(h!==null)h.return=c,ee=h;else for(;ee!==null;){c=ee;var f=c.sibling,d=c.return;if(L1(c),c===l){ee=null;break}if(f!==null){f.return=d,ee=f;break}ee=d}}}var y=s.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var _=g.sibling;g.sibling=null,g=_}while(g!==null)}}ee=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ee=o;else e:for(;ee!==null;){if(s=ee,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Vu(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,ee=m;break e}ee=s.return}}var p=t.current;for(ee=p;ee!==null;){o=ee;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,ee=w;else e:for(o=p;ee!==null;){if(a=ee,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:td(9,a)}}catch(k){lt(a,a.return,k)}if(a===o){ee=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,ee=I;break e}ee=a.return}}if(xe=i,ns(),Tr&&typeof Tr.onPostCommitFiberRoot=="function")try{Tr.onPostCommitFiberRoot(Qf,t)}catch{}r=!0}return r}finally{je=n,Wn.transition=e}}return!1}function dw(t,e,n){e=ra(n,e),e=I1(t,e,1),t=Mi(t,e,1),e=pn(),t!==null&&(cc(t,1,e),In(t,e))}function lt(t,e,n){if(t.tag===3)dw(t,t,n);else for(;e!==null;){if(e.tag===3){dw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vi===null||!Vi.has(r))){t=ra(n,t),t=b1(e,t,1),e=Mi(e,t,1),t=pn(),e!==null&&(cc(e,1,t),In(e,t));break}}e=e.return}}function Lk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=pn(),t.pingedLanes|=t.suspendedLanes&n,Dt===t&&(Wt&n)===n&&(Ct===4||Ct===3&&(Wt&130023424)===Wt&&500>mt()-yv?Ns(t,0):gv|=n),In(t,e)}function Q1(t,e){e===0&&(t.mode&1?(e=Jc,Jc<<=1,!(Jc&130023424)&&(Jc=4194304)):e=1);var n=pn();t=si(t,e),t!==null&&(cc(t,e,n),In(t,n))}function Mk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Q1(t,n)}function Vk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),Q1(t,n)}var K1;K1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pn.current)Sn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Sn=!1,Ik(t,e,n);Sn=!!(t.flags&131072)}else Sn=!1,et&&e.flags&1048576&&JP(e,sf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Nh(t,e),t=e.pendingProps;var i=Zo(e,sn.current);zo(e,n),i=cv(null,e,r,t,i,n);var s=hv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Rn(r)?(s=!0,nf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,sv(e),i.updater=Zf,e.stateNode=i,i._reactInternals=e,sg(e,r,t,n),e=ug(null,e,r,!0,s,n)):(e.tag=0,et&&s&&Xy(e),hn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Nh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Uk(r),t=Gn(r,t),i){case 0:e=ag(null,e,r,t,n);break e;case 1:e=rw(null,e,r,t,n);break e;case 11:e=tw(null,e,r,t,n);break e;case 14:e=nw(null,e,r,Gn(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gn(r,i),ag(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gn(r,i),rw(t,e,r,i,n);case 3:e:{if(x1(e),t===null)throw Error(H(387));r=e.pendingProps,s=e.memoizedState,i=s.element,t1(t,e),uf(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ra(Error(H(423)),e),e=iw(t,e,r,n,i);break e}else if(r!==i){i=ra(Error(H(424)),e),e=iw(t,e,r,n,i);break e}else for(On=Li(e.stateNode.containerInfo.firstChild),Cn=e,et=!0,Xn=null,n=s1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ea(),r===i){e=oi(t,e,n);break e}hn(t,e,r,n)}e=e.child}return e;case 5:return o1(e),t===null&&ng(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Jm(r,i)?o=null:s!==null&&Jm(r,s)&&(e.flags|=32),C1(t,e),hn(t,e,o,n),e.child;case 6:return t===null&&ng(e),null;case 13:return k1(t,e,n);case 4:return ov(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ta(e,null,r,n):hn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gn(r,i),tw(t,e,r,i,n);case 7:return hn(t,e,e.pendingProps,n),e.child;case 8:return hn(t,e,e.pendingProps.children,n),e.child;case 12:return hn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ke(of,r._currentValue),r._currentValue=o,s!==null)if(sr(s.value,o)){if(s.children===i.children&&!Pn.current){e=oi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=ti(-1,n&-n),u.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),rg(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(H(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),rg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}hn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,zo(e,n),i=zn(i),r=r(i),e.flags|=1,hn(t,e,r,n),e.child;case 14:return r=e.type,i=Gn(r,e.pendingProps),i=Gn(r.type,i),nw(t,e,r,i,n);case 15:return A1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Gn(r,i),Nh(t,e),e.tag=1,Rn(r)?(t=!0,nf(e)):t=!1,zo(e,n),r1(e,r,i),sg(e,r,i,n),ug(null,e,r,!0,t,n);case 19:return N1(t,e,n);case 22:return O1(t,e,n)}throw Error(H(156,e.tag))};function G1(t,e){return EP(t,e)}function $k(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(t,e,n,r){return new $k(t,e,n,r)}function Ev(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Uk(t){if(typeof t=="function")return Ev(t)?1:0;if(t!=null){if(t=t.$$typeof,t===$y)return 11;if(t===Uy)return 14}return 2}function Ui(t,e){var n=t.alternate;return n===null?(n=Hn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Fh(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Ev(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Eo:return Ds(n.children,i,s,e);case Vy:o=8,i|=8;break;case Om:return t=Hn(12,n,e,i|2),t.elementType=Om,t.lanes=s,t;case Cm:return t=Hn(13,n,e,i),t.elementType=Cm,t.lanes=s,t;case xm:return t=Hn(19,n,e,i),t.elementType=xm,t.lanes=s,t;case iP:return rd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nP:o=10;break e;case rP:o=9;break e;case $y:o=11;break e;case Uy:o=14;break e;case Ti:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=Hn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ds(t,e,n,r){return t=Hn(7,t,r,e),t.lanes=n,t}function rd(t,e,n,r){return t=Hn(22,t,r,e),t.elementType=iP,t.lanes=n,t.stateNode={isHidden:!1},t}function $p(t,e,n){return t=Hn(6,t,null,e),t.lanes=n,t}function Up(t,e,n){return e=Hn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Bk(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ep(0),this.expirationTimes=Ep(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ep(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Sv(t,e,n,r,i,s,o,a,u){return t=new Bk(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Hn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},sv(s),t}function Hk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Y1(t){if(!t)return Ki;t=t._reactInternals;e:{if(Zs(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Rn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(Rn(n))return GP(t,n,e)}return e}function J1(t,e,n,r,i,s,o,a,u){return t=Sv(n,r,!0,t,i,s,o,a,u),t.context=Y1(null),n=t.current,r=pn(),i=$i(n),s=ti(r,i),s.callback=e??null,Mi(n,s,i),t.current.lanes=i,cc(t,i,r),In(t,r),t}function id(t,e,n,r){var i=e.current,s=pn(),o=$i(i);return n=Y1(n),e.context===null?e.context=n:e.pendingContext=n,e=ti(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Mi(i,e,o),t!==null&&(nr(t,i,o,s),Ch(t,i,o)),o}function gf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function pw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Tv(t,e){pw(t,e),(t=t.alternate)&&pw(t,e)}function Wk(){return null}var X1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Pv(t){this._internalRoot=t}sd.prototype.render=Pv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));id(t,e,null,null)};sd.prototype.unmount=Pv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Us(function(){id(null,t,null,null)}),e[ii]=null}};function sd(t){this._internalRoot=t}sd.prototype.unstable_scheduleHydration=function(t){if(t){var e=AP();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ri.length&&e!==0&&e<Ri[n].priority;n++);Ri.splice(n,0,t),n===0&&CP(t)}};function Rv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function od(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function mw(){}function zk(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var l=gf(o);s.call(l)}}var o=J1(e,r,t,0,null,!1,!1,"",mw);return t._reactRootContainer=o,t[ii]=o.current,sl(t.nodeType===8?t.parentNode:t),Us(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=gf(u);a.call(l)}}var u=Sv(t,0,!1,null,null,!1,!1,"",mw);return t._reactRootContainer=u,t[ii]=u.current,sl(t.nodeType===8?t.parentNode:t),Us(function(){id(e,u,n,r)}),u}function ad(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=gf(o);a.call(u)}}id(e,o,t,i)}else o=zk(n,e,t,i,r);return gf(o)}IP=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Su(e.pendingLanes);n!==0&&(Wy(e,n|1),In(e,mt()),!(xe&6)&&(ia=mt()+500,ns()))}break;case 13:Us(function(){var r=si(t,1);if(r!==null){var i=pn();nr(r,t,1,i)}}),Tv(t,1)}};zy=function(t){if(t.tag===13){var e=si(t,134217728);if(e!==null){var n=pn();nr(e,t,134217728,n)}Tv(t,134217728)}};bP=function(t){if(t.tag===13){var e=$i(t),n=si(t,e);if(n!==null){var r=pn();nr(n,t,e,r)}Tv(t,e)}};AP=function(){return je};OP=function(t,e){var n=je;try{return je=t,e()}finally{je=n}};Um=function(t,e,n){switch(e){case"input":if(Dm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Jf(r);if(!i)throw Error(H(90));oP(r),Dm(r,i)}}}break;case"textarea":uP(t,n);break;case"select":e=n.value,e!=null&&Uo(t,!!n.multiple,e,!1)}};mP=vv;gP=Us;var qk={usingClientEntryPoint:!1,Events:[fc,Ro,Jf,dP,pP,vv]},tu={findFiberByHostInstance:Ts,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Qk={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=_P(t),t===null?null:t.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||Wk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uh.isDisabled&&uh.supportsFiber)try{Qf=uh.inject(Qk),Tr=uh}catch{}}Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qk;Nn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rv(e))throw Error(H(200));return Hk(t,e,null,n)};Nn.createRoot=function(t,e){if(!Rv(t))throw Error(H(299));var n=!1,r="",i=X1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Sv(t,1,!1,null,null,n,!1,r,i),t[ii]=e.current,sl(t.nodeType===8?t.parentNode:t),new Pv(e)};Nn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=_P(e),t=t===null?null:t.stateNode,t};Nn.flushSync=function(t){return Us(t)};Nn.hydrate=function(t,e,n){if(!od(e))throw Error(H(200));return ad(null,t,e,!0,n)};Nn.hydrateRoot=function(t,e,n){if(!Rv(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=X1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=J1(e,null,t,1,n??null,i,!1,s,o),t[ii]=e.current,sl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new sd(e)};Nn.render=function(t,e,n){if(!od(e))throw Error(H(200));return ad(null,t,e,!1,n)};Nn.unmountComponentAtNode=function(t){if(!od(t))throw Error(H(40));return t._reactRootContainer?(Us(function(){ad(null,null,t,!1,function(){t._reactRootContainer=null,t[ii]=null})}),!0):!1};Nn.unstable_batchedUpdates=vv;Nn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!od(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return ad(t,e,n,!1,r)};Nn.version="18.2.0-next-9e3b772b8-20220608";function Z1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Z1)}catch(t){console.error(t)}}Z1(),JT.exports=Nn;var Iv=JT.exports;const Kk=Ta(Iv),Gk=VT({__proto__:null,default:Kk},[Iv]);var gw=Iv;bm.createRoot=gw.createRoot,bm.hydrateRoot=gw.hydrateRoot;/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ct(){return ct=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ct.apply(this,arguments)}var dt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(dt||(dt={}));const yw="popstate";function Yk(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:u=""}=Fr(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),pl("",{pathname:o,search:a,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let u=i.location.href,l=u.indexOf("#");a=l===-1?u:u.slice(0,l)}return a+"#"+(typeof s=="string"?s:Bs(s))}function r(i,s){Gi(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return Xk(e,n,r,t)}function Ee(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Gi(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Jk(){return Math.random().toString(36).substr(2,8)}function vw(t,e){return{usr:t.state,key:t.key,idx:e}}function pl(t,e,n,r){return n===void 0&&(n=null),ct({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Fr(e):e,{state:n,key:e&&e.key||r||Jk()})}function Bs(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Fr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Xk(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=dt.Pop,u=null,l=c();l==null&&(l=0,o.replaceState(ct({},o.state,{idx:l}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=dt.Pop;let _=c(),m=_==null?null:_-l;l=_,u&&u({action:a,location:g.location,delta:m})}function f(_,m){a=dt.Push;let p=pl(g.location,_,m);n&&n(p,_),l=c()+1;let w=vw(p,l),I=g.createHref(p);try{o.pushState(w,"",I)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(I)}s&&u&&u({action:a,location:g.location,delta:1})}function d(_,m){a=dt.Replace;let p=pl(g.location,_,m);n&&n(p,_),l=c();let w=vw(p,l),I=g.createHref(p);o.replaceState(w,"",I),s&&u&&u({action:a,location:g.location,delta:0})}function y(_){let m=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof _=="string"?_:Bs(_);return Ee(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let g={get action(){return a},get location(){return t(i,o)},listen(_){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(yw,h),u=_,()=>{i.removeEventListener(yw,h),u=null}},createHref(_){return e(i,_)},createURL:y,encodeLocation(_){let m=y(_);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:d,go(_){return o.go(_)}};return g}var ut;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ut||(ut={}));const Zk=new Set(["lazy","caseSensitive","path","id","index","children"]);function eN(t){return t.index===!0}function wg(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,s],a=typeof i.id=="string"?i.id:o.join("-");if(Ee(i.index!==!0||!i.children,"Cannot specify children on an index route"),Ee(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),eN(i)){let u=ct({},i,e(i),{id:a});return r[a]=u,u}else{let u=ct({},i,e(i),{id:a,children:void 0});return r[a]=u,i.children&&(u.children=wg(i.children,e,o,r)),u}})}function ko(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Fr(e):e,i=ba(r.pathname||"/",n);if(i==null)return null;let s=eR(t);nN(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=hN(s[a],pN(i));return o}function tN(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function eR(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Ee(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let l=ni([r,u.relativePath]),c=n.concat(u);s.children&&s.children.length>0&&(Ee(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),eR(s.children,e,c,l)),!(s.path==null&&!s.index)&&e.push({path:l,score:lN(l,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of tR(s.path))i(s,o,u)}),e}function tR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=tR(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function nN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:cN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const rN=/^:[\w-]+$/,iN=3,sN=2,oN=1,aN=10,uN=-2,_w=t=>t==="*";function lN(t,e){let n=t.split("/"),r=n.length;return n.some(_w)&&(r+=uN),e&&(r+=sN),n.filter(i=>!_w(i)).reduce((i,s)=>i+(rN.test(s)?iN:s===""?oN:aN),r)}function cN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function hN(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],u=o===n.length-1,l=i==="/"?e:e.slice(i.length)||"/",c=fN({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);let h=a.route;s.push({params:r,pathname:ni([i,c.pathname]),pathnameBase:vN(ni([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=ni([i,c.pathnameBase]))}return s}function fN(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=dN(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((l,c,h)=>{let{paramName:f,isOptional:d}=c;if(f==="*"){let g=a[h]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const y=a[h];return d&&!y?l[f]=void 0:l[f]=mN(y||"",f),l},{}),pathname:s,pathnameBase:o,pattern:t}}function dN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Gi(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function pN(t){try{return decodeURI(t)}catch(e){return Gi(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function mN(t,e){try{return decodeURIComponent(t)}catch(n){return Gi(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function ba(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function gN(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Fr(t):t;return{pathname:n?n.startsWith("/")?n:yN(n,e):e,search:_N(r),hash:wN(i)}}function yN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Bp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function bv(t,e){let n=nR(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Av(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Fr(t):(i=ct({},t),Ee(!i.pathname||!i.pathname.includes("?"),Bp("?","pathname","search",i)),Ee(!i.pathname||!i.pathname.includes("#"),Bp("#","pathname","hash",i)),Ee(!i.search||!i.search.includes("#"),Bp("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let u=gN(i,a),l=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(l||c)&&(u.pathname+="/"),u}const ni=t=>t.join("/").replace(/\/\/+/g,"/"),vN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_N=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,wN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Ov{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function rR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const iR=["post","put","patch","delete"],EN=new Set(iR),SN=["get",...iR],TN=new Set(SN),PN=new Set([301,302,303,307,308]),RN=new Set([307,308]),Hp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},IN={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},nu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},sR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bN=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),oR="remix-router-transitions";function AN(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Ee(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let b=t.detectErrorBoundary;i=x=>({hasErrorBoundary:b(x)})}else i=bN;let s={},o=wg(t.routes,i,void 0,s),a,u=t.basename||"/",l=ct({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},t.future),c=null,h=new Set,f=null,d=null,y=null,g=t.hydrationData!=null,_=ko(o,t.history.location,u),m=null;if(_==null){let b=Ln(404,{pathname:t.history.location.pathname}),{matches:x,route:j}=bw(o);_=x,m={[j.id]:b}}let p,w=_.some(b=>b.route.lazy),I=_.some(b=>b.route.loader);if(w)p=!1;else if(!I)p=!0;else if(l.v7_partialHydration){let b=t.hydrationData?t.hydrationData.loaderData:null,x=t.hydrationData?t.hydrationData.errors:null;p=_.every(j=>j.route.loader&&j.route.loader.hydrate!==!0&&(b&&b[j.route.id]!==void 0||x&&x[j.route.id]!==void 0))}else p=t.hydrationData!=null;let k,P={historyAction:t.history.action,location:t.history.location,matches:_,initialized:p,navigation:Hp,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||m,fetchers:new Map,blockers:new Map},A=dt.Pop,N=!1,V,M=!1,L=new Map,ye=null,Pe=!1,Le=!1,Be=[],He=[],ne=new Map,D=0,W=-1,K=new Map,ae=new Set,Te=new Map,Rt=new Map,Me=new Set,tt=new Map,Ve=new Map,It=!1;function yn(){if(c=t.history.listen(b=>{let{action:x,location:j,delta:q}=b;if(It){It=!1;return}Gi(Ve.size===0||q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let re=$a({currentLocation:P.location,nextLocation:j,historyAction:x});if(re&&q!=null){It=!0,t.history.go(q*-1),hs(re,{state:"blocked",location:j,proceed(){hs(re,{state:"proceeding",proceed:void 0,reset:void 0,location:j}),t.history.go(q)},reset(){let we=new Map(P.blockers);we.set(re,nu),bt({blockers:we})}});return}return vn(x,j)}),n){VN(e,L);let b=()=>$N(e,L);e.addEventListener("pagehide",b),ye=()=>e.removeEventListener("pagehide",b)}return P.initialized||vn(dt.Pop,P.location,{initialHydration:!0}),k}function jn(){c&&c(),ye&&ye(),h.clear(),V&&V.abort(),P.fetchers.forEach((b,x)=>cr(x)),P.blockers.forEach((b,x)=>Bc(x))}function us(b){return h.add(b),()=>h.delete(b)}function bt(b,x){x===void 0&&(x={}),P=ct({},P,b);let j=[],q=[];l.v7_fetcherPersist&&P.fetchers.forEach((re,we)=>{re.state==="idle"&&(Me.has(we)?q.push(we):j.push(we))}),[...h].forEach(re=>re(P,{deletedFetchers:q,unstable_viewTransitionOpts:x.viewTransitionOpts,unstable_flushSync:x.flushSync===!0})),l.v7_fetcherPersist&&(j.forEach(re=>P.fetchers.delete(re)),q.forEach(re=>cr(re)))}function Ur(b,x,j){var q,re;let{flushSync:we}=j===void 0?{}:j,le=P.actionData!=null&&P.navigation.formMethod!=null&&Jn(P.navigation.formMethod)&&P.navigation.state==="loading"&&((q=b.state)==null?void 0:q._isRedirect)!==!0,ue;x.actionData?Object.keys(x.actionData).length>0?ue=x.actionData:ue=null:le?ue=P.actionData:ue=null;let se=x.loaderData?Iw(P.loaderData,x.loaderData,x.matches||[],x.errors):P.loaderData,Re=P.blockers;Re.size>0&&(Re=new Map(Re),Re.forEach(($e,At)=>Re.set(At,nu)));let gt=N===!0||P.navigation.formMethod!=null&&Jn(P.navigation.formMethod)&&((re=b.state)==null?void 0:re._isRedirect)!==!0;a&&(o=a,a=void 0),Pe||A===dt.Pop||(A===dt.Push?t.history.push(b,b.state):A===dt.Replace&&t.history.replace(b,b.state));let _e;if(A===dt.Pop){let $e=L.get(P.location.pathname);$e&&$e.has(b.pathname)?_e={currentLocation:P.location,nextLocation:b}:L.has(b.pathname)&&(_e={currentLocation:b,nextLocation:P.location})}else if(M){let $e=L.get(P.location.pathname);$e?$e.add(b.pathname):($e=new Set([b.pathname]),L.set(P.location.pathname,$e)),_e={currentLocation:P.location,nextLocation:b}}bt(ct({},x,{actionData:ue,loaderData:se,historyAction:A,location:b,initialized:!0,navigation:Hp,revalidation:"idle",restoreScrollPosition:Wc(b,x.matches||P.matches),preventScrollReset:gt,blockers:Re}),{viewTransitionOpts:_e,flushSync:we===!0}),A=dt.Pop,N=!1,M=!1,Pe=!1,Le=!1,Be=[],He=[]}async function Br(b,x){if(typeof b=="number"){t.history.go(b);return}let j=Eg(P.location,P.matches,u,l.v7_prependBasename,b,l.v7_relativeSplatPath,x?.fromRouteId,x?.relative),{path:q,submission:re,error:we}=ww(l.v7_normalizeFormMethod,!1,j,x),le=P.location,ue=pl(P.location,q,x&&x.state);ue=ct({},ue,t.history.encodeLocation(ue));let se=x&&x.replace!=null?x.replace:void 0,Re=dt.Push;se===!0?Re=dt.Replace:se===!1||re!=null&&Jn(re.formMethod)&&re.formAction===P.location.pathname+P.location.search&&(Re=dt.Replace);let gt=x&&"preventScrollReset"in x?x.preventScrollReset===!0:void 0,_e=(x&&x.unstable_flushSync)===!0,$e=$a({currentLocation:le,nextLocation:ue,historyAction:Re});if($e){hs($e,{state:"blocked",location:ue,proceed(){hs($e,{state:"proceeding",proceed:void 0,reset:void 0,location:ue}),Br(b,x)},reset(){let At=new Map(P.blockers);At.set($e,nu),bt({blockers:At})}});return}return await vn(Re,ue,{submission:re,pendingError:we,preventScrollReset:gt,replace:x&&x.replace,enableViewTransition:x&&x.unstable_viewTransition,flushSync:_e})}function La(){if(Va(),bt({revalidation:"loading"}),P.navigation.state!=="submitting"){if(P.navigation.state==="idle"){vn(P.historyAction,P.location,{startUninterruptedRevalidation:!0});return}vn(A||P.historyAction,P.navigation.location,{overrideNavigation:P.navigation})}}async function vn(b,x,j){V&&V.abort(),V=null,A=b,Pe=(j&&j.startUninterruptedRevalidation)===!0,up(P.location,P.matches),N=(j&&j.preventScrollReset)===!0,M=(j&&j.enableViewTransition)===!0;let q=a||o,re=j&&j.overrideNavigation,we=ko(q,x,u),le=(j&&j.flushSync)===!0;if(!we){let At=Ln(404,{pathname:x.pathname}),{matches:ln,route:yt}=bw(q);Ua(),Ur(x,{matches:ln,loaderData:{},errors:{[yt.id]:At}},{flushSync:le});return}if(P.initialized&&!Le&&NN(P.location,x)&&!(j&&j.submission&&Jn(j.submission.formMethod))){Ur(x,{matches:we},{flushSync:le});return}V=new AbortController;let ue=iu(t.history,x,V.signal,j&&j.submission),se,Re;if(j&&j.pendingError)Re={[Bu(we).route.id]:j.pendingError};else if(j&&j.submission&&Jn(j.submission.formMethod)){let At=await Ma(ue,x,j.submission,we,{replace:j.replace,flushSync:le});if(At.shortCircuited)return;se=At.pendingActionData,Re=At.pendingActionError,re=Wp(x,j.submission),le=!1,ue=new Request(ue.url,{signal:ue.signal})}let{shortCircuited:gt,loaderData:_e,errors:$e}=await np(ue,x,we,re,j&&j.submission,j&&j.fetcherSubmission,j&&j.replace,j&&j.initialHydration===!0,le,se,Re);gt||(V=null,Ur(x,ct({matches:we},se?{actionData:se}:{},{loaderData:_e,errors:$e})))}async function Ma(b,x,j,q,re){re===void 0&&(re={}),Va();let we=LN(x,j);bt({navigation:we},{flushSync:re.flushSync===!0});let le,ue=Tg(q,x);if(!ue.route.action&&!ue.route.lazy)le={type:ut.error,error:Ln(405,{method:b.method,pathname:x.pathname,routeId:ue.route.id})};else if(le=await ru("action",b,ue,q,s,i,u,l.v7_relativeSplatPath),b.signal.aborted)return{shortCircuited:!0};if(bs(le)){let se;return re&&re.replace!=null?se=re.replace:se=le.location===P.location.pathname+P.location.search,await di(P,le,{submission:j,replace:se}),{shortCircuited:!0}}if(No(le)){let se=Bu(q,ue.route.id);return(re&&re.replace)!==!0&&(A=dt.Push),{pendingActionData:{},pendingActionError:{[se.route.id]:le.error}}}if(Is(le))throw Ln(400,{type:"defer-action"});return{pendingActionData:{[ue.route.id]:le.data}}}async function np(b,x,j,q,re,we,le,ue,se,Re,gt){let _e=q||Wp(x,re),$e=re||we||Cw(_e),At=a||o,[ln,yt]=Ew(t.history,P,j,$e,x,l.v7_partialHydration&&ue===!0,Le,Be,He,Me,Te,ae,At,u,Re,gt);if(Ua(Ne=>!(j&&j.some(We=>We.route.id===Ne))||ln&&ln.some(We=>We.route.id===Ne)),W=++D,ln.length===0&&yt.length===0){let Ne=$c();return Ur(x,ct({matches:j,loaderData:{},errors:gt||null},Re?{actionData:Re}:{},Ne?{fetchers:new Map(P.fetchers)}:{}),{flushSync:se}),{shortCircuited:!0}}if(!Pe&&(!l.v7_partialHydration||!ue)){yt.forEach(We=>{let Fn=P.fetchers.get(We.key),co=su(void 0,Fn?Fn.data:void 0);P.fetchers.set(We.key,co)});let Ne=Re||P.actionData;bt(ct({navigation:_e},Ne?Object.keys(Ne).length===0?{actionData:null}:{actionData:Ne}:{},yt.length>0?{fetchers:new Map(P.fetchers)}:{}),{flushSync:se})}yt.forEach(Ne=>{ne.has(Ne.key)&&hr(Ne.key),Ne.controller&&ne.set(Ne.key,Ne.controller)});let pi=()=>yt.forEach(Ne=>hr(Ne.key));V&&V.signal.addEventListener("abort",pi);let{results:Ba,loaderResults:mi,fetcherResults:fr}=await Lc(P.matches,j,ln,yt,b);if(b.signal.aborted)return{shortCircuited:!0};V&&V.signal.removeEventListener("abort",pi),yt.forEach(Ne=>ne.delete(Ne.key));let Hr=Aw(Ba);if(Hr){if(Hr.idx>=ln.length){let Ne=yt[Hr.idx-ln.length].key;ae.add(Ne)}return await di(P,Hr.result,{replace:le}),{shortCircuited:!0}}let{loaderData:Ha,errors:Wa}=Rw(P,j,ln,mi,gt,yt,fr,tt);tt.forEach((Ne,We)=>{Ne.subscribe(Fn=>{(Fn||Ne.done)&&tt.delete(We)})});let za=$c(),Wr=Uc(W),lo=za||Wr||yt.length>0;return ct({loaderData:Ha,errors:Wa},lo?{fetchers:new Map(P.fetchers)}:{})}function rp(b,x,j,q){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ne.has(b)&&hr(b);let re=(q&&q.unstable_flushSync)===!0,we=a||o,le=Eg(P.location,P.matches,u,l.v7_prependBasename,j,l.v7_relativeSplatPath,x,q?.relative),ue=ko(we,le,u);if(!ue){cs(b,x,Ln(404,{pathname:le}),{flushSync:re});return}let{path:se,submission:Re,error:gt}=ww(l.v7_normalizeFormMethod,!0,le,q);if(gt){cs(b,x,gt,{flushSync:re});return}let _e=Tg(ue,se);if(N=(q&&q.preventScrollReset)===!0,Re&&Jn(Re.formMethod)){ip(b,x,se,_e,ue,re,Re);return}Te.set(b,{routeId:x,path:se}),ls(b,x,se,_e,ue,re,Re)}async function ip(b,x,j,q,re,we,le){if(Va(),Te.delete(b),!q.route.action&&!q.route.lazy){let We=Ln(405,{method:le.formMethod,pathname:j,routeId:x});cs(b,x,We,{flushSync:we});return}let ue=P.fetchers.get(b);lr(b,MN(le,ue),{flushSync:we});let se=new AbortController,Re=iu(t.history,j,se.signal,le);ne.set(b,se);let gt=D,_e=await ru("action",Re,q,re,s,i,u,l.v7_relativeSplatPath);if(Re.signal.aborted){ne.get(b)===se&&ne.delete(b);return}if(l.v7_fetcherPersist&&Me.has(b)){if(bs(_e)||No(_e)){lr(b,Si(void 0));return}}else{if(bs(_e))if(ne.delete(b),W>gt){lr(b,Si(void 0));return}else return ae.add(b),lr(b,su(le)),di(P,_e,{fetcherSubmission:le});if(No(_e)){cs(b,x,_e.error);return}}if(Is(_e))throw Ln(400,{type:"defer-action"});let $e=P.navigation.location||P.location,At=iu(t.history,$e,se.signal),ln=a||o,yt=P.navigation.state!=="idle"?ko(ln,P.navigation.location,u):P.matches;Ee(yt,"Didn't find any matches after fetcher action");let pi=++D;K.set(b,pi);let Ba=su(le,_e.data);P.fetchers.set(b,Ba);let[mi,fr]=Ew(t.history,P,yt,le,$e,!1,Le,Be,He,Me,Te,ae,ln,u,{[q.route.id]:_e.data},void 0);fr.filter(We=>We.key!==b).forEach(We=>{let Fn=We.key,co=P.fetchers.get(Fn),cp=su(void 0,co?co.data:void 0);P.fetchers.set(Fn,cp),ne.has(Fn)&&hr(Fn),We.controller&&ne.set(Fn,We.controller)}),bt({fetchers:new Map(P.fetchers)});let Hr=()=>fr.forEach(We=>hr(We.key));se.signal.addEventListener("abort",Hr);let{results:Ha,loaderResults:Wa,fetcherResults:za}=await Lc(P.matches,yt,mi,fr,At);if(se.signal.aborted)return;se.signal.removeEventListener("abort",Hr),K.delete(b),ne.delete(b),fr.forEach(We=>ne.delete(We.key));let Wr=Aw(Ha);if(Wr){if(Wr.idx>=mi.length){let We=fr[Wr.idx-mi.length].key;ae.add(We)}return di(P,Wr.result)}let{loaderData:lo,errors:Ne}=Rw(P,P.matches,mi,Wa,void 0,fr,za,tt);if(P.fetchers.has(b)){let We=Si(_e.data);P.fetchers.set(b,We)}Uc(pi),P.navigation.state==="loading"&&pi>W?(Ee(A,"Expected pending action"),V&&V.abort(),Ur(P.navigation.location,{matches:yt,loaderData:lo,errors:Ne,fetchers:new Map(P.fetchers)})):(bt({errors:Ne,loaderData:Iw(P.loaderData,lo,yt,Ne),fetchers:new Map(P.fetchers)}),Le=!1)}async function ls(b,x,j,q,re,we,le){let ue=P.fetchers.get(b);lr(b,su(le,ue?ue.data:void 0),{flushSync:we});let se=new AbortController,Re=iu(t.history,j,se.signal);ne.set(b,se);let gt=D,_e=await ru("loader",Re,q,re,s,i,u,l.v7_relativeSplatPath);if(Is(_e)&&(_e=await lR(_e,Re.signal,!0)||_e),ne.get(b)===se&&ne.delete(b),!Re.signal.aborted){if(Me.has(b)){lr(b,Si(void 0));return}if(bs(_e))if(W>gt){lr(b,Si(void 0));return}else{ae.add(b),await di(P,_e);return}if(No(_e)){cs(b,x,_e.error);return}Ee(!Is(_e),"Unhandled fetcher deferred data"),lr(b,Si(_e.data))}}async function di(b,x,j){let{submission:q,fetcherSubmission:re,replace:we}=j===void 0?{}:j;x.revalidate&&(Le=!0);let le=pl(b.location,x.location,{_isRedirect:!0});if(Ee(le,"Expected a location on the redirect navigation"),n){let $e=!1;if(x.reloadDocument)$e=!0;else if(sR.test(x.location)){const At=t.history.createURL(x.location);$e=At.origin!==e.location.origin||ba(At.pathname,u)==null}if($e){we?e.location.replace(x.location):e.location.assign(x.location);return}}V=null;let ue=we===!0?dt.Replace:dt.Push,{formMethod:se,formAction:Re,formEncType:gt}=b.navigation;!q&&!re&&se&&Re&&gt&&(q=Cw(b.navigation));let _e=q||re;if(RN.has(x.status)&&_e&&Jn(_e.formMethod))await vn(ue,le,{submission:ct({},_e,{formAction:x.location}),preventScrollReset:N});else{let $e=Wp(le,q);await vn(ue,le,{overrideNavigation:$e,fetcherSubmission:re,preventScrollReset:N})}}async function Lc(b,x,j,q,re){let we=await Promise.all([...j.map(se=>ru("loader",re,se,x,s,i,u,l.v7_relativeSplatPath)),...q.map(se=>se.matches&&se.match&&se.controller?ru("loader",iu(t.history,se.path,se.controller.signal),se.match,se.matches,s,i,u,l.v7_relativeSplatPath):{type:ut.error,error:Ln(404,{pathname:se.path})})]),le=we.slice(0,j.length),ue=we.slice(j.length);return await Promise.all([Ow(b,j,le,le.map(()=>re.signal),!1,P.loaderData),Ow(b,q.map(se=>se.match),ue,q.map(se=>se.controller?se.controller.signal:null),!0)]),{results:we,loaderResults:le,fetcherResults:ue}}function Va(){Le=!0,Be.push(...Ua()),Te.forEach((b,x)=>{ne.has(x)&&(He.push(x),hr(x))})}function lr(b,x,j){j===void 0&&(j={}),P.fetchers.set(b,x),bt({fetchers:new Map(P.fetchers)},{flushSync:(j&&j.flushSync)===!0})}function cs(b,x,j,q){q===void 0&&(q={});let re=Bu(P.matches,x);cr(b),bt({errors:{[re.route.id]:j},fetchers:new Map(P.fetchers)},{flushSync:(q&&q.flushSync)===!0})}function Mc(b){return l.v7_fetcherPersist&&(Rt.set(b,(Rt.get(b)||0)+1),Me.has(b)&&Me.delete(b)),P.fetchers.get(b)||IN}function cr(b){let x=P.fetchers.get(b);ne.has(b)&&!(x&&x.state==="loading"&&K.has(b))&&hr(b),Te.delete(b),K.delete(b),ae.delete(b),Me.delete(b),P.fetchers.delete(b)}function sp(b){if(l.v7_fetcherPersist){let x=(Rt.get(b)||0)-1;x<=0?(Rt.delete(b),Me.add(b)):Rt.set(b,x)}else cr(b);bt({fetchers:new Map(P.fetchers)})}function hr(b){let x=ne.get(b);Ee(x,"Expected fetch controller: "+b),x.abort(),ne.delete(b)}function Vc(b){for(let x of b){let j=Mc(x),q=Si(j.data);P.fetchers.set(x,q)}}function $c(){let b=[],x=!1;for(let j of ae){let q=P.fetchers.get(j);Ee(q,"Expected fetcher: "+j),q.state==="loading"&&(ae.delete(j),b.push(j),x=!0)}return Vc(b),x}function Uc(b){let x=[];for(let[j,q]of K)if(q<b){let re=P.fetchers.get(j);Ee(re,"Expected fetcher: "+j),re.state==="loading"&&(hr(j),K.delete(j),x.push(j))}return Vc(x),x.length>0}function op(b,x){let j=P.blockers.get(b)||nu;return Ve.get(b)!==x&&Ve.set(b,x),j}function Bc(b){P.blockers.delete(b),Ve.delete(b)}function hs(b,x){let j=P.blockers.get(b)||nu;Ee(j.state==="unblocked"&&x.state==="blocked"||j.state==="blocked"&&x.state==="blocked"||j.state==="blocked"&&x.state==="proceeding"||j.state==="blocked"&&x.state==="unblocked"||j.state==="proceeding"&&x.state==="unblocked","Invalid blocker state transition: "+j.state+" -> "+x.state);let q=new Map(P.blockers);q.set(b,x),bt({blockers:q})}function $a(b){let{currentLocation:x,nextLocation:j,historyAction:q}=b;if(Ve.size===0)return;Ve.size>1&&Gi(!1,"A router only supports one blocker at a time");let re=Array.from(Ve.entries()),[we,le]=re[re.length-1],ue=P.blockers.get(we);if(!(ue&&ue.state==="proceeding")&&le({currentLocation:x,nextLocation:j,historyAction:q}))return we}function Ua(b){let x=[];return tt.forEach((j,q)=>{(!b||b(q))&&(j.cancel(),x.push(q),tt.delete(q))}),x}function ap(b,x,j){if(f=b,y=x,d=j||null,!g&&P.navigation===Hp){g=!0;let q=Wc(P.location,P.matches);q!=null&&bt({restoreScrollPosition:q})}return()=>{f=null,y=null,d=null}}function Hc(b,x){return d&&d(b,x.map(q=>tN(q,P.loaderData)))||b.key}function up(b,x){if(f&&y){let j=Hc(b,x);f[j]=y()}}function Wc(b,x){if(f){let j=Hc(b,x),q=f[j];if(typeof q=="number")return q}return null}function lp(b){s={},a=wg(b,i,void 0,s)}return k={get basename(){return u},get future(){return l},get state(){return P},get routes(){return o},get window(){return e},initialize:yn,subscribe:us,enableScrollRestoration:ap,navigate:Br,fetch:rp,revalidate:La,createHref:b=>t.history.createHref(b),encodeLocation:b=>t.history.encodeLocation(b),getFetcher:Mc,deleteFetcher:sp,dispose:jn,getBlocker:op,deleteBlocker:Bc,_internalFetchControllers:ne,_internalActiveDeferreds:tt,_internalSetRoutes:lp},k}function ON(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Eg(t,e,n,r,i,s,o,a){let u,l;if(o){u=[];for(let h of e)if(u.push(h),h.route.id===o){l=h;break}}else u=e,l=e[e.length-1];let c=Av(i||".",bv(u,s),ba(t.pathname,n)||t.pathname,a==="path");return i==null&&(c.search=t.search,c.hash=t.hash),(i==null||i===""||i===".")&&l&&l.route.index&&!Cv(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:ni([n,c.pathname])),Bs(c)}function ww(t,e,n,r){if(!r||!ON(r))return{path:n};if(r.formMethod&&!FN(r.formMethod))return{path:n,error:Ln(405,{method:r.formMethod})};let i=()=>({path:n,error:Ln(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=uR(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Jn(o))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((d,y)=>{let[g,_]=y;return""+d+g+"="+_+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!Jn(o))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}Ee(typeof FormData=="function","FormData is not available in this environment");let u,l;if(r.formData)u=Sg(r.formData),l=r.formData;else if(r.body instanceof FormData)u=Sg(r.body),l=r.body;else if(r.body instanceof URLSearchParams)u=r.body,l=Pw(u);else if(r.body==null)u=new URLSearchParams,l=new FormData;else try{u=new URLSearchParams(r.body),l=Pw(u)}catch{return i()}let c={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(Jn(c.formMethod))return{path:n,submission:c};let h=Fr(n);return e&&h.search&&Cv(h.search)&&u.append("index",""),h.search="?"+u,{path:Bs(h),submission:c}}function CN(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function Ew(t,e,n,r,i,s,o,a,u,l,c,h,f,d,y,g){let _=g?Object.values(g)[0]:y?Object.values(y)[0]:void 0,m=t.createURL(e.location),p=t.createURL(i),w=g?Object.keys(g)[0]:void 0,k=CN(n,w).filter((A,N)=>{let{route:V}=A;if(V.lazy)return!0;if(V.loader==null)return!1;if(s)return V.loader.hydrate?!0:e.loaderData[V.id]===void 0&&(!e.errors||e.errors[V.id]===void 0);if(xN(e.loaderData,e.matches[N],A)||a.some(ye=>ye===A.route.id))return!0;let M=e.matches[N],L=A;return Sw(A,ct({currentUrl:m,currentParams:M.params,nextUrl:p,nextParams:L.params},r,{actionResult:_,defaultShouldRevalidate:o||m.pathname+m.search===p.pathname+p.search||m.search!==p.search||aR(M,L)}))}),P=[];return c.forEach((A,N)=>{if(s||!n.some(Pe=>Pe.route.id===A.routeId)||l.has(N))return;let V=ko(f,A.path,d);if(!V){P.push({key:N,routeId:A.routeId,path:A.path,matches:null,match:null,controller:null});return}let M=e.fetchers.get(N),L=Tg(V,A.path),ye=!1;h.has(N)?ye=!1:u.includes(N)?ye=!0:M&&M.state!=="idle"&&M.data===void 0?ye=o:ye=Sw(L,ct({currentUrl:m,currentParams:e.matches[e.matches.length-1].params,nextUrl:p,nextParams:n[n.length-1].params},r,{actionResult:_,defaultShouldRevalidate:o})),ye&&P.push({key:N,routeId:A.routeId,path:A.path,matches:V,match:L,controller:new AbortController})}),[k,P]}function xN(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function aR(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Sw(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function Tw(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Ee(i,"No route found in manifest");let s={};for(let o in r){let u=i[o]!==void 0&&o!=="hasErrorBoundary";Gi(!u,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!u&&!Zk.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,ct({},e(i),{lazy:void 0}))}async function ru(t,e,n,r,i,s,o,a,u){u===void 0&&(u={});let l,c,h,f=g=>{let _,m=new Promise((p,w)=>_=w);return h=()=>_(),e.signal.addEventListener("abort",h),Promise.race([g({request:e,params:n.params,context:u.requestContext}),m])};try{let g=n.route[t];if(n.route.lazy)if(g){let _,m=await Promise.all([f(g).catch(p=>{_=p}),Tw(n.route,s,i)]);if(_)throw _;c=m[0]}else if(await Tw(n.route,s,i),g=n.route[t],g)c=await f(g);else if(t==="action"){let _=new URL(e.url),m=_.pathname+_.search;throw Ln(405,{method:e.method,pathname:m,routeId:n.route.id})}else return{type:ut.data,data:void 0};else if(g)c=await f(g);else{let _=new URL(e.url),m=_.pathname+_.search;throw Ln(404,{pathname:m})}Ee(c!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(g){l=ut.error,c=g}finally{h&&e.signal.removeEventListener("abort",h)}if(jN(c)){let g=c.status;if(PN.has(g)){let m=c.headers.get("Location");if(Ee(m,"Redirects returned/thrown from loaders/actions must have a Location header"),!sR.test(m))m=Eg(new URL(e.url),r.slice(0,r.indexOf(n)+1),o,!0,m,a);else if(!u.isStaticRequest){let p=new URL(e.url),w=m.startsWith("//")?new URL(p.protocol+m):new URL(m),I=ba(w.pathname,o)!=null;w.origin===p.origin&&I&&(m=w.pathname+w.search+w.hash)}if(u.isStaticRequest)throw c.headers.set("Location",m),c;return{type:ut.redirect,status:g,location:m,revalidate:c.headers.get("X-Remix-Revalidate")!==null,reloadDocument:c.headers.get("X-Remix-Reload-Document")!==null}}if(u.isRouteRequest)throw{type:l===ut.error?ut.error:ut.data,response:c};let _;try{let m=c.headers.get("Content-Type");m&&/\bapplication\/json\b/.test(m)?c.body==null?_=null:_=await c.json():_=await c.text()}catch(m){return{type:ut.error,error:m}}return l===ut.error?{type:l,error:new Ov(g,c.statusText,_),headers:c.headers}:{type:ut.data,data:_,statusCode:c.status,headers:c.headers}}if(l===ut.error)return{type:l,error:c};if(DN(c)){var d,y;return{type:ut.deferred,deferredData:c,statusCode:(d=c.init)==null?void 0:d.status,headers:((y=c.init)==null?void 0:y.headers)&&new Headers(c.init.headers)}}return{type:ut.data,data:c}}function iu(t,e,n,r){let i=t.createURL(uR(e)).toString(),s={signal:n};if(r&&Jn(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=Sg(r.formData):s.body=r.formData}return new Request(i,s)}function Sg(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Pw(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function kN(t,e,n,r,i){let s={},o=null,a,u=!1,l={};return n.forEach((c,h)=>{let f=e[h].route.id;if(Ee(!bs(c),"Cannot handle redirect results in processLoaderData"),No(c)){let d=Bu(t,f),y=c.error;r&&(y=Object.values(r)[0],r=void 0),o=o||{},o[d.route.id]==null&&(o[d.route.id]=y),s[f]=void 0,u||(u=!0,a=rR(c.error)?c.error.status:500),c.headers&&(l[f]=c.headers)}else Is(c)?(i.set(f,c.deferredData),s[f]=c.deferredData.data):s[f]=c.data,c.statusCode!=null&&c.statusCode!==200&&!u&&(a=c.statusCode),c.headers&&(l[f]=c.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:l}}function Rw(t,e,n,r,i,s,o,a){let{loaderData:u,errors:l}=kN(e,n,r,i,a);for(let c=0;c<s.length;c++){let{key:h,match:f,controller:d}=s[c];Ee(o!==void 0&&o[c]!==void 0,"Did not find corresponding fetcher result");let y=o[c];if(!(d&&d.signal.aborted))if(No(y)){let g=Bu(t.matches,f?.route.id);l&&l[g.route.id]||(l=ct({},l,{[g.route.id]:y.error})),t.fetchers.delete(h)}else if(bs(y))Ee(!1,"Unhandled fetcher revalidation redirect");else if(Is(y))Ee(!1,"Unhandled fetcher deferred data");else{let g=Si(y.data);t.fetchers.set(h,g)}}return{loaderData:u,errors:l}}function Iw(t,e,n,r){let i=ct({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function Bu(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function bw(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ln(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?a="defer() is not supported in actions":s==="invalid-body"&&(a="Unable to encode submission body")):t===403?(o="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",a='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new Ov(t||500,o,new Error(a),!0)}function Aw(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(bs(n))return{result:n,idx:e}}}function uR(t){let e=typeof t=="string"?Fr(t):t;return Bs(ct({},e,{hash:""}))}function NN(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Is(t){return t.type===ut.deferred}function No(t){return t.type===ut.error}function bs(t){return(t&&t.type)===ut.redirect}function DN(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function jN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function FN(t){return TN.has(t.toLowerCase())}function Jn(t){return EN.has(t.toLowerCase())}async function Ow(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],u=e[o];if(!u)continue;let l=t.find(h=>h.route.id===u.route.id),c=l!=null&&!aR(l,u)&&(s&&s[u.route.id])!==void 0;if(Is(a)&&(i||c)){let h=r[o];Ee(h,"Expected an AbortSignal for revalidating fetcher deferred result"),await lR(a,h,i).then(f=>{f&&(n[o]=f||n[o])})}}}async function lR(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:ut.data,data:t.deferredData.unwrappedData}}catch(i){return{type:ut.error,error:i}}return{type:ut.data,data:t.deferredData.data}}}function Cv(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Tg(t,e){let n=typeof e=="string"?Fr(e).search:e.search;if(t[t.length-1].route.index&&Cv(n||""))return t[t.length-1];let r=nR(t);return r[r.length-1]}function Cw(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Wp(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function LN(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function su(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function MN(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Si(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function VN(t,e){try{let n=t.sessionStorage.getItem(oR);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function $N(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(oR,JSON.stringify(n))}catch(r){Gi(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ml(){return ml=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ml.apply(this,arguments)}const ud=O.createContext(null),cR=O.createContext(null),eo=O.createContext(null),ld=O.createContext(null),to=O.createContext({outlet:null,matches:[],isDataRoute:!1}),hR=O.createContext(null);function UN(t,e){let{relative:n}=e===void 0?{}:e;pc()||Ee(!1);let{basename:r,navigator:i}=O.useContext(eo),{hash:s,pathname:o,search:a}=dR(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:ni([r,o])),i.createHref({pathname:u,search:a,hash:s})}function pc(){return O.useContext(ld)!=null}function Aa(){return pc()||Ee(!1),O.useContext(ld).location}function fR(t){O.useContext(eo).static||O.useLayoutEffect(t)}function xv(){let{isDataRoute:t}=O.useContext(to);return t?ZN():BN()}function BN(){pc()||Ee(!1);let t=O.useContext(ud),{basename:e,future:n,navigator:r}=O.useContext(eo),{matches:i}=O.useContext(to),{pathname:s}=Aa(),o=JSON.stringify(bv(i,n.v7_relativeSplatPath)),a=O.useRef(!1);return fR(()=>{a.current=!0}),O.useCallback(function(l,c){if(c===void 0&&(c={}),!a.current)return;if(typeof l=="number"){r.go(l);return}let h=Av(l,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ni([e,h.pathname])),(c.replace?r.replace:r.push)(h,c.state,c)},[e,r,o,s,t])}function dR(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=O.useContext(eo),{matches:i}=O.useContext(to),{pathname:s}=Aa(),o=JSON.stringify(bv(i,r.v7_relativeSplatPath));return O.useMemo(()=>Av(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function HN(t,e){return pR(t,e)}function pR(t,e,n,r){pc()||Ee(!1);let{navigator:i}=O.useContext(eo),{matches:s}=O.useContext(to),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let l=Aa(),c;if(e){var h;let _=typeof e=="string"?Fr(e):e;u==="/"||(h=_.pathname)!=null&&h.startsWith(u)||Ee(!1),c=_}else c=l;let f=c.pathname||"/",d=u==="/"?f:f.slice(u.length)||"/",y=ko(t,{pathname:d}),g=KN(y&&y.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:ni([u,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?u:ni([u,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,n,r);return e&&g?O.createElement(ld.Provider,{value:{location:ml({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:dt.Pop}},g):g}function WN(){let t=XN(),e=rR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:i},n):null,null)}const zN=O.createElement(WN,null);class qN extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?O.createElement(to.Provider,{value:this.props.routeContext},O.createElement(hR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function QN(t){let{routeContext:e,match:n,children:r}=t,i=O.useContext(ud);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),O.createElement(to.Provider,{value:e},r)}function KN(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(h=>h.route.id&&a?.[h.route.id]);c>=0||Ee(!1),o=o.slice(0,Math.min(o.length,c+1))}let u=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let h=o[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=c),h.route.id){let{loaderData:f,errors:d}=n,y=h.route.loader&&f[h.route.id]===void 0&&(!d||d[h.route.id]===void 0);if(h.route.lazy||y){u=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((c,h,f)=>{let d,y=!1,g=null,_=null;n&&(d=a&&h.route.id?a[h.route.id]:void 0,g=h.route.errorElement||zN,u&&(l<0&&f===0?(eD("route-fallback",!1),y=!0,_=null):l===f&&(y=!0,_=h.route.hydrateFallbackElement||null)));let m=e.concat(o.slice(0,f+1)),p=()=>{let w;return d?w=g:y?w=_:h.route.Component?w=O.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=c,O.createElement(QN,{match:h,routeContext:{outlet:c,matches:m,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?O.createElement(qN,{location:n.location,revalidation:n.revalidation,component:g,error:d,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var mR=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(mR||{}),yf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(yf||{});function GN(t){let e=O.useContext(ud);return e||Ee(!1),e}function YN(t){let e=O.useContext(cR);return e||Ee(!1),e}function JN(t){let e=O.useContext(to);return e||Ee(!1),e}function gR(t){let e=JN(),n=e.matches[e.matches.length-1];return n.route.id||Ee(!1),n.route.id}function XN(){var t;let e=O.useContext(hR),n=YN(yf.UseRouteError),r=gR(yf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function ZN(){let{router:t}=GN(mR.UseNavigateStable),e=gR(yf.UseNavigateStable),n=O.useRef(!1);return fR(()=>{n.current=!0}),O.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ml({fromRouteId:e},s)))},[t,e])}const xw={};function eD(t,e,n){!e&&!xw[t]&&(xw[t]=!0)}function gs(t){Ee(!1)}function tD(t){let{basename:e="/",children:n=null,location:r,navigationType:i=dt.Pop,navigator:s,static:o=!1,future:a}=t;pc()&&Ee(!1);let u=e.replace(/^\/*/,"/"),l=O.useMemo(()=>({basename:u,navigator:s,static:o,future:ml({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof r=="string"&&(r=Fr(r));let{pathname:c="/",search:h="",hash:f="",state:d=null,key:y="default"}=r,g=O.useMemo(()=>{let _=ba(c,u);return _==null?null:{location:{pathname:_,search:h,hash:f,state:d,key:y},navigationType:i}},[u,c,h,f,d,y,i]);return g==null?null:O.createElement(eo.Provider,{value:l},O.createElement(ld.Provider,{children:n,value:g}))}function nD(t){let{children:e,location:n}=t;return HN(Pg(e),n)}new Promise(()=>{});function Pg(t,e){e===void 0&&(e=[]);let n=[];return O.Children.forEach(t,(r,i)=>{if(!O.isValidElement(r))return;let s=[...e,i];if(r.type===O.Fragment){n.push.apply(n,Pg(r.props.children,s));return}r.type!==gs&&Ee(!1),!r.props.index||!r.props.children||Ee(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Pg(r.props.children,s)),n.push(o)}),n}function rD(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:O.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:O.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:O.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gl(){return gl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gl.apply(this,arguments)}function iD(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function sD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function oD(t,e){return t.button===0&&(!e||e==="_self")&&!sD(t)}const aD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],uD="6";try{window.__reactRouterVersion=uD}catch{}function lD(t,e){return AN({basename:e?.basename,future:gl({},e?.future,{v7_prependBasename:!0}),history:Yk({window:e?.window}),hydrationData:e?.hydrationData||cD(),routes:t,mapRouteProperties:rD,window:e?.window}).initialize()}function cD(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=gl({},e,{errors:hD(e.errors)})),e}function hD(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Ov(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const fD=O.createContext({isTransitioning:!1}),dD=O.createContext(new Map),pD="startTransition",kw=GT[pD],mD="flushSync",Nw=Gk[mD];function gD(t){kw?kw(t):t()}function ou(t){Nw?Nw(t):t()}let yD=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function vD(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=O.useState(n.state),[o,a]=O.useState(),[u,l]=O.useState({isTransitioning:!1}),[c,h]=O.useState(),[f,d]=O.useState(),[y,g]=O.useState(),_=O.useRef(new Map),{v7_startTransition:m}=r||{},p=O.useCallback(A=>{m?gD(A):A()},[m]),w=O.useCallback((A,N)=>{let{deletedFetchers:V,unstable_flushSync:M,unstable_viewTransitionOpts:L}=N;V.forEach(Pe=>_.current.delete(Pe)),A.fetchers.forEach((Pe,Le)=>{Pe.data!==void 0&&_.current.set(Le,Pe.data)});let ye=n.window==null||typeof n.window.document.startViewTransition!="function";if(!L||ye){M?ou(()=>s(A)):p(()=>s(A));return}if(M){ou(()=>{f&&(c&&c.resolve(),f.skipTransition()),l({isTransitioning:!0,flushSync:!0,currentLocation:L.currentLocation,nextLocation:L.nextLocation})});let Pe=n.window.document.startViewTransition(()=>{ou(()=>s(A))});Pe.finished.finally(()=>{ou(()=>{h(void 0),d(void 0),a(void 0),l({isTransitioning:!1})})}),ou(()=>d(Pe));return}f?(c&&c.resolve(),f.skipTransition(),g({state:A,currentLocation:L.currentLocation,nextLocation:L.nextLocation})):(a(A),l({isTransitioning:!0,flushSync:!1,currentLocation:L.currentLocation,nextLocation:L.nextLocation}))},[n.window,f,c,_,p]);O.useLayoutEffect(()=>n.subscribe(w),[n,w]),O.useEffect(()=>{u.isTransitioning&&!u.flushSync&&h(new yD)},[u]),O.useEffect(()=>{if(c&&o&&n.window){let A=o,N=c.promise,V=n.window.document.startViewTransition(async()=>{p(()=>s(A)),await N});V.finished.finally(()=>{h(void 0),d(void 0),a(void 0),l({isTransitioning:!1})}),d(V)}},[p,o,c,n.window]),O.useEffect(()=>{c&&o&&i.location.key===o.location.key&&c.resolve()},[c,f,i.location,o]),O.useEffect(()=>{!u.isTransitioning&&y&&(a(y.state),l({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),g(void 0))},[u.isTransitioning,y]),O.useEffect(()=>{},[]);let I=O.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:A=>n.navigate(A),push:(A,N,V)=>n.navigate(A,{state:N,preventScrollReset:V?.preventScrollReset}),replace:(A,N,V)=>n.navigate(A,{replace:!0,state:N,preventScrollReset:V?.preventScrollReset})}),[n]),k=n.basename||"/",P=O.useMemo(()=>({router:n,navigator:I,static:!1,basename:k}),[n,I,k]);return O.createElement(O.Fragment,null,O.createElement(ud.Provider,{value:P},O.createElement(cR.Provider,{value:i},O.createElement(dD.Provider,{value:_.current},O.createElement(fD.Provider,{value:u},O.createElement(tD,{basename:k,location:i.location,navigationType:i.historyAction,navigator:I,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?O.createElement(_D,{routes:n.routes,future:n.future,state:i}):e))))),null)}function _D(t){let{routes:e,future:n,state:r}=t;return pR(e,void 0,r,n)}const wD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ED=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dw=O.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:u,to:l,preventScrollReset:c,unstable_viewTransition:h}=e,f=iD(e,aD),{basename:d}=O.useContext(eo),y,g=!1;if(typeof l=="string"&&ED.test(l)&&(y=l,wD))try{let w=new URL(window.location.href),I=l.startsWith("//")?new URL(w.protocol+l):new URL(l),k=ba(I.pathname,d);I.origin===w.origin&&k!=null?l=k+I.search+I.hash:g=!0}catch{}let _=UN(l,{relative:i}),m=SD(l,{replace:o,state:a,target:u,preventScrollReset:c,relative:i,unstable_viewTransition:h});function p(w){r&&r(w),w.defaultPrevented||m(w)}return O.createElement("a",gl({},f,{href:y||_,onClick:g||s?r:p,ref:n,target:u}))});var jw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(jw||(jw={}));var Fw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Fw||(Fw={}));function SD(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,u=xv(),l=Aa(),c=dR(t,{relative:o});return O.useCallback(h=>{if(oD(h,n)){h.preventDefault();let f=r!==void 0?r:Bs(l)===Bs(c);u(t,{replace:f,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[l,u,c,r,i,n,t,s,o,a])}var Lw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},TD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},vR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|l>>6,d=l&63;u||(d=64,o||(f=64)),r.push(n[c],n[h],n[f],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):TD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||h==null)throw new PD;const f=s<<2|a>>4;if(r.push(f),l!==64){const d=a<<4&240|l>>2;if(r.push(d),h!==64){const y=l<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class PD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RD=function(t){const e=yR(t);return vR.encodeByteArray(e,!0)},vf=function(t){return RD(t).replace(/\./g,"")},_R=function(t){try{return vR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=()=>ID().__FIREBASE_DEFAULTS__,AD=()=>{if(typeof process>"u"||typeof Lw>"u")return;const t=Lw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},OD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_R(t[1]);return e&&JSON.parse(e)},cd=()=>{try{return bD()||AD()||OD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wR=t=>{var e,n;return(n=(e=cd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ER=t=>{const e=wR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},SR=()=>{var t;return(t=cd())===null||t===void 0?void 0:t.config},TR=t=>{var e;return(e=cd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[vf(JSON.stringify(n)),vf(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pt())}function kD(){var t;const e=(t=cd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ND(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function DD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jD(){const t=Pt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function FD(){return!kD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RR(){try{return typeof indexedDB=="object"}catch{return!1}}function LD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD="FirebaseError";class Lr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=MD,Object.setPrototypeOf(this,Lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mc.prototype.create)}}class mc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?VD(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Lr(i,a,r)}}function VD(t,e){return t.replace($D,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const $D=/\{\$([^}]+)}/g;function UD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function _f(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Mw(s)&&Mw(o)){if(!_f(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Mw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Pu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ru(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function BD(t,e){const n=new HD(t,e);return n.subscribe.bind(n)}class HD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");WD(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=zp),i.error===void 0&&(i.error=zp),i.complete===void 0&&(i.complete=zp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function zp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t){return t&&t._delegate?t._delegate:t}class Yi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new CD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QD(e))try{this.getOrInitializeService({instanceIdentifier:ys})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ys){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ys){return this.instances.has(e)}getOptions(e=ys){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ys){return this.component?this.component.multipleInstances?e:ys:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qD(t){return t===ys?void 0:t}function QD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new zD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ae||(Ae={}));const GD={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},YD=Ae.INFO,JD={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},XD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=JD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kv{constructor(e){this.name=e,this._logLevel=YD,this._logHandler=XD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const ZD=(t,e)=>e.some(n=>t instanceof n);let Vw,$w;function ej(){return Vw||(Vw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tj(){return $w||($w=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IR=new WeakMap,Rg=new WeakMap,bR=new WeakMap,qp=new WeakMap,Nv=new WeakMap;function nj(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Bi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&IR.set(n,t)}).catch(()=>{}),Nv.set(e,t),e}function rj(t){if(Rg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Rg.set(t,e)}let Ig={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Rg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ij(t){Ig=t(Ig)}function sj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Qp(this),e,...n);return bR.set(r,e.sort?e.sort():[e]),Bi(r)}:tj().includes(t)?function(...e){return t.apply(Qp(this),e),Bi(IR.get(this))}:function(...e){return Bi(t.apply(Qp(this),e))}}function oj(t){return typeof t=="function"?sj(t):(t instanceof IDBTransaction&&rj(t),ZD(t,ej())?new Proxy(t,Ig):t)}function Bi(t){if(t instanceof IDBRequest)return nj(t);if(qp.has(t))return qp.get(t);const e=oj(t);return e!==t&&(qp.set(t,e),Nv.set(e,t)),e}const Qp=t=>Nv.get(t);function aj(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Bi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Bi(o.result),u.oldVersion,u.newVersion,Bi(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const uj=["get","getKey","getAll","getAllKeys","count"],lj=["put","add","delete","clear"],Kp=new Map;function Uw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Kp.get(e))return Kp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=lj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||uj.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return Kp.set(e,s),s}ij(t=>({...t,get:(e,n,r)=>Uw(e,n)||t.get(e,n,r),has:(e,n)=>!!Uw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function hj(t){const e=t.getComponent();return e?.type==="VERSION"}const bg="@firebase/app",Bw="0.9.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=new kv("@firebase/app"),fj="@firebase/app-compat",dj="@firebase/analytics-compat",pj="@firebase/analytics",mj="@firebase/app-check-compat",gj="@firebase/app-check",yj="@firebase/auth",vj="@firebase/auth-compat",_j="@firebase/database",wj="@firebase/database-compat",Ej="@firebase/functions",Sj="@firebase/functions-compat",Tj="@firebase/installations",Pj="@firebase/installations-compat",Rj="@firebase/messaging",Ij="@firebase/messaging-compat",bj="@firebase/performance",Aj="@firebase/performance-compat",Oj="@firebase/remote-config",Cj="@firebase/remote-config-compat",xj="@firebase/storage",kj="@firebase/storage-compat",Nj="@firebase/firestore",Dj="@firebase/firestore-compat",jj="firebase",Fj="10.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag="[DEFAULT]",Lj={[bg]:"fire-core",[fj]:"fire-core-compat",[pj]:"fire-analytics",[dj]:"fire-analytics-compat",[gj]:"fire-app-check",[mj]:"fire-app-check-compat",[yj]:"fire-auth",[vj]:"fire-auth-compat",[_j]:"fire-rtdb",[wj]:"fire-rtdb-compat",[Ej]:"fire-fn",[Sj]:"fire-fn-compat",[Tj]:"fire-iid",[Pj]:"fire-iid-compat",[Rj]:"fire-fcm",[Ij]:"fire-fcm-compat",[bj]:"fire-perf",[Aj]:"fire-perf-compat",[Oj]:"fire-rc",[Cj]:"fire-rc-compat",[xj]:"fire-gcs",[kj]:"fire-gcs-compat",[Nj]:"fire-fst",[Dj]:"fire-fst-compat","fire-js":"fire-js",[jj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf=new Map,Og=new Map;function Mj(t,e){try{t.container.addComponent(e)}catch(n){Hs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ws(t){const e=t.name;if(Og.has(e))return Hs.debug(`There were multiple attempts to register component ${e}.`),!1;Og.set(e,t);for(const n of wf.values())Mj(n,t);return!0}function hd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Hi=new mc("app","Firebase",Vj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=Fj;function AR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ag,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Hi.create("bad-app-name",{appName:String(i)});if(n||(n=SR()),!n)throw Hi.create("no-options");const s=wf.get(i);if(s){if(_f(n,s.options)&&_f(r,s.config))return s;throw Hi.create("duplicate-app",{appName:i})}const o=new KD(i);for(const u of Og.values())o.addComponent(u);const a=new $j(n,r,o);return wf.set(i,a),a}function Dv(t=Ag){const e=wf.get(t);if(!e&&t===Ag&&SR())return AR();if(!e)throw Hi.create("no-app",{appName:t});return e}function Rr(t,e,n){var r;let i=(r=Lj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hs.warn(a.join(" "));return}Ws(new Yi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj="firebase-heartbeat-database",Bj=1,yl="firebase-heartbeat-store";let Gp=null;function OR(){return Gp||(Gp=aj(Uj,Bj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(yl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hi.create("idb-open",{originalErrorMessage:t.message})})),Gp}async function Hj(t){try{const n=(await OR()).transaction(yl),r=await n.objectStore(yl).get(CR(t));return await n.done,r}catch(e){if(e instanceof Lr)Hs.warn(e.message);else{const n=Hi.create("idb-get",{originalErrorMessage:e?.message});Hs.warn(n.message)}}}async function Hw(t,e){try{const r=(await OR()).transaction(yl,"readwrite");await r.objectStore(yl).put(e,CR(t)),await r.done}catch(n){if(n instanceof Lr)Hs.warn(n.message);else{const r=Hi.create("idb-set",{originalErrorMessage:n?.message});Hs.warn(r.message)}}}function CR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj=1024,zj=30*24*60*60*1e3;class qj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Kj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Ww();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=zj}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ww(),{heartbeatsToSend:r,unsentEntries:i}=Qj(this._heartbeatsCache.heartbeats),s=vf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Ww(){return new Date().toISOString().substring(0,10)}function Qj(t,e=Wj){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),zw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),zw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Kj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RR()?LD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Hj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Hw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Hw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function zw(t){return vf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(t){Ws(new Yi("platform-logger",e=>new cj(e),"PRIVATE")),Ws(new Yi("heartbeat",e=>new qj(e),"PRIVATE")),Rr(bg,Bw,t),Rr(bg,Bw,"esm2017"),Rr("fire-js","")}Gj("");var Yj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Y,jv=jv||{},de=Yj||self;function fd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function yc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Jj(t){return Object.prototype.hasOwnProperty.call(t,Yp)&&t[Yp]||(t[Yp]=++Xj)}var Yp="closure_uid_"+(1e9*Math.random()>>>0),Xj=0;function Zj(t,e,n){return t.call.apply(t.bind,arguments)}function eF(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function tn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?tn=Zj:tn=eF,tn.apply(null,arguments)}function lh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Lt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function rs(){this.s=this.s,this.o=this.o}var tF=0;rs.prototype.s=!1;rs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),tF!=0)&&Jj(this)};rs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const xR=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Fv(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function qw(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(fd(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function nn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}nn.prototype.h=function(){this.defaultPrevented=!0};var nF=function(){if(!de.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};de.addEventListener("test",n,e),de.removeEventListener("test",n,e)}catch{}return t}();function vl(t){return/^[\s\xa0]*$/.test(t)}function dd(){var t=de.navigator;return t&&(t=t.userAgent)?t:""}function wr(t){return dd().indexOf(t)!=-1}function Lv(t){return Lv[" "](t),t}Lv[" "]=function(){};function rF(t,e){var n=GF;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var iF=wr("Opera"),sa=wr("Trident")||wr("MSIE"),kR=wr("Edge"),Cg=kR||sa,NR=wr("Gecko")&&!(dd().toLowerCase().indexOf("webkit")!=-1&&!wr("Edge"))&&!(wr("Trident")||wr("MSIE"))&&!wr("Edge"),sF=dd().toLowerCase().indexOf("webkit")!=-1&&!wr("Edge");function DR(){var t=de.document;return t?t.documentMode:void 0}var xg;e:{var Jp="",Xp=function(){var t=dd();if(NR)return/rv:([^\);]+)(\)|;)/.exec(t);if(kR)return/Edge\/([\d\.]+)/.exec(t);if(sa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(sF)return/WebKit\/(\S+)/.exec(t);if(iF)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Xp&&(Jp=Xp?Xp[1]:""),sa){var Zp=DR();if(Zp!=null&&Zp>parseFloat(Jp)){xg=String(Zp);break e}}xg=Jp}var kg;if(de.document&&sa){var Qw=DR();kg=Qw||parseInt(xg,10)||void 0}else kg=void 0;var oF=kg;function _l(t,e){if(nn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(NR){e:{try{Lv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:aF[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&_l.$.h.call(this)}}Lt(_l,nn);var aF={2:"touch",3:"pen",4:"mouse"};_l.prototype.h=function(){_l.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var vc="closure_listenable_"+(1e6*Math.random()|0),uF=0;function lF(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++uF,this.fa=this.ia=!1}function pd(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Mv(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function cF(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function jR(t){const e={};for(const n in t)e[n]=t[n];return e}const Kw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function FR(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<Kw.length;s++)n=Kw[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function md(t){this.src=t,this.g={},this.h=0}md.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Dg(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new lF(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Ng(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=xR(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(pd(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Dg(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Vv="closure_lm_"+(1e6*Math.random()|0),em={};function LR(t,e,n,r,i){if(r&&r.once)return VR(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)LR(t,e[s],n,r,i);return null}return n=Bv(n),t&&t[vc]?t.O(e,n,yc(r)?!!r.capture:!!r,i):MR(t,e,n,!1,r,i)}function MR(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=yc(i)?!!i.capture:!!i,a=Uv(t);if(a||(t[Vv]=a=new md(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=hF(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)nF||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(UR(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function hF(){function t(n){return e.call(t.src,t.listener,n)}const e=fF;return t}function VR(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)VR(t,e[s],n,r,i);return null}return n=Bv(n),t&&t[vc]?t.P(e,n,yc(r)?!!r.capture:!!r,i):MR(t,e,n,!0,r,i)}function $R(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)$R(t,e[s],n,r,i);else r=yc(r)?!!r.capture:!!r,n=Bv(n),t&&t[vc]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Dg(s,n,r,i),-1<n&&(pd(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Uv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Dg(e,n,r,i)),(n=-1<t?e[t]:null)&&$v(n))}function $v(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[vc])Ng(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(UR(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Uv(e))?(Ng(n,t),n.h==0&&(n.src=null,e[Vv]=null)):pd(t)}}}function UR(t){return t in em?em[t]:em[t]="on"+t}function fF(t,e){if(t.fa)t=!0;else{e=new _l(e,this);var n=t.listener,r=t.la||t.src;t.ia&&$v(t),t=n.call(r,e)}return t}function Uv(t){return t=t[Vv],t instanceof md?t:null}var tm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bv(t){return typeof t=="function"?t:(t[tm]||(t[tm]=function(e){return t.handleEvent(e)}),t[tm])}function Ft(){rs.call(this),this.i=new md(this),this.S=this,this.J=null}Lt(Ft,rs);Ft.prototype[vc]=!0;Ft.prototype.removeEventListener=function(t,e,n,r){$R(this,t,e,n,r)};function zt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new nn(e,t);else if(e instanceof nn)e.target=e.target||t;else{var i=e;e=new nn(r,t),FR(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=ch(o,r,!0,e)&&i}if(o=e.g=t,i=ch(o,r,!0,e)&&i,i=ch(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=ch(o,r,!1,e)&&i}Ft.prototype.N=function(){if(Ft.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)pd(n[r]);delete t.g[e],t.h--}}this.J=null};Ft.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Ft.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function ch(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&Ng(t.i,o),i=a.call(u,r)!==!1&&i}}return i&&!r.defaultPrevented}var Hv=de.JSON.stringify;class dF{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function pF(){var t=Wv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class mF{constructor(){this.h=this.g=null}add(e,n){const r=BR.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var BR=new dF(()=>new gF,t=>t.reset());class gF{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function yF(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function vF(t){de.setTimeout(()=>{throw t},0)}let wl,El=!1,Wv=new mF,HR=()=>{const t=de.Promise.resolve(void 0);wl=()=>{t.then(_F)}};var _F=()=>{for(var t;t=pF();){try{t.h.call(t.g)}catch(n){vF(n)}var e=BR;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}El=!1};function gd(t,e){Ft.call(this),this.h=t||1,this.g=e||de,this.j=tn(this.qb,this),this.l=Date.now()}Lt(gd,Ft);Y=gd.prototype;Y.ga=!1;Y.T=null;Y.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),zt(this,"tick"),this.ga&&(zv(this),this.start()))}};Y.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function zv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Y.N=function(){gd.$.N.call(this),zv(this),delete this.g};function qv(t,e,n){if(typeof t=="function")n&&(t=tn(t,n));else if(t&&typeof t.handleEvent=="function")t=tn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:de.setTimeout(t,e||0)}function WR(t){t.g=qv(()=>{t.g=null,t.i&&(t.i=!1,WR(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class wF extends rs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:WR(this)}N(){super.N(),this.g&&(de.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sl(t){rs.call(this),this.h=t,this.g={}}Lt(Sl,rs);var Gw=[];function zR(t,e,n,r){Array.isArray(n)||(n&&(Gw[0]=n.toString()),n=Gw);for(var i=0;i<n.length;i++){var s=LR(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function qR(t){Mv(t.g,function(e,n){this.g.hasOwnProperty(n)&&$v(e)},t),t.g={}}Sl.prototype.N=function(){Sl.$.N.call(this),qR(this)};Sl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function yd(){this.g=!0}yd.prototype.Ea=function(){this.g=!1};function EF(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+l+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function SF(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Do(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+PF(t,n)+(r?" "+r:"")})}function TF(t,e){t.info(function(){return"TIMEOUT: "+e})}yd.prototype.info=function(){};function PF(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Hv(n)}catch{return e}}var ro={},Yw=null;function vd(){return Yw=Yw||new Ft}ro.Ta="serverreachability";function QR(t){nn.call(this,ro.Ta,t)}Lt(QR,nn);function Tl(t){const e=vd();zt(e,new QR(e))}ro.STAT_EVENT="statevent";function KR(t,e){nn.call(this,ro.STAT_EVENT,t),this.stat=e}Lt(KR,nn);function dn(t){const e=vd();zt(e,new KR(e,t))}ro.Ua="timingevent";function GR(t,e){nn.call(this,ro.Ua,t),this.size=e}Lt(GR,nn);function _c(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return de.setTimeout(function(){t()},e)}var _d={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},YR={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Qv(){}Qv.prototype.h=null;function Jw(t){return t.h||(t.h=t.i())}function JR(){}var wc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Kv(){nn.call(this,"d")}Lt(Kv,nn);function Gv(){nn.call(this,"c")}Lt(Gv,nn);var jg;function wd(){}Lt(wd,Qv);wd.prototype.g=function(){return new XMLHttpRequest};wd.prototype.i=function(){return{}};jg=new wd;function Ec(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Sl(this),this.P=RF,t=Cg?125:void 0,this.V=new gd(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new XR}function XR(){this.i=null,this.g="",this.h=!1}var RF=45e3,ZR={},Fg={};Y=Ec.prototype;Y.setTimeout=function(t){this.P=t};function Lg(t,e,n){t.L=1,t.A=Sd(ai(e)),t.u=n,t.S=!0,eI(t,null)}function eI(t,e){t.G=Date.now(),Sc(t),t.B=ai(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),uI(n.i,"t",r),t.o=0,n=t.l.J,t.h=new XR,t.g=OI(t.l,n?e:null,!t.u),0<t.O&&(t.M=new wF(tn(t.Pa,t,t.g),t.O)),zR(t.U,t.g,"readystatechange",t.nb),e=t.I?jR(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Tl(),EF(t.j,t.v,t.B,t.m,t.W,t.u)}Y.nb=function(t){t=t.target;const e=this.M;e&&Er(t)==3?e.l():this.Pa(t)};Y.Pa=function(t){try{if(t==this.g)e:{const c=Er(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||Cg||this.g&&(this.h.h||this.g.ja()||tE(this.g)))){this.J||c!=4||e==7||(e==8||0>=h?Tl(3):Tl(2)),Ed(this);var n=this.g.da();this.ca=n;t:if(tI(this)){var r=tE(this.g);t="";var i=r.length,s=Er(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){As(this),Hu(this);var o="";break t}this.h.i=new de.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,SF(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vl(a)){var l=a;break t}}l=null}if(n=l)Do(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mg(this,n);else{this.i=!1,this.s=3,dn(12),As(this),Hu(this);break e}}this.S?(nI(this,c,o),Cg&&this.i&&c==3&&(zR(this.U,this.V,"tick",this.mb),this.V.start())):(Do(this.j,this.m,o,null),Mg(this,o)),c==4&&As(this),this.i&&!this.J&&(c==4?RI(this.l,this):(this.i=!1,Sc(this)))}else qF(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,dn(12)):(this.s=0,dn(13)),As(this),Hu(this)}}}catch{}finally{}};function tI(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function nI(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=IF(t,n),i==Fg){e==4&&(t.s=4,dn(14),r=!1),Do(t.j,t.m,null,"[Incomplete Response]");break}else if(i==ZR){t.s=4,dn(15),Do(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Do(t.j,t.m,i,null),Mg(t,i);tI(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,dn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),t_(e),e.M=!0,dn(11))):(Do(t.j,t.m,n,"[Invalid Chunked Response]"),As(t),Hu(t))}Y.mb=function(){if(this.g){var t=Er(this.g),e=this.g.ja();this.o<e.length&&(Ed(this),nI(this,t,e),this.i&&t!=4&&Sc(this))}};function IF(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Fg:(n=Number(e.substring(n,r)),isNaN(n)?ZR:(r+=1,r+n>e.length?Fg:(e=e.slice(r,r+n),t.o=r+n,e)))}Y.cancel=function(){this.J=!0,As(this)};function Sc(t){t.Y=Date.now()+t.P,rI(t,t.P)}function rI(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=_c(tn(t.lb,t),e)}function Ed(t){t.C&&(de.clearTimeout(t.C),t.C=null)}Y.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(TF(this.j,this.B),this.L!=2&&(Tl(),dn(17)),As(this),this.s=2,Hu(this)):rI(this,this.Y-t)};function Hu(t){t.l.H==0||t.J||RI(t.l,t)}function As(t){Ed(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,zv(t.V),qR(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Mg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Vg(n.i,t))){if(!t.K&&Vg(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Tf(n),Id(n);else break e;e_(n),dn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=_c(tn(n.ib,n),6e3));if(1>=hI(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Os(n,11)}else if((t.K||n.g==t)&&Tf(n),!vl(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];const c=l[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=l[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=l[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=t.g;if(d){const y=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var s=r.i;s.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Yv(s,s.h),s.h=null))}if(r.F){const g=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Je(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=AI(r,r.J?r.pa:null,r.Y),o.K){fI(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.C&&(Ed(a),Sc(a)),r.g=o}else TI(r);0<n.j.length&&bd(n)}else l[0]!="stop"&&l[0]!="close"||Os(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Os(n,7):Zv(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}Tl(4)}catch{}}function bF(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(fd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function AF(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(fd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function iI(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(fd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=AF(t),r=bF(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var sI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function OF(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function js(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof js){this.h=t.h,Ef(this,t.j),this.s=t.s,this.g=t.g,Sf(this,t.m),this.l=t.l;var e=t.i,n=new Pl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Xw(this,n),this.o=t.o}else t&&(e=String(t).match(sI))?(this.h=!1,Ef(this,e[1]||"",!0),this.s=Iu(e[2]||""),this.g=Iu(e[3]||"",!0),Sf(this,e[4]),this.l=Iu(e[5]||"",!0),Xw(this,e[6]||"",!0),this.o=Iu(e[7]||"")):(this.h=!1,this.i=new Pl(null,this.h))}js.prototype.toString=function(){var t=[],e=this.j;e&&t.push(bu(e,Zw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(bu(e,Zw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(bu(n,n.charAt(0)=="/"?kF:xF,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",bu(n,DF)),t.join("")};function ai(t){return new js(t)}function Ef(t,e,n){t.j=n?Iu(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Sf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Xw(t,e,n){e instanceof Pl?(t.i=e,jF(t.i,t.h)):(n||(e=bu(e,NF)),t.i=new Pl(e,t.h))}function Je(t,e,n){t.i.set(e,n)}function Sd(t){return Je(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Iu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function bu(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,CF),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function CF(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Zw=/[#\/\?@]/g,xF=/[#\?:]/g,kF=/[#\?]/g,NF=/[#\?@]/g,DF=/#/g;function Pl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function is(t){t.g||(t.g=new Map,t.h=0,t.i&&OF(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Y=Pl.prototype;Y.add=function(t,e){is(this),this.i=null,t=Oa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function oI(t,e){is(t),e=Oa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function aI(t,e){return is(t),e=Oa(t,e),t.g.has(e)}Y.forEach=function(t,e){is(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Y.ta=function(){is(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};Y.Z=function(t){is(this);let e=[];if(typeof t=="string")aI(this,t)&&(e=e.concat(this.g.get(Oa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Y.set=function(t,e){return is(this),this.i=null,t=Oa(this,t),aI(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Y.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function uI(t,e,n){oI(t,e),0<n.length&&(t.i=null,t.g.set(Oa(t,e),Fv(n)),t.h+=n.length)}Y.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Oa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function jF(t,e){e&&!t.j&&(is(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(oI(this,r),uI(this,i,n))},t)),t.j=e}var FF=class{constructor(t,e){this.g=t,this.map=e}};function lI(t){this.l=t||LF,de.PerformanceNavigationTiming?(t=de.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(de.g&&de.g.Ka&&de.g.Ka()&&de.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var LF=10;function cI(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function hI(t){return t.h?1:t.g?t.g.size:0}function Vg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Yv(t,e){t.g?t.g.add(e):t.h=e}function fI(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}lI.prototype.cancel=function(){if(this.i=dI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function dI(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Fv(t.i)}var MF=class{stringify(t){return de.JSON.stringify(t,void 0)}parse(t){return de.JSON.parse(t,void 0)}};function VF(){this.g=new MF}function $F(t,e,n){const r=n||"";try{iI(t,function(i,s){let o=i;yc(i)&&(o=Hv(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function UF(t,e){const n=new yd;if(de.Image){const r=new Image;r.onload=lh(hh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=lh(hh,n,r,"TestLoadImage: error",!1,e),r.onabort=lh(hh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=lh(hh,n,r,"TestLoadImage: timeout",!1,e),de.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function hh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Td(t){this.l=t.ec||null,this.j=t.ob||!1}Lt(Td,Qv);Td.prototype.g=function(){return new Pd(this.l,this.j)};Td.prototype.i=function(t){return function(){return t}}({});function Pd(t,e){Ft.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Jv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Lt(Pd,Ft);var Jv=0;Y=Pd.prototype;Y.open=function(t,e){if(this.readyState!=Jv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Rl(this)};Y.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||de).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Y.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tc(this)),this.readyState=Jv};Y.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Rl(this)),this.g&&(this.readyState=3,Rl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof de.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;pI(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function pI(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Y.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Tc(this):Rl(this),this.readyState==3&&pI(this)}};Y.Za=function(t){this.g&&(this.response=this.responseText=t,Tc(this))};Y.Ya=function(t){this.g&&(this.response=t,Tc(this))};Y.ka=function(){this.g&&Tc(this)};function Tc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Rl(t)}Y.setRequestHeader=function(t,e){this.v.append(t,e)};Y.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Y.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Rl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Pd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var BF=de.JSON.parse;function ft(t){Ft.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=mI,this.L=this.M=!1}Lt(ft,Ft);var mI="",HF=/^https?$/i,WF=["POST","PUT"];Y=ft.prototype;Y.Oa=function(t){this.M=t};Y.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():jg.g(),this.C=this.u?Jw(this.u):Jw(jg),this.g.onreadystatechange=tn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){eE(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=de.FormData&&t instanceof de.FormData,!(0<=xR(WF,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{vI(this),0<this.B&&((this.L=zF(this.g))?(this.g.timeout=this.B,this.g.ontimeout=tn(this.ua,this)):this.A=qv(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){eE(this,s)}};function zF(t){return sa&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Y.ua=function(){typeof jv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,zt(this,"timeout"),this.abort(8))};function eE(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,gI(t),Rd(t)}function gI(t){t.F||(t.F=!0,zt(t,"complete"),zt(t,"error"))}Y.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,zt(this,"complete"),zt(this,"abort"),Rd(this))};Y.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Rd(this,!0)),ft.$.N.call(this)};Y.La=function(){this.s||(this.G||this.v||this.l?yI(this):this.kb())};Y.kb=function(){yI(this)};function yI(t){if(t.h&&typeof jv<"u"&&(!t.C[1]||Er(t)!=4||t.da()!=2)){if(t.v&&Er(t)==4)qv(t.La,0,t);else if(zt(t,"readystatechange"),Er(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(sI)[1]||null;!i&&de.self&&de.self.location&&(i=de.self.location.protocol.slice(0,-1)),r=!HF.test(i?i.toLowerCase():"")}n=r}if(n)zt(t,"complete"),zt(t,"success");else{t.m=6;try{var s=2<Er(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",gI(t)}}finally{Rd(t)}}}}function Rd(t,e){if(t.g){vI(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||zt(t,"ready");try{n.onreadystatechange=r}catch{}}}function vI(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(de.clearTimeout(t.A),t.A=null)}Y.isActive=function(){return!!this.g};function Er(t){return t.g?t.g.readyState:0}Y.da=function(){try{return 2<Er(this)?this.g.status:-1}catch{return-1}};Y.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Y.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),BF(e)}};function tE(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case mI:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function qF(t){const e={};t=(t.g&&2<=Er(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(vl(t[r]))continue;var n=yF(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}cF(e,function(r){return r.join(", ")})}Y.Ia=function(){return this.m};Y.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function _I(t){let e="";return Mv(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Xv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=_I(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Je(t,e,n))}function au(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function wI(t){this.Ga=0,this.j=[],this.l=new yd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=au("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=au("baseRetryDelayMs",5e3,t),this.hb=au("retryDelaySeedMs",1e4,t),this.eb=au("forwardChannelMaxRetries",2,t),this.xa=au("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new lI(t&&t.concurrentRequestLimit),this.Ja=new VF,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Y=wI.prototype;Y.ra=8;Y.H=1;function Zv(t){if(EI(t),t.H==3){var e=t.W++,n=ai(t.I);if(Je(n,"SID",t.K),Je(n,"RID",e),Je(n,"TYPE","terminate"),Pc(t,n),e=new Ec(t,t.l,e),e.L=2,e.A=Sd(ai(n)),n=!1,de.navigator&&de.navigator.sendBeacon)try{n=de.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&de.Image&&(new Image().src=e.A,n=!0),n||(e.g=OI(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Sc(e)}bI(t)}function Id(t){t.g&&(t_(t),t.g.cancel(),t.g=null)}function EI(t){Id(t),t.u&&(de.clearTimeout(t.u),t.u=null),Tf(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&de.clearTimeout(t.m),t.m=null)}function bd(t){if(!cI(t.i)&&!t.m){t.m=!0;var e=t.Na;wl||HR(),El||(wl(),El=!0),Wv.add(e,t),t.C=0}}function QF(t,e){return hI(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=_c(tn(t.Na,t,e),II(t,t.C)),t.C++,!0)}Y.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Ec(this,this.l,t);let s=this.s;if(this.U&&(s?(s=jR(s),FR(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=SI(this,i,e),n=ai(this.I),Je(n,"RID",t),Je(n,"CVER",22),this.F&&Je(n,"X-HTTP-Session-Id",this.F),Pc(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(_I(s)))+"&"+e:this.o&&Xv(n,this.o,s)),Yv(this.i,i),this.bb&&Je(n,"TYPE","init"),this.P?(Je(n,"$req",e),Je(n,"SID","null"),i.aa=!0,Lg(i,n,null)):Lg(i,n,e),this.H=2}}else this.H==3&&(t?nE(this,t):this.j.length==0||cI(this.i)||nE(this))};function nE(t,e){var n;e?n=e.m:n=t.W++;const r=ai(t.I);Je(r,"SID",t.K),Je(r,"RID",n),Je(r,"AID",t.V),Pc(t,r),t.o&&t.s&&Xv(r,t.o,t.s),n=new Ec(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=SI(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Yv(t.i,n),Lg(n,r,e)}function Pc(t,e){t.na&&Mv(t.na,function(n,r){Je(e,r,n)}),t.h&&iI({},function(n,r){Je(e,r,n)})}function SI(t,e,n){n=Math.min(t.j.length,n);var r=t.h?tn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let l=i[u].g;const c=i[u].map;if(l-=s,0>l)s=Math.max(0,i[u].g-100),a=!1;else try{$F(c,o,"req"+l+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function TI(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;wl||HR(),El||(wl(),El=!0),Wv.add(e,t),t.A=0}}function e_(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=_c(tn(t.Ma,t),II(t,t.A)),t.A++,!0)}Y.Ma=function(){if(this.u=null,PI(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=_c(tn(this.jb,this),t)}};Y.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,dn(10),Id(this),PI(this))};function t_(t){t.B!=null&&(de.clearTimeout(t.B),t.B=null)}function PI(t){t.g=new Ec(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ai(t.wa);Je(e,"RID","rpc"),Je(e,"SID",t.K),Je(e,"AID",t.V),Je(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Je(e,"TO",t.qa),Je(e,"TYPE","xmlhttp"),Pc(t,e),t.o&&t.s&&Xv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Sd(ai(e)),n.u=null,n.S=!0,eI(n,t)}Y.ib=function(){this.v!=null&&(this.v=null,Id(this),e_(this),dn(19))};function Tf(t){t.v!=null&&(de.clearTimeout(t.v),t.v=null)}function RI(t,e){var n=null;if(t.g==e){Tf(t),t_(t),t.g=null;var r=2}else if(Vg(t.i,e))n=e.F,fI(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=vd(),zt(r,new GR(r,n)),bd(t)}else TI(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&QF(t,e)||r==2&&e_(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Os(t,5);break;case 4:Os(t,10);break;case 3:Os(t,6);break;default:Os(t,2)}}}function II(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Os(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=tn(t.pb,t);n||(n=new js("//www.google.com/images/cleardot.gif"),de.location&&de.location.protocol=="http"||Ef(n,"https"),Sd(n)),UF(n.toString(),r)}else dn(2);t.H=0,t.h&&t.h.za(e),bI(t),EI(t)}Y.pb=function(t){t?(this.l.info("Successfully pinged google.com"),dn(2)):(this.l.info("Failed to ping google.com"),dn(1))};function bI(t){if(t.H=0,t.ma=[],t.h){const e=dI(t.i);(e.length!=0||t.j.length!=0)&&(qw(t.ma,e),qw(t.ma,t.j),t.i.i.length=0,Fv(t.j),t.j.length=0),t.h.ya()}}function AI(t,e,n){var r=n instanceof js?ai(n):new js(n);if(r.g!="")e&&(r.g=e+"."+r.g),Sf(r,r.m);else{var i=de.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new js(null);r&&Ef(s,r),e&&(s.g=e),i&&Sf(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Je(r,n,e),Je(r,"VER",t.ra),Pc(t,r),r}function OI(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new ft(new Td({ob:n})):new ft(t.va),e.Oa(t.J),e}Y.isActive=function(){return!!this.h&&this.h.isActive(this)};function CI(){}Y=CI.prototype;Y.Ba=function(){};Y.Aa=function(){};Y.za=function(){};Y.ya=function(){};Y.isActive=function(){return!0};Y.Va=function(){};function Pf(){if(sa&&!(10<=Number(oF)))throw Error("Environmental error: no available transport.")}Pf.prototype.g=function(t,e){return new kn(t,e)};function kn(t,e){Ft.call(this),this.g=new wI(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!vl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!vl(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ca(this)}Lt(kn,Ft);kn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;dn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=AI(t,null,t.Y),bd(t)};kn.prototype.close=function(){Zv(this.g)};kn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Hv(t),t=n);e.j.push(new FF(e.fb++,t)),e.H==3&&bd(e)};kn.prototype.N=function(){this.g.h=null,delete this.j,Zv(this.g),delete this.g,kn.$.N.call(this)};function xI(t){Kv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Lt(xI,Kv);function kI(){Gv.call(this),this.status=1}Lt(kI,Gv);function Ca(t){this.g=t}Lt(Ca,CI);Ca.prototype.Ba=function(){zt(this.g,"a")};Ca.prototype.Aa=function(t){zt(this.g,new xI(t))};Ca.prototype.za=function(t){zt(this.g,new kI)};Ca.prototype.ya=function(){zt(this.g,"b")};function KF(){this.blockSize=-1}function or(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Lt(or,KF);or.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function nm(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}or.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)nm(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){nm(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){nm(this,r),i=0;break}}this.h=i,this.i+=e};or.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Fe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var GF={};function n_(t){return-128<=t&&128>t?rF(t,function(e){return new Fe([e|0],0>e?-1:0)}):new Fe([t|0],0>t?-1:0)}function Sr(t){if(isNaN(t)||!isFinite(t))return Qo;if(0>t)return Bt(Sr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=$g;return new Fe(e,0)}function NI(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Bt(NI(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Sr(Math.pow(e,8)),r=Qo,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Sr(Math.pow(e,s)),r=r.R(s).add(Sr(o))):(r=r.R(n),r=r.add(Sr(o)))}return r}var $g=4294967296,Qo=n_(0),Ug=n_(1),rE=n_(16777216);Y=Fe.prototype;Y.ea=function(){if($n(this))return-Bt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:$g+r)*e,e*=$g}return t};Y.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Xr(this))return"0";if($n(this))return"-"+Bt(this).toString(t);for(var e=Sr(Math.pow(t,6)),n=this,r="";;){var i=If(n,e).g;n=Rf(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Xr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};Y.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Xr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function $n(t){return t.h==-1}Y.X=function(t){return t=Rf(this,t),$n(t)?-1:Xr(t)?0:1};function Bt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Fe(n,~t.h).add(Ug)}Y.abs=function(){return $n(this)?Bt(this):this};Y.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Fe(n,n[n.length-1]&-2147483648?-1:0)};function Rf(t,e){return t.add(Bt(e))}Y.R=function(t){if(Xr(this)||Xr(t))return Qo;if($n(this))return $n(t)?Bt(this).R(Bt(t)):Bt(Bt(this).R(t));if($n(t))return Bt(this.R(Bt(t)));if(0>this.X(rE)&&0>t.X(rE))return Sr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,u=t.D(i)&65535;n[2*r+2*i]+=o*u,fh(n,2*r+2*i),n[2*r+2*i+1]+=s*u,fh(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,fh(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,fh(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Fe(n,0)};function fh(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function uu(t,e){this.g=t,this.h=e}function If(t,e){if(Xr(e))throw Error("division by zero");if(Xr(t))return new uu(Qo,Qo);if($n(t))return e=If(Bt(t),e),new uu(Bt(e.g),Bt(e.h));if($n(e))return e=If(t,Bt(e)),new uu(Bt(e.g),e.h);if(30<t.g.length){if($n(t)||$n(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Ug,r=e;0>=r.X(t);)n=iE(n),r=iE(r);var i=mo(n,1),s=mo(r,1);for(r=mo(r,2),n=mo(n,2);!Xr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=mo(r,1),n=mo(n,1)}return e=Rf(t,i.R(e)),new uu(i,e)}for(i=Qo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Sr(n),o=s.R(e);$n(o)||0<o.X(t);)n-=r,s=Sr(n),o=s.R(e);Xr(s)&&(s=Ug),i=i.add(s),t=Rf(t,o)}return new uu(i,t)}Y.gb=function(t){return If(this,t).h};Y.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Fe(n,this.h&t.h)};Y.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Fe(n,this.h|t.h)};Y.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Fe(n,this.h^t.h)};function iE(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Fe(n,t.h)}function mo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Fe(i,t.h)}Pf.prototype.createWebChannel=Pf.prototype.g;kn.prototype.send=kn.prototype.u;kn.prototype.open=kn.prototype.m;kn.prototype.close=kn.prototype.close;_d.NO_ERROR=0;_d.TIMEOUT=8;_d.HTTP_ERROR=6;YR.COMPLETE="complete";JR.EventType=wc;wc.OPEN="a";wc.CLOSE="b";wc.ERROR="c";wc.MESSAGE="d";Ft.prototype.listen=Ft.prototype.O;ft.prototype.listenOnce=ft.prototype.P;ft.prototype.getLastError=ft.prototype.Sa;ft.prototype.getLastErrorCode=ft.prototype.Ia;ft.prototype.getStatus=ft.prototype.da;ft.prototype.getResponseJson=ft.prototype.Wa;ft.prototype.getResponseText=ft.prototype.ja;ft.prototype.send=ft.prototype.ha;ft.prototype.setWithCredentials=ft.prototype.Oa;or.prototype.digest=or.prototype.l;or.prototype.reset=or.prototype.reset;or.prototype.update=or.prototype.j;Fe.prototype.add=Fe.prototype.add;Fe.prototype.multiply=Fe.prototype.R;Fe.prototype.modulo=Fe.prototype.gb;Fe.prototype.compare=Fe.prototype.X;Fe.prototype.toNumber=Fe.prototype.ea;Fe.prototype.toString=Fe.prototype.toString;Fe.prototype.getBits=Fe.prototype.D;Fe.fromNumber=Sr;Fe.fromString=NI;var YF=function(){return new Pf},JF=function(){return vd()},rm=_d,XF=YR,ZF=ro,sE={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},dh=JR,eL=ft,tL=or,Ko=Fe;const oE="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xa="10.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs=new kv("@firebase/firestore");function lu(){return zs.logLevel}function G(t,...e){if(zs.logLevel<=Ae.DEBUG){const n=e.map(r_);zs.debug(`Firestore (${xa}): ${t}`,...n)}}function kr(t,...e){if(zs.logLevel<=Ae.ERROR){const n=e.map(r_);zs.error(`Firestore (${xa}): ${t}`,...n)}}function oa(t,...e){if(zs.logLevel<=Ae.WARN){const n=e.map(r_);zs.warn(`Firestore (${xa}): ${t}`,...n)}}function r_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(t="Unexpected state"){const e=`FIRESTORE (${xa}) INTERNAL ASSERTION FAILED: `+t;throw kr(e),new Error(e)}function Ge(t,e){t||he()}function ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends Lr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xt.UNAUTHENTICATED))}shutdown(){}}class rL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class iL{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Ir;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ir,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ir)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ge(typeof r.accessToken=="string"),new DI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string"),new Xt(e)}}class sL{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class oL{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new sL(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class aL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uL{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ge(typeof n.token=="string"),this.R=n.token,new aL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=lL(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ke(t,e){return t<e?-1:t>e?1:0}function aa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new X(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ht(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ge(e)}static min(){return new ge(new ht(0,0))}static max(){return new ge(new ht(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,n,r){n===void 0?n=0:n>e.length&&he(),r===void 0?r=e.length-n:r>e.length-n&&he(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Il.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Il?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Xe extends Il{construct(e,n,r){return new Xe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Xe(n)}static emptyPath(){return new Xe([])}}const cL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends Il{construct(e,n,r){return new Ht(e,n,r)}static isValidIdentifier(e){return cL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ht(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new X(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new X(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new X(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new X(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(n)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(Xe.fromString(e))}static fromName(e){return new oe(Xe.fromString(e).popFirst(5))}static empty(){return new oe(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new Xe(e.slice()))}}function hL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ge.fromTimestamp(r===1e9?new ht(n+1,0):new ht(n,r));return new Ji(i,oe.empty(),e)}function fL(t){return new Ji(t.readTime,t.key,-1)}class Ji{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ji(ge.min(),oe.empty(),-1)}static max(){return new Ji(ge.max(),oe.empty(),-1)}}function dL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rc(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==pL)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const l=u;n(e[l]).next(c=>{o[l]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new U((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Ir,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Wu(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=s_(r.target.error);this.V.reject(new Wu(e,i))}}static open(e,n,r,i){try{return new i_(n,e.transaction(i,r))}catch(s){throw new Wu(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(G("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new yL(n)}}class Cs{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Cs.S(Pt())===12.2&&kr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return G("SimpleDb","Removing database:",e),Es(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!RR())return!1;if(Cs.C())return!0;const e=Pt(),n=Cs.S(e),r=0<n&&n<10,i=Cs.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(G("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new Wu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new X(F.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new X(F.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Wu(e,o))},i.onupgradeneeded=s=>{G("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{G("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=i_.open(this.db,e,s?"readonly":"readwrite",r),u=i(a).next(l=>(a.g(),l)).catch(l=>(a.abort(l),U.reject(l))).toPromise();return u.catch(()=>{}),await a.m,u}catch(a){const u=a,l=u.name!=="FirebaseError"&&o<3;if(G("SimpleDb","Transaction failed with error:",u.message,"Retrying:",l),this.close(),!l)return Promise.reject(u)}}}close(){this.db&&this.db.close(),this.db=void 0}}class gL{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Es(this.k.delete())}}class Wu extends X{constructor(e,n){super(F.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Ic(t){return t.name==="IndexedDbTransactionError"}class yL{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(G("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(G("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Es(r)}add(e){return G("SimpleDb","ADD",this.store.name,e,e),Es(this.store.add(e))}get(e){return Es(this.store.get(e)).next(n=>(n===void 0&&(n=null),G("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return G("SimpleDb","DELETE",this.store.name,e),Es(this.store.delete(e))}count(){return G("SimpleDb","COUNT",this.store.name),Es(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new U((o,a)=>{s.onerror=u=>{a(u.target.error)},s.onsuccess=u=>{o(u.target.result)}})}{const s=this.cursor(r),o=[];return this.G(s,(a,u)=>{o.push(u)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new U((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){G("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new U((r,i)=>{n.onerror=s=>{const o=s_(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new U((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const u=new gL(a),l=n(a.primaryKey,a.value,u);if(l instanceof U){const c=l.catch(h=>(u.done(),U.reject(h)));r.push(c)}u.isDone?i():u.$===null?a.continue():a.continue(u.$)}}).next(()=>U.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Es(t){return new U((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=s_(r.target.error);n(i)}})}let aE=!1;function s_(t){const e=Cs.S(Pt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new X("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return aE||(aE=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}o_._e=-1;function Ad(t){return t==null}function bf(t){return t===0&&1/t==-1/0}function vL(t){return typeof t=="number"&&Number.isInteger(t)&&!bf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ka(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function FI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||Ut.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ph(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ph(this.root,e,this.comparator,!1)}getReverseIterator(){return new ph(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ph(this.root,e,this.comparator,!0)}}class ph{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ut{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ut.RED,this.left=i??Ut.EMPTY,this.right=s??Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ut(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ut.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();const e=this.left.check();if(e!==this.right.check())throw he();return e+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw he()}get value(){throw he()}get color(){throw he()}get left(){throw he()}get right(){throw he()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ut(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new lE(this.data.getIterator())}getIteratorFrom(e){return new lE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new qt(this.comparator);return n.data=e,n}}class lE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new Zn([])}unionWith(e){let n=new qt(Ht.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return aa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new LI("Invalid base64 string: "+s):s}}(e);return new on(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new on(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const _L=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xi(t){if(Ge(!!t),typeof t=="string"){let e=0;const n=_L.exec(t);if(Ge(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Et(t.seconds),nanos:Et(t.nanos)}}function Et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qs(t){return typeof t=="string"?on.fromBase64String(t):on.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function u_(t){const e=t.mapValue.fields.__previous_value__;return a_(e)?u_(e):e}function bl(t){const e=Xi(t.mapValue.fields.__local_write_time__.timestampValue);return new ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class Al{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Al("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Al&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Qs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?a_(t)?4:EL(t)?9007199254740991:10:he()}function Nr(t,e){if(t===e)return!0;const n=Qs(t);if(n!==Qs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bl(t).isEqual(bl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Xi(i.timestampValue),a=Xi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return qs(i.bytesValue).isEqual(qs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Et(i.geoPointValue.latitude)===Et(s.geoPointValue.latitude)&&Et(i.geoPointValue.longitude)===Et(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Et(i.integerValue)===Et(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Et(i.doubleValue),a=Et(s.doubleValue);return o===a?bf(o)===bf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return aa(t.arrayValue.values||[],e.arrayValue.values||[],Nr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(uE(o)!==uE(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Nr(o[u],a[u])))return!1;return!0}(t,e);default:return he()}}function Ol(t,e){return(t.values||[]).find(n=>Nr(n,e))!==void 0}function ua(t,e){if(t===e)return 0;const n=Qs(t),r=Qs(e);if(n!==r)return ke(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Et(s.integerValue||s.doubleValue),u=Et(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return cE(t.timestampValue,e.timestampValue);case 4:return cE(bl(t),bl(e));case 5:return ke(t.stringValue,e.stringValue);case 6:return function(s,o){const a=qs(s),u=qs(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){const c=ke(a[l],u[l]);if(c!==0)return c}return ke(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ke(Et(s.latitude),Et(o.latitude));return a!==0?a:ke(Et(s.longitude),Et(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let l=0;l<a.length&&l<u.length;++l){const c=ua(a[l],u[l]);if(c)return c}return ke(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===mh.mapValue&&o===mh.mapValue)return 0;if(s===mh.mapValue)return 1;if(o===mh.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),l=o.fields||{},c=Object.keys(l);u.sort(),c.sort();for(let h=0;h<u.length&&h<c.length;++h){const f=ke(u[h],c[h]);if(f!==0)return f;const d=ua(a[u[h]],l[c[h]]);if(d!==0)return d}return ke(u.length,c.length)}(t.mapValue,e.mapValue);default:throw he()}}function cE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ke(t,e);const n=Xi(t),r=Xi(e),i=ke(n.seconds,r.seconds);return i!==0?i:ke(n.nanos,r.nanos)}function la(t){return Bg(t)}function Bg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Xi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return qs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Bg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Bg(n.fields[o])}`;return i+"}"}(t.mapValue):he()}function hE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Hg(t){return!!t&&"integerValue"in t}function l_(t){return!!t&&"arrayValue"in t}function fE(t){return!!t&&"nullValue"in t}function dE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Lh(t){return!!t&&"mapValue"in t}function zu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ka(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=zu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function EL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Lh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zu(n)}setAll(e){let n=Ht.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=zu(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Lh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Nr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Lh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ka(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Un(zu(this.value))}}function MI(t){const e=[];return ka(t.fields,(n,r)=>{const i=new Ht([n]);if(Lh(r)){const s=MI(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new en(e,0,ge.min(),ge.min(),ge.min(),Un.empty(),0)}static newFoundDocument(e,n,r,i){return new en(e,1,n,ge.min(),r,i,0)}static newNoDocument(e,n){return new en(e,2,n,ge.min(),ge.min(),Un.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,ge.min(),ge.min(),Un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,n){this.position=e,this.inclusive=n}}function pE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=oe.comparator(oe.fromName(o.referenceValue),n.key):r=ua(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function mE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Nr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,n="asc"){this.field=e,this.dir=n}}function SL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{}class Tt extends VI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new PL(e,n,r):n==="array-contains"?new bL(e,r):n==="in"?new AL(e,r):n==="not-in"?new OL(e,r):n==="array-contains-any"?new CL(e,r):new Tt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new RL(e,r):new IL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ua(n,this.value)):n!==null&&Qs(this.value)===Qs(n)&&this.matchesComparison(ua(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ar extends VI{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new ar(e,n)}matches(e){return $I(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function $I(t){return t.op==="and"}function UI(t){return TL(t)&&$I(t)}function TL(t){for(const e of t.filters)if(e instanceof ar)return!1;return!0}function Wg(t){if(t instanceof Tt)return t.field.canonicalString()+t.op.toString()+la(t.value);if(UI(t))return t.filters.map(e=>Wg(e)).join(",");{const e=t.filters.map(n=>Wg(n)).join(",");return`${t.op}(${e})`}}function BI(t,e){return t instanceof Tt?function(r,i){return i instanceof Tt&&r.op===i.op&&r.field.isEqual(i.field)&&Nr(r.value,i.value)}(t,e):t instanceof ar?function(r,i){return i instanceof ar&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&BI(o,i.filters[a]),!0):!1}(t,e):void he()}function HI(t){return t instanceof Tt?function(n){return`${n.field.canonicalString()} ${n.op} ${la(n.value)}`}(t):t instanceof ar?function(n){return n.op.toString()+" {"+n.getFilters().map(HI).join(" ,")+"}"}(t):"Filter"}class PL extends Tt{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class RL extends Tt{constructor(e,n){super(e,"in",n),this.keys=WI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class IL extends Tt{constructor(e,n){super(e,"not-in",n),this.keys=WI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function WI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}class bL extends Tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return l_(n)&&Ol(n.arrayValue,this.value)}}class AL extends Tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ol(this.value.arrayValue,n)}}class OL extends Tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ol(this.value.arrayValue,n)}}class CL extends Tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!l_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ol(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function gE(t,e=null,n=[],r=[],i=null,s=null,o=null){return new xL(t,e,n,r,i,s,o)}function c_(t){const e=ve(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Wg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ad(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>la(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>la(r)).join(",")),e.ce=n}return e.ce}function h_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!SL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!BI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!mE(t.startAt,e.startAt)&&mE(t.endAt,e.endAt)}function zg(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function kL(t,e,n,r,i,s,o,a){return new Na(t,e,n,r,i,s,o,a)}function Od(t){return new Na(t)}function yE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function zI(t){return t.collectionGroup!==null}function qu(t){const e=ve(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new qt(Ht.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Cl(s,r))}),n.has(Ht.keyField().canonicalString())||e.le.push(new Cl(Ht.keyField(),r))}return e.le}function br(t){const e=ve(t);return e.he||(e.he=NL(e,qu(t))),e.he}function NL(t,e){if(t.limitType==="F")return gE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Cl(i.field,s)});const n=t.endAt?new Af(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Af(t.startAt.position,t.startAt.inclusive):null;return gE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function qg(t,e){const n=t.filters.concat([e]);return new Na(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Qg(t,e,n){return new Na(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bc(t,e){return h_(br(t),br(e))&&t.limitType===e.limitType}function qI(t){return`${c_(br(t))}|lt:${t.limitType}`}function yo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>HI(i)).join(", ")}]`),Ad(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>la(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>la(i)).join(",")),`Target(${r})`}(br(t))}; limitType=${t.limitType})`}function Cd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):oe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of qu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){const l=pE(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,qu(r),i)||r.endAt&&!function(o,a,u){const l=pE(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,qu(r),i))}(t,e)}function DL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function QI(t){return(e,n)=>{let r=!1;for(const i of qu(t)){const s=jL(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function jL(t,e,n){const r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?ua(u,l):he()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return he()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ka(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return FI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL=new ot(oe.comparator);function ui(){return FL}const KI=new ot(oe.comparator);function Au(...t){let e=KI;for(const n of t)e=e.insert(n.key,n);return e}function GI(t){let e=KI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function xs(){return Qu()}function YI(){return Qu()}function Qu(){return new Da(t=>t.toString(),(t,e)=>t.isEqual(e))}const LL=new ot(oe.comparator),ML=new qt(oe.comparator);function Ie(...t){let e=ML;for(const n of t)e=e.add(n);return e}const VL=new qt(ke);function $L(){return VL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bf(e)?"-0":e}}function XI(t){return{integerValue:""+t}}function UL(t,e){return vL(e)?XI(e):JI(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(){this._=void 0}}function BL(t,e,n){return t instanceof Of?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&a_(s)&&(s=u_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof xl?eb(t,e):t instanceof kl?tb(t,e):function(i,s){const o=ZI(i,s),a=vE(o)+vE(i.Ie);return Hg(o)&&Hg(i.Ie)?XI(a):JI(i.serializer,a)}(t,e)}function HL(t,e,n){return t instanceof xl?eb(t,e):t instanceof kl?tb(t,e):n}function ZI(t,e){return t instanceof Cf?function(r){return Hg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Of extends xd{}class xl extends xd{constructor(e){super(),this.elements=e}}function eb(t,e){const n=nb(e);for(const r of t.elements)n.some(i=>Nr(i,r))||n.push(r);return{arrayValue:{values:n}}}class kl extends xd{constructor(e){super(),this.elements=e}}function tb(t,e){let n=nb(e);for(const r of t.elements)n=n.filter(i=>!Nr(i,r));return{arrayValue:{values:n}}}class Cf extends xd{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function vE(t){return Et(t.integerValue||t.doubleValue)}function nb(t){return l_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function WL(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof xl&&i instanceof xl||r instanceof kl&&i instanceof kl?aa(r.elements,i.elements,Nr):r instanceof Cf&&i instanceof Cf?Nr(r.Ie,i.Ie):r instanceof Of&&i instanceof Of}(t.transform,e.transform)}class zL{constructor(e,n){this.version=e,this.transformResults=n}}class Ar{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ar}static exists(e){return new Ar(void 0,e)}static updateTime(e){return new Ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class kd{}function rb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new sb(t.key,Ar.none()):new Ac(t.key,t.data,Ar.none());{const n=t.data,r=Un.empty();let i=new qt(Ht.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new io(t.key,r,new Zn(i.toArray()),Ar.none())}}function qL(t,e,n){t instanceof Ac?function(i,s,o){const a=i.value.clone(),u=wE(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof io?function(i,s,o){if(!Mh(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=wE(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(ib(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ku(t,e,n,r){return t instanceof Ac?function(s,o,a,u){if(!Mh(s.precondition,o))return a;const l=s.value.clone(),c=EE(s.fieldTransforms,u,o);return l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof io?function(s,o,a,u){if(!Mh(s.precondition,o))return a;const l=EE(s.fieldTransforms,u,o),c=o.data;return c.setAll(ib(s)),c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Mh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function QL(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=ZI(r.transform,i||null);s!=null&&(n===null&&(n=Un.empty()),n.set(r.field,s))}return n||null}function _E(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&aa(r,i,(s,o)=>WL(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ac extends kd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class io extends kd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function ib(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function wE(t,e,n){const r=new Map;Ge(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,HL(o,a,n[i]))}return r}function EE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,BL(s,o,e))}return r}class sb extends kd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KL extends kd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&qL(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ku(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ku(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=YI();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=rb(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ge.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ie())}isEqual(e){return this.batchId===e.batchId&&aa(this.mutations,e.mutations,(n,r)=>_E(n,r))&&aa(this.baseMutations,e.baseMutations,(n,r)=>_E(n,r))}}class f_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ge(e.mutations.length===r.length);let i=function(){return LL}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new f_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t,Ce;function XL(t){switch(t){default:return he();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function ob(t){if(t===void 0)return kr("GRPC error has no .code"),F.UNKNOWN;switch(t){case _t.OK:return F.OK;case _t.CANCELLED:return F.CANCELLED;case _t.UNKNOWN:return F.UNKNOWN;case _t.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case _t.INTERNAL:return F.INTERNAL;case _t.UNAVAILABLE:return F.UNAVAILABLE;case _t.UNAUTHENTICATED:return F.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case _t.NOT_FOUND:return F.NOT_FOUND;case _t.ALREADY_EXISTS:return F.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return F.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case _t.ABORTED:return F.ABORTED;case _t.OUT_OF_RANGE:return F.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return F.UNIMPLEMENTED;case _t.DATA_LOSS:return F.DATA_LOSS;default:return he()}}(Ce=_t||(_t={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=new Ko([4294967295,4294967295],0);function SE(t){const e=ZL().encode(t),n=new tL;return n.update(e),new Uint8Array(n.digest())}function TE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ko([n,r],0),new Ko([i,s],0)]}class d_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ou(`Invalid padding: ${n}`);if(r<0)throw new Ou(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ou(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ou(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Ko.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Ko.fromNumber(r)));return i.compare(e2)===1&&(i=new Ko([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=SE(e),[r,i]=TE(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new d_(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=SE(e),[r,i]=TE(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ou extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Oc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Nd(ge.min(),i,new ot(ke),ui(),Ie())}}class Oc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Oc(r,n,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class ab{constructor(e,n){this.targetId=e,this.fe=n}}class ub{constructor(e,n,r=on.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class PE{constructor(){this.ge=0,this.pe=IE(),this.ye=on.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Ie(),n=Ie(),r=Ie();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:he()}}),new Oc(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=IE()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ge(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class t2{constructor(e){this.Le=e,this.ke=new Map,this.qe=ui(),this.Qe=RE(),this.Ke=new ot(ke)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:he()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(zg(s))if(r===0){const o=new oe(s.path);this.We(n,o,en.newNoDocument(o,ge.min()))}else Ge(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),u=a?this.et(a,e,o):1;if(u!==0){this.He(n);const l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,l)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=qs(r).toUint8Array()}catch(u){if(u instanceof LI)return oa("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new d_(o,i,s)}catch(u){return oa(u instanceof Ou?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&zg(a.target)){const u=new oe(a.target.path);this.qe.get(u)!==null||this.st(o,u)||this.We(o,u,en.newNoDocument(u,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=Ie();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const l=this.Ye(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Nd(e,n,this.Ke,this.qe,r);return this.qe=ui(),this.Qe=RE(),this.Ke=new ot(ke),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new PE,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new qt(ke),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new PE),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function RE(){return new ot(oe.comparator)}function IE(){return new ot(oe.comparator)}const n2={asc:"ASCENDING",desc:"DESCENDING"},r2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},i2={and:"AND",or:"OR"};class s2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Kg(t,e){return t.useProto3Json||Ad(e)?e:{value:e}}function xf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function o2(t,e){return xf(t,e.toTimestamp())}function Or(t){return Ge(!!t),ge.fromTimestamp(function(n){const r=Xi(n);return new ht(r.seconds,r.nanos)}(t))}function p_(t,e){return Gg(t,e).canonicalString()}function Gg(t,e){const n=function(i){return new Xe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function cb(t){const e=Xe.fromString(t);return Ge(mb(e)),e}function Yg(t,e){return p_(t.databaseId,e.path)}function im(t,e){const n=cb(e);if(n.get(1)!==t.databaseId.projectId)throw new X(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(fb(n))}function hb(t,e){return p_(t.databaseId,e)}function a2(t){const e=cb(t);return e.length===4?Xe.emptyPath():fb(e)}function Jg(t){return new Xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fb(t){return Ge(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function bE(t,e,n){return{name:Yg(t,e),fields:n.value.mapValue.fields}}function u2(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:he()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(Ge(c===void 0||typeof c=="string"),on.fromBase64String(c||"")):(Ge(c===void 0||c instanceof Uint8Array),on.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=l.code===void 0?F.UNKNOWN:ob(l.code);return new X(c,l.message||"")}(o);n=new ub(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=im(t,r.document.name),s=Or(r.document.updateTime),o=r.document.createTime?Or(r.document.createTime):ge.min(),a=new Un({mapValue:{fields:r.document.fields}}),u=en.newFoundDocument(i,s,o,a),l=r.targetIds||[],c=r.removedTargetIds||[];n=new Vh(l,c,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=im(t,r.document),s=r.readTime?Or(r.readTime):ge.min(),o=en.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Vh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=im(t,r.document),s=r.removedTargetIds||[];n=new Vh([],s,i,null)}else{if(!("filter"in e))return he();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new JL(i,s),a=r.targetId;n=new ab(a,o)}}return n}function l2(t,e){let n;if(e instanceof Ac)n={update:bE(t,e.key,e.value)};else if(e instanceof sb)n={delete:Yg(t,e.key)};else if(e instanceof io)n={update:bE(t,e.key,e.data),updateMask:v2(e.fieldMask)};else{if(!(e instanceof KL))return he();n={verify:Yg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Of)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof xl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof kl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Cf)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw he()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:o2(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:he()}(t,e.precondition)),n}function c2(t,e){return t&&t.length>0?(Ge(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Or(i.updateTime):Or(s);return o.isEqual(ge.min())&&(o=Or(s)),new zL(o,i.transformResults||[])}(n,e))):[]}function h2(t,e){return{documents:[hb(t,e.path)]}}function f2(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=hb(t,i);const s=function(l){if(l.length!==0)return pb(ar.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(l){if(l.length!==0)return l.map(c=>function(f){return{field:vo(f.field),direction:m2(f.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Kg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{ut:n,parent:i}}function d2(t){let e=a2(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ge(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(h){const f=db(h);return f instanceof ar&&UI(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(y){return new Cl(_o(y.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Ad(f)?null:f}(n.limit));let u=null;n.startAt&&(u=function(h){const f=!!h.before,d=h.values||[];return new Af(d,f)}(n.startAt));let l=null;return n.endAt&&(l=function(h){const f=!h.before,d=h.values||[];return new Af(d,f)}(n.endAt)),kL(e,i,o,s,a,"F",u,l)}function p2(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function db(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=_o(n.unaryFilter.field);return Tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=_o(n.unaryFilter.field);return Tt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=_o(n.unaryFilter.field);return Tt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=_o(n.unaryFilter.field);return Tt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return he()}}(t):t.fieldFilter!==void 0?function(n){return Tt.create(_o(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return he()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ar.create(n.compositeFilter.filters.map(r=>db(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return he()}}(n.compositeFilter.op))}(t):he()}function m2(t){return n2[t]}function g2(t){return r2[t]}function y2(t){return i2[t]}function vo(t){return{fieldPath:t.canonicalString()}}function _o(t){return Ht.fromServerFormat(t.fieldPath)}function pb(t){return t instanceof Tt?function(n){if(n.op==="=="){if(dE(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NAN"}};if(fE(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(dE(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NOT_NAN"}};if(fE(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vo(n.field),op:g2(n.op),value:n.value}}}(t):t instanceof ar?function(n){const r=n.getFilters().map(i=>pb(i));return r.length===1?r[0]:{compositeFilter:{op:y2(n.op),filters:r}}}(t):he()}function v2(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function mb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,n,r,i,s=ge.min(),o=ge.min(),a=on.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Ni(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e){this.ct=e}}function w2(t){const e=d2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Qg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(){this._n=new S2}addToCollectionParentIndex(e,n){return this._n.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Ji.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Ji.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class S2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new qt(Xe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new qt(Xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new ca(0)}static Bn(){return new ca(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(){this.changes=new Da(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ku(r.mutation,i,Zn.empty(),ht.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ie()){const i=xs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Au();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=xs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ie()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ui();const o=Qu(),a=function(){return Qu()}();return n.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(c===void 0||c.mutation instanceof io)?s=s.insert(l.key,l):c!==void 0?(o.set(l.key,c.mutation.getFieldMask()),Ku(c.mutation,l,c.mutation.getFieldMask(),ht.now())):o.set(l.key,Zn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,c)=>o.set(l,c)),n.forEach((l,c)=>{var h;return a.set(l,new P2(c,(h=o.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Qu();let i=new ot((o,a)=>o-a),s=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const l=n.get(u);if(l===null)return;let c=r.get(u)||Zn.empty();c=a.applyToLocalView(l,c),r.set(u,c);const h=(i.get(a.batchId)||Ie()).add(u);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,h=YI();c.forEach(f=>{if(!s.has(f)){const d=rb(n.get(f),r.get(f));d!==null&&h.set(f,d),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,h))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return oe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):U.resolve(xs());let a=-1,u=s;return o.next(l=>U.forEach(l,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?U.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{u=u.insert(c,f)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,Ie())).next(c=>({batchId:a,changes:GI(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(r=>{let i=Au();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Au();return this.indexManager.getCollectionParents(e,s).next(a=>U.forEach(a,u=>{const l=function(h,f){return new Na(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(c=>{c.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{const c=l.getKey();o.get(c)===null&&(o=o.insert(c,en.newInvalidDocument(c)))});let a=Au();return o.forEach((u,l)=>{const c=s.get(u);c!==void 0&&Ku(c.mutation,l,Zn.empty(),ht.now()),Cd(n,l)&&(a=a.insert(u,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return U.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Or(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:w2(i.bundledQuery),readTime:Or(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(){this.overlays=new ot(oe.comparator),this.hr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=xs();return U.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=xs(),s=n.length+1,o=new oe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ot((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=s.get(l.largestBatchId);c===null&&(c=xs(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=xs(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return U.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new YL(n,r));let s=this.hr.get(n);s===void 0&&(s=Ie(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(){this.Pr=new qt(kt.Ir),this.Tr=new qt(kt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new kt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new kt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new oe(new Xe([])),r=new kt(n,e),i=new kt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new oe(new Xe([])),r=new kt(n,e),i=new kt(n,e+1);let s=Ie();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new kt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class kt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return oe.comparator(e.key,n.key)||ke(e.pr,n.pr)}static Er(e,n){return ke(e.pr,n.pr)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new qt(kt.Ir)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new GL(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new kt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new kt(n,0),i=new kt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new qt(ke);return n.forEach(i=>{const s=new kt(i,0),o=new kt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),U.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;oe.isDocumentKey(s)||(s=s.child(""));const o=new kt(new oe(s),0);let a=new qt(ke);return this.wr.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.pr)),!0)},o),U.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ge(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return U.forEach(n.mutations,i=>{const s=new kt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new kt(n,0),i=this.wr.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e){this.vr=e,this.docs=function(){return new ot(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let r=ui();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():en.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ui();const o=n.path,a=new oe(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:c}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||dL(fL(c),r)<=0||(i.has(c.key)||Cd(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,r,i){he()}Fr(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new C2(this)}getSize(e){return U.resolve(this.size)}}class C2 extends T2{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e){this.persistence=e,this.Mr=new Da(n=>c_(n),h_),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.Or=0,this.Nr=new m_,this.targetCount=0,this.Br=ca.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),U.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new ca(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.qn(n),U.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),U.waitFor(s).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,n){this.Lr={},this.overlays={},this.kr=new o_(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new x2(this),this.indexManager=new E2,this.remoteDocumentCache=function(i){return new O2(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new _2(n),this.$r=new I2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new b2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new A2(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const i=new N2(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return U.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class N2 extends mL{constructor(e){super(),this.currentSequenceNumber=e}}class g_{constructor(e){this.persistence=e,this.zr=new m_,this.jr=null}static Hr(e){return new g_(e)}get Jr(){if(this.jr)return this.jr;throw he()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),U.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Jr,r=>{const i=oe.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,ge.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return U.or([()=>U.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Ie(),i=Ie();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new y_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return FD()?8:Cs.v(Pt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new D2;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(lu()<=Ae.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",yo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),U.resolve()):(lu()<=Ae.DEBUG&&G("QueryEngine","Query:",yo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(lu()<=Ae.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",yo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,br(n))):U.resolve())}ji(e,n){if(yE(n))return U.resolve(null);let r=br(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Qg(n,null,"F"),r=br(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ie(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const l=this.Zi(n,a);return this.Xi(n,l,o,u.readTime)?this.ji(e,Qg(n,null,"F")):this.es(e,l,n,u)}))})))}Hi(e,n,r,i){return yE(n)||i.isEqual(ge.min())?U.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?U.resolve(null):(lu()<=Ae.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),yo(n)),this.es(e,o,n,hL(i,-1)).next(a=>a))})}Zi(e,n){let r=new qt(QI(e));return n.forEach((i,s)=>{Cd(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return lu()<=Ae.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",yo(n)),this.zi.getDocumentsMatchingQuery(e,n,Ji.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new ot(ke),this.rs=new Da(s=>c_(s),h_),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new R2(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function L2(t,e,n,r){return new F2(t,e,n,r)}async function gb(t,e){const n=ve(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=Ie();for(const l of i){o.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of s){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.localDocuments.getDocuments(r,u).next(l=>({us:l,removedBatchIds:o,addedBatchIds:a}))})})}function M2(t,e){const n=ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,u,l,c){const h=l.batch,f=h.keys();let d=U.resolve();return f.forEach(y=>{d=d.next(()=>c.getEntry(u,y)).next(g=>{const _=l.docVersions.get(y);Ge(_!==null),g.version.compareTo(_)<0&&(h.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),c.addEntry(g)))})}),d.next(()=>a.mutationQueue.removeMutationBatch(u,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Ie();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function yb(t){const e=ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function V2(t,e){const n=ve(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((c,h)=>{const f=i.get(h);if(!f)return;a.push(n.Qr.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(s,c.addedDocuments,h)));let d=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?d=d.withResumeToken(on.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):c.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(c.resumeToken,r)),i=i.insert(h,d),function(g,_,m){return g.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(f,d,c)&&a.push(n.Qr.updateTargetData(s,d))});let u=ui(),l=Ie();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push($2(s,o,e.documentUpdates).next(c=>{u=c.cs,l=c.ls})),!r.isEqual(ge.min())){const c=n.Qr.getLastRemoteSnapshotVersion(s).next(h=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return U.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.ns=i,s))}function $2(t,e,n){let r=Ie(),i=Ie();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ui();return n.forEach((a,u)=>{const l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ge.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):G("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{cs:o,ls:i}})}function U2(t,e){const n=ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function B2(t,e){const n=ve(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,U.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new Ni(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Xg(t,e,n){const r=ve(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ic(o))throw o;G("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function AE(t,e,n){const r=ve(t);let i=ge.min(),s=Ie();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,c){const h=ve(u),f=h.rs.get(c);return f!==void 0?U.resolve(h.ns.get(f)):h.Qr.getTargetData(l,c)}(r,o,br(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:ge.min(),n?s:Ie())).next(a=>(H2(r,DL(e),a),{documents:a,hs:s})))}function H2(t,e,n){let r=t.ss.get(e)||ge.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class OE{constructor(){this.activeTargetIds=$L()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class W2{constructor(){this.no=new OE,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new OE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh=null;function sm(){return gh===null?gh=function(){return 268435456+Math.round(2147483648*Math.random())}():gh++,"0x"+gh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection";class K2 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=sm(),u=this.bo(n,r.toUriEncodedString());G("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const l={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(l,s,o),this.Co(n,u,l,i).then(c=>(G("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw oa("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",u,"request:",i),c})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=q2[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=sm();return new Promise((o,a)=>{const u=new eL;u.setWithCredentials(!0),u.listenOnce(XF.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case rm.NO_ERROR:const c=u.getResponseJson();G(Jt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case rm.TIMEOUT:G(Jt,`RPC '${e}' ${s} timed out`),a(new X(F.DEADLINE_EXCEEDED,"Request time out"));break;case rm.HTTP_ERROR:const h=u.getStatus();if(G(Jt,`RPC '${e}' ${s} failed with status:`,h,"response text:",u.getResponseText()),h>0){let f=u.getResponseJson();Array.isArray(f)&&(f=f[0]);const d=f?.error;if(d&&d.status&&d.message){const y=function(_){const m=_.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(m)>=0?m:F.UNKNOWN}(d.status);a(new X(y,d.message))}else a(new X(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new X(F.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{G(Jt,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);G(Jt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Fo(e,n,r){const i=sm(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=YF(),a=JF(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Do(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const c=s.join("");G(Jt,`Creating RPC '${e}' stream ${i}: ${c}`,u);const h=o.createWebChannel(c,u);let f=!1,d=!1;const y=new Q2({lo:_=>{d?G(Jt,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(f||(G(Jt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),G(Jt,`RPC '${e}' stream ${i} sending:`,_),h.send(_))},ho:()=>h.close()}),g=(_,m,p)=>{_.listen(m,w=>{try{p(w)}catch(I){setTimeout(()=>{throw I},0)}})};return g(h,dh.EventType.OPEN,()=>{d||G(Jt,`RPC '${e}' stream ${i} transport opened.`)}),g(h,dh.EventType.CLOSE,()=>{d||(d=!0,G(Jt,`RPC '${e}' stream ${i} transport closed`),y.Vo())}),g(h,dh.EventType.ERROR,_=>{d||(d=!0,oa(Jt,`RPC '${e}' stream ${i} transport errored:`,_),y.Vo(new X(F.UNAVAILABLE,"The operation could not be completed")))}),g(h,dh.EventType.MESSAGE,_=>{var m;if(!d){const p=_.data[0];Ge(!!p);const w=p,I=w.error||((m=w[0])===null||m===void 0?void 0:m.error);if(I){G(Jt,`RPC '${e}' stream ${i} received error:`,I);const k=I.status;let P=function(V){const M=_t[V];if(M!==void 0)return ob(M)}(k),A=I.message;P===void 0&&(P=F.INTERNAL,A="Unknown error status: "+k+" with message "+I.message),d=!0,y.Vo(new X(P,A)),h.close()}else G(Jt,`RPC '${e}' stream ${i} received:`,p),y.mo(p)}}),g(a,ZF.STAT_EVENT,_=>{_.stat===sE.PROXY?G(Jt,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===sE.NOPROXY&&G(Jt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.Ro()},0),y}}function om(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(t){return new s2(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,n,r,i,s,o,a,u){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new vb(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(kr(n.toString()),kr("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new X(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return G("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class G2 extends _b{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=u2(this.serializer,e),r=function(s){if(!("targetChange"in s))return ge.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ge.min():o.readTime?Or(o.readTime):ge.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=Jg(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=zg(u)?{documents:h2(s,u)}:{query:f2(s,u).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=lb(s,o.resumeToken);const l=Kg(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(ge.min())>0){a.readTime=xf(s,o.snapshotVersion.toTimestamp());const l=Kg(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);const r=p2(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=Jg(this.serializer),n.removeTarget=e,this.t_(n)}}class Y2 extends _b{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=c2(e.writeResults,e.commitTime),r=Or(e.commitTime);return this.listener.T_(r,n)}return Ge(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Jg(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>l2(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new X(F.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,Gg(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X(F.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,Gg(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(F.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class X2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(kr(n),this.g_=!1):G("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{so(this)&&(G("RemoteStore","Restarting streams for network reachability change."),await async function(u){const l=ve(u);l.v_.add(4),await Cc(l),l.x_.set("Unknown"),l.v_.delete(4),await jd(l)}(this))})}),this.x_=new X2(r,i)}}async function jd(t){if(so(t))for(const e of t.F_)await e(!0)}async function Cc(t){for(const e of t.F_)await e(!1)}function wb(t,e){const n=ve(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),w_(n)?__(n):ja(n).Jo()&&v_(n,e))}function Eb(t,e){const n=ve(t),r=ja(n);n.C_.delete(e),r.Jo()&&Sb(n,e),n.C_.size===0&&(r.Jo()?r.Xo():so(n)&&n.x_.set("Unknown"))}function v_(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ja(t).c_(e)}function Sb(t,e){t.O_.Oe(e),ja(t).l_(e)}function __(t){t.O_=new t2({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),ja(t).start(),t.x_.p_()}function w_(t){return so(t)&&!ja(t).Ho()&&t.C_.size>0}function so(t){return ve(t).v_.size===0}function Tb(t){t.O_=void 0}async function eM(t){t.C_.forEach((e,n)=>{v_(t,e)})}async function tM(t,e){Tb(t),w_(t)?(t.x_.S_(e),__(t)):t.x_.set("Unknown")}async function nM(t,e,n){if(t.x_.set("Online"),e instanceof ub&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){G("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await kf(t,r)}else if(e instanceof Vh?t.O_.$e(e):e instanceof ab?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(ge.min()))try{const r=await yb(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.O_.it(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const c=s.C_.get(l);c&&s.C_.set(l,c.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{const c=s.C_.get(u);if(!c)return;s.C_.set(u,c.withResumeToken(on.EMPTY_BYTE_STRING,c.snapshotVersion)),Sb(s,u);const h=new Ni(c.target,u,l,c.sequenceNumber);v_(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){G("RemoteStore","Failed to raise snapshot:",r),await kf(t,r)}}async function kf(t,e,n){if(!Ic(e))throw e;t.v_.add(1),await Cc(t),t.x_.set("Offline"),n||(n=()=>yb(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await jd(t)})}function Pb(t,e){return e().catch(n=>kf(t,n,e))}async function Fd(t){const e=ve(t),n=Zi(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;rM(e);)try{const i=await U2(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,iM(e,i)}catch(i){await kf(e,i)}Rb(e)&&Ib(e)}function rM(t){return so(t)&&t.D_.length<10}function iM(t,e){t.D_.push(e);const n=Zi(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function Rb(t){return so(t)&&!Zi(t).Ho()&&t.D_.length>0}function Ib(t){Zi(t).start()}async function sM(t){Zi(t).d_()}async function oM(t){const e=Zi(t);for(const n of t.D_)e.I_(n.mutations)}async function aM(t,e,n){const r=t.D_.shift(),i=f_.from(r,e,n);await Pb(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Fd(t)}async function uM(t,e){e&&Zi(t).P_&&await async function(r,i){if(function(o){return XL(o)&&o!==F.ABORTED}(i.code)){const s=r.D_.shift();Zi(r).Zo(),await Pb(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Fd(r)}}(t,e),Rb(t)&&Ib(t)}async function xE(t,e){const n=ve(t);n.asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials");const r=so(n);n.v_.add(3),await Cc(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await jd(n)}async function lM(t,e){const n=ve(t);e?(n.v_.delete(2),await jd(n)):e||(n.v_.add(2),await Cc(n),n.x_.set("Unknown"))}function ja(t){return t.N_||(t.N_=function(n,r,i){const s=ve(n);return s.R_(),new G2(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:eM.bind(null,t),To:tM.bind(null,t),u_:nM.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),w_(t)?__(t):t.x_.set("Unknown")):(await t.N_.stop(),Tb(t))})),t.N_}function Zi(t){return t.B_||(t.B_=function(n,r,i){const s=ve(n);return s.R_(),new Y2(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:sM.bind(null,t),To:uM.bind(null,t),E_:oM.bind(null,t),T_:aM.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await Fd(t)):(await t.B_.stop(),t.D_.length>0&&(G("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new E_(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ld(t,e){if(kr("AsyncQueue",`${e}: ${t}`),Ic(t))return new X(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this.comparator=e?(n,r)=>e(n,r)||oe.comparator(n.key,r.key):(n,r)=>oe.comparator(n.key,r.key),this.keyedMap=Au(),this.sortedSet=new ot(this.comparator)}static emptySet(e){return new Go(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Go)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Go;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(){this.L_=new ot(oe.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):he():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ha{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ha(e,n,Go.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(){this.q_=void 0,this.Q_=[]}}class hM{constructor(){this.queries=new Da(e=>qI(e),bc),this.onlineState="Unknown",this.K_=new Set}}async function bb(t,e){const n=ve(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new cM),i)try{s.q_=await n.onListen(r)}catch(o){const a=Ld(o,`Initialization of query '${yo(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.Q_.push(e),e.U_(n.onlineState),s.q_&&e.W_(s.q_)&&S_(n)}async function Ab(t,e){const n=ve(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),i=s.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function fM(t,e){const n=ve(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Q_)a.W_(i)&&(r=!0);o.q_=i}}r&&S_(n)}function dM(t,e,n){const r=ve(t),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(e)}function S_(t){t.K_.forEach(e=>{e.next()})}class Ob{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ha(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=ha.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e){this.key=e}}class xb{constructor(e){this.key=e}}class pM{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Ie(),this.mutatedKeys=Ie(),this.ua=QI(e),this.ca=new Go(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new kE,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const f=i.get(c),d=Cd(this.query,h)?h:null,y=!!f&&this.mutatedKeys.has(f.key),g=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let _=!1;f&&d?f.data.isEqual(d.data)?y!==g&&(r.track({type:3,doc:d}),_=!0):this.Ia(f,d)||(r.track({type:2,doc:d}),_=!0,(u&&this.ua(d,u)>0||l&&this.ua(d,l)<0)&&(a=!0)):!f&&d?(r.track({type:0,doc:d}),_=!0):f&&!d&&(r.track({type:1,doc:f}),_=!0,(u||l)&&(a=!0)),_&&(d?(o=o.add(d),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ca:o,Pa:r,Xi:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const o=e.Pa.k_();o.sort((c,h)=>function(d,y){const g=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he()}};return g(d)-g(y)}(c.type,h.type)||this.ua(c.doc,h.doc)),this.Ta(r),i=i!=null&&i;const a=n&&!i?this.Ea():[],u=this.aa.size===0&&this.current&&!i?1:0,l=u!==this._a;return this._a=u,o.length!==0||l?{snapshot:new ha(this.query,e.ca,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new kE,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=Ie(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new xb(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new Cb(r))}),n}Ra(e){this.oa=e.hs,this.aa=Ie();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return ha.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class mM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class gM{constructor(e){this.key=e,this.ma=!1}}class yM{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new Da(a=>qI(a),bc),this.pa=new Map,this.ya=new Set,this.wa=new ot(oe.comparator),this.Sa=new Map,this.ba=new m_,this.Da={},this.Ca=new Map,this.va=ca.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function vM(t,e){const n=AM(t);let r,i;const s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=await B2(n.localStore,br(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await _M(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&wb(n.remoteStore,o)}return i}async function _M(t,e,n,r,i){t.Ma=(h,f,d)=>async function(g,_,m,p){let w=_.view.ha(m);w.Xi&&(w=await AE(g.localStore,_.query,!1).then(({documents:A})=>_.view.ha(A,w)));const I=p&&p.targetChanges.get(_.targetId),k=p&&p.targetMismatches.get(_.targetId)!=null,P=_.view.applyChanges(w,g.isPrimaryClient,I,k);return DE(g,_.targetId,P.da),P.snapshot}(t,h,f,d);const s=await AE(t.localStore,e,!0),o=new pM(e,s.hs),a=o.ha(s.documents),u=Oc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,u);DE(t,n,l.da);const c=new mM(e,n,o);return t.ga.set(e,c),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),l.snapshot}async function wM(t,e){const n=ve(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!bc(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Xg(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Eb(n.remoteStore,r.targetId),Zg(n,r.targetId)}).catch(Rc)):(Zg(n,r.targetId),await Xg(n.localStore,r.targetId,!0))}async function EM(t,e,n){const r=OM(t);try{const i=await function(o,a){const u=ve(o),l=ht.now(),c=a.reduce((d,y)=>d.add(y.key),Ie());let h,f;return u.persistence.runTransaction("Locally write mutations","readwrite",d=>{let y=ui(),g=Ie();return u.os.getEntries(d,c).next(_=>{y=_,y.forEach((m,p)=>{p.isValidDocument()||(g=g.add(m))})}).next(()=>u.localDocuments.getOverlayedDocuments(d,y)).next(_=>{h=_;const m=[];for(const p of a){const w=QL(p,h.get(p.key).overlayedDocument);w!=null&&m.push(new io(p.key,w,MI(w.value.mapValue),Ar.exists(!0)))}return u.mutationQueue.addMutationBatch(d,l,m,a)}).next(_=>{f=_;const m=_.applyToLocalDocumentSet(h,g);return u.documentOverlayCache.saveOverlays(d,_.batchId,m)})}).then(()=>({batchId:f.batchId,changes:GI(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Da[o.currentUser.toKey()];l||(l=new ot(ke)),l=l.insert(a,u),o.Da[o.currentUser.toKey()]=l}(r,i.batchId,n),await xc(r,i.changes),await Fd(r.remoteStore)}catch(i){const s=Ld(i,"Failed to persist write");n.reject(s)}}async function kb(t,e){const n=ve(t);try{const r=await V2(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&(Ge(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?Ge(o.ma):i.removedDocuments.size>0&&(Ge(o.ma),o.ma=!1))}),await xc(n,r,e)}catch(r){await Rc(r)}}function NE(t,e,n){const r=ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((s,o)=>{const a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=ve(o);u.onlineState=a;let l=!1;u.queries.forEach((c,h)=>{for(const f of h.Q_)f.U_(a)&&(l=!0)}),l&&S_(u)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function SM(t,e,n){const r=ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),s=i&&i.key;if(s){let o=new ot(oe.comparator);o=o.insert(s,en.newNoDocument(s,ge.min()));const a=Ie().add(s),u=new Nd(ge.min(),new Map,new ot(ke),o,a);await kb(r,u),r.wa=r.wa.remove(s),r.Sa.delete(e),T_(r)}else await Xg(r.localStore,e,!1).then(()=>Zg(r,e,n)).catch(Rc)}async function TM(t,e){const n=ve(t),r=e.batch.batchId;try{const i=await M2(n.localStore,e);Db(n,r,null),Nb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xc(n,i)}catch(i){await Rc(i)}}async function PM(t,e,n){const r=ve(t);try{const i=await function(o,a){const u=ve(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return u.mutationQueue.lookupMutationBatch(l,a).next(h=>(Ge(h!==null),c=h.keys(),u.mutationQueue.removeMutationBatch(l,h))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,c,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>u.localDocuments.getDocuments(l,c))})}(r.localStore,e);Db(r,e,n),Nb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await xc(r,i)}catch(i){await Rc(i)}}function Nb(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function Db(t,e,n){const r=ve(t);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function Zg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||jb(t,r)})}function jb(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(Eb(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),T_(t))}function DE(t,e,n){for(const r of n)r instanceof Cb?(t.ba.addReference(r.key,e),RM(t,r)):r instanceof xb?(G("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||jb(t,r.key)):he()}function RM(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(G("SyncEngine","New document in limbo: "+n),t.ya.add(r),T_(t))}function T_(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new oe(Xe.fromString(e)),r=t.va.next();t.Sa.set(r,new gM(n)),t.wa=t.wa.insert(n,r),wb(t.remoteStore,new Ni(br(Od(n.path)),r,"TargetPurposeLimboResolution",o_._e))}}async function xc(t,e,n){const r=ve(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,u)=>{o.push(r.Ma(u,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,l?.fromCache?"not-current":"current"),l){i.push(l);const c=y_.Ki(u.targetId,l);s.push(c)}}))}),await Promise.all(o),r.fa.u_(i),await async function(u,l){const c=ve(u);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>U.forEach(l,f=>U.forEach(f.qi,d=>c.persistence.referenceDelegate.addReference(h,f.targetId,d)).next(()=>U.forEach(f.Qi,d=>c.persistence.referenceDelegate.removeReference(h,f.targetId,d)))))}catch(h){if(!Ic(h))throw h;G("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const f=h.targetId;if(!h.fromCache){const d=c.ns.get(f),y=d.snapshotVersion,g=d.withLastLimboFreeSnapshotVersion(y);c.ns=c.ns.insert(f,g)}}}(r.localStore,s))}async function IM(t,e){const n=ve(t);if(!n.currentUser.isEqual(e)){G("SyncEngine","User change. New user:",e.toKey());const r=await gb(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(a=>{a.forEach(u=>{u.reject(new X(F.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xc(n,r.us)}}function bM(t,e){const n=ve(t),r=n.Sa.get(e);if(r&&r.ma)return Ie().add(r.key);{let i=Ie();const s=n.pa.get(e);if(!s)return i;for(const o of s){const a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}function AM(t){const e=ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=kb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=SM.bind(null,e),e.fa.u_=fM.bind(null,e.eventManager),e.fa.xa=dM.bind(null,e.eventManager),e}function OM(t){const e=ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PM.bind(null,e),e}class jE{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Dd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return L2(this.persistence,new j2,e.initialUser,this.serializer)}createPersistence(e){return new k2(g_.Hr,this.serializer)}createSharedClientState(e){return new W2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class CM{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>NE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=IM.bind(null,this.syncEngine),await lM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new hM}()}createDatastore(e){const n=Dd(e.databaseInfo.databaseId),r=function(s){return new K2(s)}(e.databaseInfo);return function(s,o,a,u){return new J2(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Z2(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>NE(this.syncEngine,n,0),function(){return CE.D()?new CE:new z2}())}createSyncEngine(e,n){return function(i,s,o,a,u,l,c){const h=new yM(i,s,o,a,u,l);return c&&(h.Fa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=ve(r);G("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await Cc(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):kr("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Xt.UNAUTHENTICATED,this.clientId=jI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{G("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(G("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new X(F.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ld(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function am(t,e){t.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await gb(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function FE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Lb(t);G("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>xE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>xE(e.remoteStore,i)),t._onlineComponents=e}function kM(t){return t.name==="FirebaseError"?t.code===F.FAILED_PRECONDITION||t.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Lb(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G("FirestoreClient","Using user provided OfflineComponentProvider");try{await am(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!kM(n))throw n;oa("Error using user provided cache. Falling back to memory cache: "+n),await am(t,new jE)}}else G("FirestoreClient","Using default OfflineComponentProvider"),await am(t,new jE);return t._offlineComponents}async function Mb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G("FirestoreClient","Using user provided OnlineComponentProvider"),await FE(t,t._uninitializedComponentsProvider._online)):(G("FirestoreClient","Using default OnlineComponentProvider"),await FE(t,new CM))),t._onlineComponents}function NM(t){return Lb(t).then(e=>e.localStore)}function DM(t){return Mb(t).then(e=>e.syncEngine)}async function ey(t){const e=await Mb(t),n=e.eventManager;return n.onListen=vM.bind(null,e.syncEngine),n.onUnlisten=wM.bind(null,e.syncEngine),n}function jM(t,e){const n=new Ir;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await function(l,c){const h=ve(l);return h.persistence.runTransaction("read document","readonly",f=>h.localDocuments.getDocument(f,c))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new X(F.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const u=Ld(a,`Failed to get document '${s} from cache`);o.reject(u)}}(await NM(t),e,n)),n.promise}function FM(t,e,n={}){const r=new Ir;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,l){const c=new Fb({next:f=>{o.enqueueAndForget(()=>Ab(s,h));const d=f.docs.has(a);!d&&f.fromCache?l.reject(new X(F.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&f.fromCache&&u&&u.source==="server"?l.reject(new X(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(f)},error:f=>l.reject(f)}),h=new Ob(Od(a.path),c,{includeMetadataChanges:!0,Z_:!0});return bb(s,h)}(await ey(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(t,e,n){if(!n)throw new X(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function LM(t,e,n,r){if(e===!0&&r===!0)throw new X(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ME(t){if(!oe.isDocumentKey(t))throw new X(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function VE(t){if(oe.isDocumentKey(t))throw new X(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Md(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he()}function rr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Md(t);throw new X(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new X(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new X(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Vb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new X(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new X(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new X(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $E({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new X(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new X(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $E(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new nL;switch(r.type){case"firstParty":return new oL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=LE.get(n);r&&(G("ComponentProvider","Removing Datastore"),LE.delete(n),r.terminate())}(this),Promise.resolve()}}function MM(t,e,n,r={}){var i;const s=(t=rr(t,Vd))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&oa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Xt.MOCK_USER;else{a=PR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new X(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Xt(l)}t._authCredentials=new rL(new DI(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new li(this.firestore,e,this._query)}}class rn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rn(this.firestore,e,this._key)}}class Wi extends li{constructor(e,n,r){super(e,n,Od(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rn(this.firestore,null,new oe(e))}withConverter(e){return new Wi(this.firestore,e,this._path)}}function Mr(t,e,...n){if(t=jt(t),$b("collection","path",e),t instanceof Vd){const r=Xe.fromString(e,...n);return VE(r),new Wi(t,null,r)}{if(!(t instanceof rn||t instanceof Wi))throw new X(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xe.fromString(e,...n));return VE(r),new Wi(t.firestore,null,r)}}function ss(t,e,...n){if(t=jt(t),arguments.length===1&&(e=jI.newId()),$b("doc","path",e),t instanceof Vd){const r=Xe.fromString(e,...n);return ME(r),new rn(t,null,new oe(r))}{if(!(t instanceof rn||t instanceof Wi))throw new X(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xe.fromString(e,...n));return ME(r),new rn(t.firestore,t instanceof Wi?t.converter:null,new oe(r))}}function VM(t,e){return t=jt(t),e=jt(e),t instanceof li&&e instanceof li&&t.firestore===e.firestore&&bc(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new vb(this,"async_queue_retry"),this._u=()=>{const n=om();n&&G("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=om();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=om();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new Ir;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!Ic(e))throw e;G("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw kr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const i=E_.createAndSchedule(this,e,n,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&he()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}function UE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Ks extends Vd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new $M}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ub(this),this._firestoreClient.terminate()}}function UM(t,e){const n=typeof t=="object"?t:Dv(),r=typeof t=="string"?t:e||"(default)",i=hd(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=ER("firestore");s&&MM(i,...s)}return i}function $d(t){return t._firestoreClient||Ub(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Ub(t){var e,n,r;const i=t._freezeSettings(),s=function(a,u,l,c){return new wL(a,u,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Vb(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new xM(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fa(on.fromBase64String(e))}catch(n){throw new X(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fa(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM=/^__.*__$/;class HM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new io(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ac(e,this.data,n,this.fieldTransforms)}}function Hb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}class I_{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new I_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Nf(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(Hb(this.du)&&BM.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class WM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Dd(e)}Su(e,n,r,i=!1){return new I_({du:e,methodName:n,wu:r,path:Ht.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function b_(t){const e=t._freezeSettings(),n=Dd(t._databaseId);return new WM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Wb(t,e,n,r,i,s={}){const o=t.Su(s.merge||s.mergeFields?2:0,e,n,i);Qb("Data must be an object, but it was:",o,r);const a=zb(r,o);let u,l;if(s.merge)u=new Zn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const f=qM(e,h,n);if(!o.contains(f))throw new X(F.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);KM(c,f)||c.push(f)}u=new Zn(c),l=o.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,l=o.fieldTransforms;return new HM(new Un(a),u,l)}function zM(t,e,n,r=!1){return A_(n,t.Su(r?4:3,e))}function A_(t,e){if(qb(t=jt(t)))return Qb("Unsupported field value:",e,t),zb(t,e);if(t instanceof Bb)return function(r,i){if(!Hb(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=A_(a,i.gu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return UL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ht.fromDate(r);return{timestampValue:xf(i.serializer,s)}}if(r instanceof ht){const s=new ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xf(i.serializer,s)}}if(r instanceof R_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fa)return{bytesValue:lb(i.serializer,r._byteString)};if(r instanceof rn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:p_(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${Md(r)}`)}(t,e)}function zb(t,e){const n={};return FI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ka(t,(r,i)=>{const s=A_(i,e.Ru(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function qb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ht||t instanceof R_||t instanceof fa||t instanceof rn||t instanceof Bb)}function Qb(t,e,n){if(!qb(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Md(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function qM(t,e,n){if((e=jt(e))instanceof P_)return e._internalPath;if(typeof e=="string")return Kb(t,e);throw Nf("Field path arguments must be of type string or ",t,!1,void 0,n)}const QM=new RegExp("[~\\*/\\[\\]]");function Kb(t,e,n){if(e.search(QM)>=0)throw Nf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new P_(...e.split("."))._internalPath}catch{throw Nf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Nf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new X(F.INVALID_ARGUMENT,a+t+u)}function KM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ud("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class GM extends Gb{data(){return super.data()}}function Ud(t,e){return typeof e=="string"?Kb(t,e):e instanceof P_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class O_{}class Yb extends O_{}function vs(t,e,...n){let r=[];e instanceof O_&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof C_).length,a=s.filter(u=>u instanceof Bd).length;if(o>1||o>0&&a>0)throw new X(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Bd extends Yb{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Bd(e,n,r)}_apply(e){const n=this._parse(e);return Jb(e._query,n),new li(e.firestore,e.converter,qg(e._query,n))}_parse(e){const n=b_(e.firestore);return function(s,o,a,u,l,c,h){let f;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new X(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){HE(h,c);const d=[];for(const y of h)d.push(BE(u,s,y));f={arrayValue:{values:d}}}else f=BE(u,s,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||HE(h,c),f=zM(a,o,h,c==="in"||c==="not-in");return Tt.create(l,c,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function cu(t,e,n){const r=e,i=Ud("where",t);return Bd._create(i,r,n)}class C_ extends O_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new C_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ar.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const u of a)Jb(o,u),o=qg(o,u)}(e._query,n),new li(e.firestore,e.converter,qg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class x_ extends Yb{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new x_(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new X(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new X(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Cl(s,o)}(e._query,this._field,this._direction);return new li(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Na(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function JM(t,e="asc"){const n=e,r=Ud("orderBy",t);return x_._create(r,n)}function BE(t,e,n){if(typeof(n=jt(n))=="string"){if(n==="")throw new X(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zI(e)&&n.indexOf("/")!==-1)throw new X(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Xe.fromString(n));if(!oe.isDocumentKey(r))throw new X(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hE(t,new oe(r))}if(n instanceof rn)return hE(t,n._key);throw new X(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Md(n)}.`)}function HE(t,e){if(!Array.isArray(t)||t.length===0)throw new X(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Jb(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new X(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class XM{convertValue(e,n="none"){switch(Qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw he()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ka(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new R_(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=u_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(bl(e));default:return null}}convertTimestamp(e){const n=Xi(e);return new ht(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Xe.fromString(e);Ge(mb(r));const i=new Al(r.get(1),r.get(3)),s=new oe(r.popFirst(5));return i.isEqual(n)||kr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class k_ extends Gb{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new $h(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ud("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class $h extends k_{data(e={}){return super.data(e)}}class ZM{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new jo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new $h(this._firestore,this._userDataWriter,r.key,r,new jo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new $h(i._firestore,i._userDataWriter,a.doc.key,a.doc,new jo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new $h(i._firestore,i._userDataWriter,a.doc.key,a.doc,new jo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:eV(a.type),doc:u,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function eV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(t){t=rr(t,rn);const e=rr(t.firestore,Ks);return FM($d(e),t._key).then(n=>eA(e,t,n))}class N_ extends XM{constructor(e){super(),this.firestore=e}convertBytes(e){return new fa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rn(this.firestore,null,n)}}function tV(t){t=rr(t,rn);const e=rr(t.firestore,Ks),n=$d(e),r=new N_(e);return jM(n,t._key).then(i=>new k_(e,r,t._key,i,new jo(i!==null&&i.hasLocalMutations,!0),t.converter))}function zi(t,e,n){t=rr(t,rn);const r=rr(t.firestore,Ks),i=Xb(t.converter,e,n);return Zb(r,[Wb(b_(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ar.none())])}function nV(t,e){const n=rr(t.firestore,Ks),r=ss(t),i=Xb(t.converter,e);return Zb(n,[Wb(b_(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ar.exists(!1))]).then(()=>r)}function WE(t,...e){var n,r,i;t=jt(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||UE(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(UE(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let u,l,c;if(t instanceof rn)l=rr(t.firestore,Ks),c=Od(t._key.path),u={next:h=>{e[o]&&e[o](eA(l,t,h))},error:e[o+1],complete:e[o+2]};else{const h=rr(t,li);l=rr(h.firestore,Ks),c=h._query;const f=new N_(l);u={next:d=>{e[o]&&e[o](new ZM(l,f,h,d))},error:e[o+1],complete:e[o+2]},YM(t._query)}return function(f,d,y,g){const _=new Fb(g),m=new Ob(d,_,y);return f.asyncQueue.enqueueAndForget(async()=>bb(await ey(f),m)),()=>{_.La(),f.asyncQueue.enqueueAndForget(async()=>Ab(await ey(f),m))}}($d(l),c,a,u)}function Zb(t,e){return function(r,i){const s=new Ir;return r.asyncQueue.enqueueAndForget(async()=>EM(await DM(r),i,s)),s.promise}($d(t),e)}function eA(t,e,n){const r=n.docs.get(e._key),i=new N_(t);return new k_(t,i,e._key,r,new jo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){xa=i})(no),Ws(new Yi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Ks(new iL(r.getProvider("auth-internal")),new uL(r.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new X(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Al(l.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Rr(oE,"4.4.2",e),Rr(oE,"4.4.2","esm2017")})();var rV="firebase",iV="10.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rr(rV,iV,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="firebasestorage.googleapis.com",sV="storageBucket",oV=2*60*1e3,aV=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends Lr{constructor(e,n,r=0){super(um(e),`Firebase Storage: ${n} (${um(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Vr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return um(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Dr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Dr||(Dr={}));function um(t){return"storage/"+t}function uV(){const t="An unknown error occurred, please check the error payload for server response.";return new Vr(Dr.UNKNOWN,t)}function lV(){return new Vr(Dr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function cV(){return new Vr(Dr.CANCELED,"User canceled the upload/download.")}function hV(t){return new Vr(Dr.INVALID_URL,"Invalid URL '"+t+"'.")}function fV(t){return new Vr(Dr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function zE(t){return new Vr(Dr.INVALID_ARGUMENT,t)}function nA(){return new Vr(Dr.APP_DELETED,"The Firebase app was deleted.")}function dV(t){return new Vr(Dr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=er.makeFromUrl(e,n)}catch{return new er(e,"")}if(r.path==="")return r;throw fV(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function l(I){I.path_=decodeURIComponent(I.path)}const c="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",d=new RegExp(`^https?://${h}/${c}/b/${i}/o${f}`,"i"),y={bucket:1,path:3},g=n===tA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",m=new RegExp(`^https?://${g}/${i}/${_}`,"i"),w=[{regex:a,indices:u,postModify:s},{regex:d,indices:y,postModify:l},{regex:m,indices:{bucket:1,path:2},postModify:l}];for(let I=0;I<w.length;I++){const k=w[I],P=k.regex.exec(e);if(P){const A=P[k.indices.bucket];let N=P[k.indices.path];N||(N=""),r=new er(A,N),k.postModify(r);break}}if(r==null)throw hV(e);return r}}class pV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mV(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let l=!1;function c(..._){l||(l=!0,e.apply(null,_))}function h(_){i=setTimeout(()=>{i=null,t(d,u())},_)}function f(){s&&clearTimeout(s)}function d(_,...m){if(l){f();return}if(_){f(),c.call(null,_,...m);return}if(u()||o){f(),c.call(null,_,...m);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,h(w)}let y=!1;function g(_){y||(y=!0,f(),!l&&(i!==null?(_||(a=2),clearTimeout(i),h(0)):_||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,g(!0)},n),g}function gV(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(t){return t!==void 0}function qE(t,e,n,r){if(r<e)throw zE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw zE(`Invalid value for '${t}'. Expected ${n} or less.`)}function vV(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Df;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Df||(Df={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _V(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e,n,r,i,s,o,a,u,l,c,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((d,y)=>{this.resolve_=d,this.reject_=y,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new yh(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const u=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Df.NO_ERROR,u=s.getStatus();if(!a||_V(u,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Df.ABORT;r(!1,new yh(!1,null,c));return}const l=this.successCodes_.indexOf(u)!==-1;r(!0,new yh(l,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());yV(u)?s(u):s()}catch(u){o(u)}else if(a!==null){const u=uV();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){const u=this.appDelete_?nA():cV();o(u)}else{const u=lV();o(u)}};this.canceled_?n(!1,new yh(!1,null,!0)):this.backoffId_=mV(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&gV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class yh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function EV(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function SV(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function TV(t,e){e&&(t["X-Firebase-GMPID"]=e)}function PV(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function RV(t,e,n,r,i,s,o=!0){const a=vV(t.urlParams),u=t.url+a,l=Object.assign({},t.headers);return TV(l,e),EV(l,n),SV(l,s),PV(l,r),new wV(u,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IV(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function bV(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,n){this._service=e,n instanceof er?this._location=n:this._location=er.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new jf(e,n)}get root(){const e=new er(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return bV(this._location.path)}get storage(){return this._service}get parent(){const e=IV(this._location.path);if(e===null)return null;const n=new er(this._location.bucket,e);return new jf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw dV(e)}}function QE(t,e){const n=e?.[sV];return n==null?null:er.makeFromBucketSpec(n,t)}function AV(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:PR(i,t.app.options.projectId))}class OV{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=tA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=oV,this._maxUploadRetryTime=aV,this._requests=new Set,i!=null?this._bucket=er.makeFromBucketSpec(i,this._host):this._bucket=QE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=er.makeFromBucketSpec(this._url,e):this._bucket=QE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){qE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){qE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new jf(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new pV(nA());{const o=RV(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const KE="@firebase/storage",GE="0.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="storage";function CV(t=Dv(),e){t=jt(t);const r=hd(t,rA).getImmediate({identifier:e}),i=ER("storage");return i&&xV(r,...i),r}function xV(t,e,n,r={}){AV(t,e,n,r)}function kV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new OV(n,r,i,e,no)}function NV(){Ws(new Yi(rA,kV,"PUBLIC").setMultipleInstances(!0)),Rr(KE,GE,""),Rr(KE,GE,"esm2017")}NV();var iA={exports:{}};/*! algoliasearch.umd.js | 4.22.1 | © Algolia, inc. | https://github.com/algolia/algoliasearch-client-javascript */(function(t,e){(function(n,r){t.exports=r()})(TC,function(){function n(v,E,S){return E in v?Object.defineProperty(v,E,{value:S,enumerable:!0,configurable:!0,writable:!0}):v[E]=S,v}function r(v,E){var S=Object.keys(v);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(v);E&&(R=R.filter(function(C){return Object.getOwnPropertyDescriptor(v,C).enumerable})),S.push.apply(S,R)}return S}function i(v){for(var E=1;E<arguments.length;E++){var S=arguments[E]!=null?arguments[E]:{};E%2?r(Object(S),!0).forEach(function(R){n(v,R,S[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(S)):r(Object(S)).forEach(function(R){Object.defineProperty(v,R,Object.getOwnPropertyDescriptor(S,R))})}return v}function s(v,E){if(v==null)return{};var S,R,C=function(Q,$){if(Q==null)return{};var z,te,J={},pe=Object.keys(Q);for(te=0;te<pe.length;te++)z=pe[te],$.indexOf(z)>=0||(J[z]=Q[z]);return J}(v,E);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(v);for(R=0;R<B.length;R++)S=B[R],E.indexOf(S)>=0||Object.prototype.propertyIsEnumerable.call(v,S)&&(C[S]=v[S])}return C}function o(v,E){return function(S){if(Array.isArray(S))return S}(v)||function(S,R){if(Symbol.iterator in Object(S)||Object.prototype.toString.call(S)==="[object Arguments]"){var C=[],B=!0,Q=!1,$=void 0;try{for(var z,te=S[Symbol.iterator]();!(B=(z=te.next()).done)&&(C.push(z.value),!R||C.length!==R);B=!0);}catch(J){Q=!0,$=J}finally{try{B||te.return==null||te.return()}finally{if(Q)throw $}}return C}}(v,E)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(v){return function(E){if(Array.isArray(E)){for(var S=0,R=new Array(E.length);S<E.length;S++)R[S]=E[S];return R}}(v)||function(E){if(Symbol.iterator in Object(E)||Object.prototype.toString.call(E)==="[object Arguments]")return Array.from(E)}(v)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(v){var E,S="algoliasearch-client-js-".concat(v.key),R=function(){return E===void 0&&(E=v.localStorage||window.localStorage),E},C=function(){return JSON.parse(R().getItem(S)||"{}")},B=function($){R().setItem(S,JSON.stringify($))},Q=function(){var $=v.timeToLive?1e3*v.timeToLive:null,z=C(),te=Object.fromEntries(Object.entries(z).filter(function(pe){return o(pe,2)[1].timestamp!==void 0}));if(B(te),$){var J=Object.fromEntries(Object.entries(te).filter(function(pe){var fe=o(pe,2)[1],Oe=new Date().getTime();return!(fe.timestamp+$<Oe)}));B(J)}};return{get:function($,z){var te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then(function(){Q();var J=JSON.stringify($);return C()[J]}).then(function(J){return Promise.all([J?J.value:z(),J!==void 0])}).then(function(J){var pe=o(J,2),fe=pe[0],Oe=pe[1];return Promise.all([fe,Oe||te.miss(fe)])}).then(function(J){return o(J,1)[0]})},set:function($,z){return Promise.resolve().then(function(){var te=C();return te[JSON.stringify($)]={timestamp:new Date().getTime(),value:z},R().setItem(S,JSON.stringify(te)),z})},delete:function($){return Promise.resolve().then(function(){var z=C();delete z[JSON.stringify($)],R().setItem(S,JSON.stringify(z))})},clear:function(){return Promise.resolve().then(function(){R().removeItem(S)})}}}function l(v){var E=a(v.caches),S=E.shift();return S===void 0?{get:function(R,C){var B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},Q=C();return Q.then(function($){return Promise.all([$,B.miss($)])}).then(function($){return o($,1)[0]})},set:function(R,C){return Promise.resolve(C)},delete:function(R){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(R,C){var B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return S.get(R,C,B).catch(function(){return l({caches:E}).get(R,C,B)})},set:function(R,C){return S.set(R,C).catch(function(){return l({caches:E}).set(R,C)})},delete:function(R){return S.delete(R).catch(function(){return l({caches:E}).delete(R)})},clear:function(){return S.clear().catch(function(){return l({caches:E}).clear()})}}}function c(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{serializable:!0},E={};return{get:function(S,R){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},B=JSON.stringify(S);if(B in E)return Promise.resolve(v.serializable?JSON.parse(E[B]):E[B]);var Q=R(),$=C&&C.miss||function(){return Promise.resolve()};return Q.then(function(z){return $(z)}).then(function(){return Q})},set:function(S,R){return E[JSON.stringify(S)]=v.serializable?JSON.stringify(R):R,Promise.resolve(R)},delete:function(S){return delete E[JSON.stringify(S)],Promise.resolve()},clear:function(){return E={},Promise.resolve()}}}function h(v,E,S){var R={"x-algolia-api-key":S,"x-algolia-application-id":E};return{headers:function(){return v===m.WithinHeaders?R:{}},queryParameters:function(){return v===m.WithinQueryParameters?R:{}}}}function f(v){var E=0;return v(function S(){return E++,new Promise(function(R){setTimeout(function(){R(v(S))},Math.min(100*E,1e3))})})}function d(v){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(S,R){return Promise.resolve()};return Object.assign(v,{wait:function(S){return d(v.then(function(R){return Promise.all([E(R,S),R])}).then(function(R){return R[1]}))}})}function y(v){for(var E=v.length-1;E>0;E--){var S=Math.floor(Math.random()*(E+1)),R=v[E];v[E]=v[S],v[S]=R}return v}function g(v,E){return E&&Object.keys(E).forEach(function(S){v[S]=E[S](v)}),v}function _(v){for(var E=arguments.length,S=new Array(E>1?E-1:0),R=1;R<E;R++)S[R-1]=arguments[R];var C=0;return v.replace(/%s/g,function(){return encodeURIComponent(S[C++])})}var m={WithinQueryParameters:0,WithinHeaders:1};function p(v,E){var S=v||{},R=S.data||{};return Object.keys(S).forEach(function(C){["timeout","headers","queryParameters","data","cacheable"].indexOf(C)===-1&&(R[C]=S[C])}),{data:Object.entries(R).length>0?R:void 0,timeout:S.timeout||E,headers:S.headers||{},queryParameters:S.queryParameters||{},cacheable:S.cacheable}}var w={Read:1,Write:2,Any:3},I=1,k=2,P=3;function A(v){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:I;return i(i({},v),{},{status:E,lastUpdate:Date.now()})}function N(v){return typeof v=="string"?{protocol:"https",url:v,accept:w.Any}:{protocol:v.protocol||"https",url:v.url,accept:v.accept||w.Any}}var V="DELETE",M="GET",L="POST",ye="PUT";function Pe(v,E){return Promise.all(E.map(function(S){return v.get(S,function(){return Promise.resolve(A(S))})})).then(function(S){var R=S.filter(function(Q){return function($){return $.status===I||Date.now()-$.lastUpdate>12e4}(Q)}),C=S.filter(function(Q){return function($){return $.status===P&&Date.now()-$.lastUpdate<=12e4}(Q)}),B=[].concat(a(R),a(C));return{getTimeout:function(Q,$){return(C.length===0&&Q===0?1:C.length+3+Q)*$},statelessHosts:B.length>0?B.map(function(Q){return N(Q)}):E}})}function Le(v,E,S,R){var C=[],B=function(fe,Oe){if(!(fe.method===M||fe.data===void 0&&Oe.data===void 0)){var Se=Array.isArray(fe.data)?fe.data:i(i({},fe.data),Oe.data);return JSON.stringify(Se)}}(S,R),Q=function(fe,Oe){var Se=i(i({},fe.headers),Oe.headers),qe={};return Object.keys(Se).forEach(function(nt){var _n=Se[nt];qe[nt.toLowerCase()]=_n}),qe}(v,R),$=S.method,z=S.method!==M?{}:i(i({},S.data),R.data),te=i(i(i({"x-algolia-agent":v.userAgent.value},v.queryParameters),z),R.queryParameters),J=0,pe=function fe(Oe,Se){var qe=Oe.pop();if(qe===void 0)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:W(C)};var nt={data:B,headers:Q,method:$,url:ne(qe,S.path,te),connectTimeout:Se(J,v.timeouts.connect),responseTimeout:Se(J,R.timeout)},_n=function(wn){var Kt={request:nt,response:wn,host:qe,triesLeft:Oe.length};return C.push(Kt),Kt},qa={onSuccess:function(wn){return function(Kt){try{return JSON.parse(Kt.content)}catch(fs){throw function(gi,fo){return{name:"DeserializationError",message:gi,response:fo}}(fs.message,Kt)}}(wn)},onRetry:function(wn){var Kt=_n(wn);return wn.isTimedOut&&J++,Promise.all([v.logger.info("Retryable failure",K(Kt)),v.hostsCache.set(qe,A(qe,wn.isTimedOut?P:k))]).then(function(){return fe(Oe,Se)})},onFail:function(wn){throw _n(wn),function(Kt,fs){var gi=Kt.content,fo=Kt.status,Qa=gi;try{Qa=JSON.parse(gi).message}catch{}return function(zc,mp,SC){return{name:"ApiError",message:zc,status:mp,transporterStackTrace:SC}}(Qa,fo,fs)}(wn,W(C))}};return v.requester.send(nt).then(function(wn){return function(Kt,fs){return function(gi){var fo=gi.status;return gi.isTimedOut||function(Qa){var zc=Qa.isTimedOut,mp=Qa.status;return!zc&&~~mp==0}(gi)||~~(fo/100)!=2&&~~(fo/100)!=4}(Kt)?fs.onRetry(Kt):~~(Kt.status/100)==2?fs.onSuccess(Kt):fs.onFail(Kt)}(wn,qa)})};return Pe(v.hostsCache,E).then(function(fe){return pe(a(fe.statelessHosts).reverse(),fe.getTimeout)})}function Be(v){var E=v.hostsCache,S=v.logger,R=v.requester,C=v.requestsCache,B=v.responsesCache,Q=v.timeouts,$=v.userAgent,z=v.hosts,te=v.queryParameters,J={hostsCache:E,logger:S,requester:R,requestsCache:C,responsesCache:B,timeouts:Q,userAgent:$,headers:v.headers,queryParameters:te,hosts:z.map(function(pe){return N(pe)}),read:function(pe,fe){var Oe=p(fe,J.timeouts.read),Se=function(){return Le(J,J.hosts.filter(function(nt){return(nt.accept&w.Read)!=0}),pe,Oe)};if((Oe.cacheable!==void 0?Oe.cacheable:pe.cacheable)!==!0)return Se();var qe={request:pe,mappedRequestOptions:Oe,transporter:{queryParameters:J.queryParameters,headers:J.headers}};return J.responsesCache.get(qe,function(){return J.requestsCache.get(qe,function(){return J.requestsCache.set(qe,Se()).then(function(nt){return Promise.all([J.requestsCache.delete(qe),nt])},function(nt){return Promise.all([J.requestsCache.delete(qe),Promise.reject(nt)])}).then(function(nt){var _n=o(nt,2);return _n[0],_n[1]})})},{miss:function(nt){return J.responsesCache.set(qe,nt)}})},write:function(pe,fe){return Le(J,J.hosts.filter(function(Oe){return(Oe.accept&w.Write)!=0}),pe,p(fe,J.timeouts.write))}};return J}function He(v){var E={value:"Algolia for JavaScript (".concat(v,")"),add:function(S){var R="; ".concat(S.segment).concat(S.version!==void 0?" (".concat(S.version,")"):"");return E.value.indexOf(R)===-1&&(E.value="".concat(E.value).concat(R)),E}};return E}function ne(v,E,S){var R=D(S),C="".concat(v.protocol,"://").concat(v.url,"/").concat(E.charAt(0)==="/"?E.substr(1):E);return R.length&&(C+="?".concat(R)),C}function D(v){return Object.keys(v).map(function(E){return _("%s=%s",E,(S=v[E],Object.prototype.toString.call(S)==="[object Object]"||Object.prototype.toString.call(S)==="[object Array]"?JSON.stringify(v[E]):v[E]));var S}).join("&")}function W(v){return v.map(function(E){return K(E)})}function K(v){var E=v.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return i(i({},v),{},{request:i(i({},v.request),{},{headers:i(i({},v.request.headers),E)})})}var ae=function(v){return function(E,S){return v.transporter.write({method:L,path:"2/abtests",data:E},S)}},Te=function(v){return function(E,S){return v.transporter.write({method:V,path:_("2/abtests/%s",E)},S)}},Rt=function(v){return function(E,S){return v.transporter.read({method:M,path:_("2/abtests/%s",E)},S)}},Me=function(v){return function(E){return v.transporter.read({method:M,path:"2/abtests"},E)}},tt=function(v){return function(E,S){return v.transporter.write({method:L,path:_("2/abtests/%s/stop",E)},S)}},Ve=function(v){return function(E){return v.transporter.read({method:M,path:"1/strategies/personalization"},E)}},It=function(v){return function(E,S){return v.transporter.write({method:L,path:"1/strategies/personalization",data:E},S)}};function yn(v){return function E(S){return v.request(S).then(function(R){if(v.batch!==void 0&&v.batch(R.hits),!v.shouldStop(R))return R.cursor?E({cursor:R.cursor}):E({page:(S.page||0)+1})})}({})}var jn=function(v){return function(E,S){var R=S||{},C=R.queryParameters,B=s(R,["queryParameters"]),Q=i({acl:E},C!==void 0?{queryParameters:C}:{});return d(v.transporter.write({method:L,path:"1/keys",data:Q},B),function($,z){return f(function(te){return ls(v)($.key,z).catch(function(J){if(J.status!==404)throw J;return te()})})})}},us=function(v){return function(E,S,R){var C=p(R);return C.queryParameters["X-Algolia-User-ID"]=E,v.transporter.write({method:L,path:"1/clusters/mapping",data:{cluster:S}},C)}},bt=function(v){return function(E,S,R){return v.transporter.write({method:L,path:"1/clusters/mapping/batch",data:{users:E,cluster:S}},R)}},Ur=function(v){return function(E,S){return d(v.transporter.write({method:L,path:_("/1/dictionaries/%s/batch",E),data:{clearExistingDictionaryEntries:!0,requests:{action:"addEntry",body:[]}}},S),function(R,C){return j(v)(R.taskID,C)})}},Br=function(v){return function(E,S,R){return d(v.transporter.write({method:L,path:_("1/indexes/%s/operation",E),data:{operation:"copy",destination:S}},R),function(C,B){return cr(v)(E,{methods:{waitTask:vt}}).waitTask(C.taskID,B)})}},La=function(v){return function(E,S,R){return Br(v)(E,S,i(i({},R),{},{scope:[pp.Rules]}))}},vn=function(v){return function(E,S,R){return Br(v)(E,S,i(i({},R),{},{scope:[pp.Settings]}))}},Ma=function(v){return function(E,S,R){return Br(v)(E,S,i(i({},R),{},{scope:[pp.Synonyms]}))}},np=function(v){return function(E,S){return E.method===M?v.transporter.read(E,S):v.transporter.write(E,S)}},rp=function(v){return function(E,S){return d(v.transporter.write({method:V,path:_("1/keys/%s",E)},S),function(R,C){return f(function(B){return ls(v)(E,C).then(B).catch(function(Q){if(Q.status!==404)throw Q})})})}},ip=function(v){return function(E,S,R){var C=S.map(function(B){return{action:"deleteEntry",body:{objectID:B}}});return d(v.transporter.write({method:L,path:_("/1/dictionaries/%s/batch",E),data:{clearExistingDictionaryEntries:!1,requests:C}},R),function(B,Q){return j(v)(B.taskID,Q)})}},ls=function(v){return function(E,S){return v.transporter.read({method:M,path:_("1/keys/%s",E)},S)}},di=function(v){return function(E,S){return v.transporter.read({method:M,path:_("1/task/%s",E.toString())},S)}},Lc=function(v){return function(E){return v.transporter.read({method:M,path:"/1/dictionaries/*/settings"},E)}},Va=function(v){return function(E){return v.transporter.read({method:M,path:"1/logs"},E)}},lr=function(v){return function(E){return v.transporter.read({method:M,path:"1/clusters/mapping/top"},E)}},cs=function(v){return function(E,S){return v.transporter.read({method:M,path:_("1/clusters/mapping/%s",E)},S)}},Mc=function(v){return function(E){var S=E||{},R=S.retrieveMappings,C=s(S,["retrieveMappings"]);return R===!0&&(C.getClusters=!0),v.transporter.read({method:M,path:"1/clusters/mapping/pending"},C)}},cr=function(v){return function(E){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},R={transporter:v.transporter,appId:v.appId,indexName:E};return g(R,S.methods)}},sp=function(v){return function(E){return v.transporter.read({method:M,path:"1/keys"},E)}},hr=function(v){return function(E){return v.transporter.read({method:M,path:"1/clusters"},E)}},Vc=function(v){return function(E){return v.transporter.read({method:M,path:"1/indexes"},E)}},$c=function(v){return function(E){return v.transporter.read({method:M,path:"1/clusters/mapping"},E)}},Uc=function(v){return function(E,S,R){return d(v.transporter.write({method:L,path:_("1/indexes/%s/operation",E),data:{operation:"move",destination:S}},R),function(C,B){return cr(v)(E,{methods:{waitTask:vt}}).waitTask(C.taskID,B)})}},op=function(v){return function(E,S){return d(v.transporter.write({method:L,path:"1/indexes/*/batch",data:{requests:E}},S),function(R,C){return Promise.all(Object.keys(R.taskID).map(function(B){return cr(v)(B,{methods:{waitTask:vt}}).waitTask(R.taskID[B],C)}))})}},Bc=function(v){return function(E,S){return v.transporter.read({method:L,path:"1/indexes/*/objects",data:{requests:E}},S)}},hs=function(v){return function(E,S){var R=E.map(function(C){return i(i({},C),{},{params:D(C.params||{})})});return v.transporter.read({method:L,path:"1/indexes/*/queries",data:{requests:R},cacheable:!0},S)}},$a=function(v){return function(E,S){return Promise.all(E.map(function(R){var C=R.params,B=C.facetName,Q=C.facetQuery,$=s(C,["facetName","facetQuery"]);return cr(v)(R.indexName,{methods:{searchForFacetValues:i0}}).searchForFacetValues(B,Q,i(i({},S),$))}))}},Ua=function(v){return function(E,S){var R=p(S);return R.queryParameters["X-Algolia-User-ID"]=E,v.transporter.write({method:V,path:"1/clusters/mapping"},R)}},ap=function(v){return function(E,S,R){var C=S.map(function(B){return{action:"addEntry",body:B}});return d(v.transporter.write({method:L,path:_("/1/dictionaries/%s/batch",E),data:{clearExistingDictionaryEntries:!0,requests:C}},R),function(B,Q){return j(v)(B.taskID,Q)})}},Hc=function(v){return function(E,S){return d(v.transporter.write({method:L,path:_("1/keys/%s/restore",E)},S),function(R,C){return f(function(B){return ls(v)(E,C).catch(function(Q){if(Q.status!==404)throw Q;return B()})})})}},up=function(v){return function(E,S,R){var C=S.map(function(B){return{action:"addEntry",body:B}});return d(v.transporter.write({method:L,path:_("/1/dictionaries/%s/batch",E),data:{clearExistingDictionaryEntries:!1,requests:C}},R),function(B,Q){return j(v)(B.taskID,Q)})}},Wc=function(v){return function(E,S,R){return v.transporter.read({method:L,path:_("/1/dictionaries/%s/search",E),data:{query:S},cacheable:!0},R)}},lp=function(v){return function(E,S){return v.transporter.read({method:L,path:"1/clusters/mapping/search",data:{query:E}},S)}},b=function(v){return function(E,S){return d(v.transporter.write({method:ye,path:"/1/dictionaries/*/settings",data:E},S),function(R,C){return j(v)(R.taskID,C)})}},x=function(v){return function(E,S){var R=Object.assign({},S),C=S||{},B=C.queryParameters,Q=s(C,["queryParameters"]),$=B?{queryParameters:B}:{},z=["acl","indexes","referers","restrictSources","queryParameters","description","maxQueriesPerIPPerHour","maxHitsPerQuery"];return d(v.transporter.write({method:ye,path:_("1/keys/%s",E),data:$},Q),function(te,J){return f(function(pe){return ls(v)(E,J).then(function(fe){return function(Oe){return Object.keys(R).filter(function(Se){return z.indexOf(Se)!==-1}).every(function(Se){if(Array.isArray(Oe[Se])&&Array.isArray(R[Se])){var qe=Oe[Se];return qe.length===R[Se].length&&qe.every(function(nt,_n){return nt===R[Se][_n]})}return Oe[Se]===R[Se]})}(fe)?Promise.resolve():pe()})})})}},j=function(v){return function(E,S){return f(function(R){return di(v)(E,S).then(function(C){return C.status!=="published"?R():void 0})})}},q=function(v){return function(E,S){return d(v.transporter.write({method:L,path:_("1/indexes/%s/batch",v.indexName),data:{requests:E}},S),function(R,C){return vt(v)(R.taskID,C)})}},re=function(v){return function(E){return yn(i(i({shouldStop:function(S){return S.cursor===void 0}},E),{},{request:function(S){return v.transporter.read({method:L,path:_("1/indexes/%s/browse",v.indexName),data:S},E)}}))}},we=function(v){return function(E){var S=i({hitsPerPage:1e3},E);return yn(i(i({shouldStop:function(R){return R.hits.length<S.hitsPerPage}},S),{},{request:function(R){return s0(v)("",i(i({},S),R)).then(function(C){return i(i({},C),{},{hits:C.hits.map(function(B){return delete B._highlightResult,B})})})}}))}},le=function(v){return function(E){var S=i({hitsPerPage:1e3},E);return yn(i(i({shouldStop:function(R){return R.hits.length<S.hitsPerPage}},S),{},{request:function(R){return o0(v)("",i(i({},S),R)).then(function(C){return i(i({},C),{},{hits:C.hits.map(function(B){return delete B._highlightResult,B})})})}}))}},ue=function(v){return function(E,S,R){var C=R||{},B=C.batchSize,Q=s(C,["batchSize"]),$={taskIDs:[],objectIDs:[]};return d(function z(){var te,J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,pe=[];for(te=J;te<E.length&&(pe.push(E[te]),pe.length!==(B||1e3));te++);return pe.length===0?Promise.resolve($):q(v)(pe.map(function(fe){return{action:S,body:fe}}),Q).then(function(fe){return $.objectIDs=$.objectIDs.concat(fe.objectIDs),$.taskIDs.push(fe.taskID),te++,z(te)})}(),function(z,te){return Promise.all(z.taskIDs.map(function(J){return vt(v)(J,te)}))})}},se=function(v){return function(E){return d(v.transporter.write({method:L,path:_("1/indexes/%s/clear",v.indexName)},E),function(S,R){return vt(v)(S.taskID,R)})}},Re=function(v){return function(E){var S=E||{},R=S.forwardToReplicas,C=p(s(S,["forwardToReplicas"]));return R&&(C.queryParameters.forwardToReplicas=1),d(v.transporter.write({method:L,path:_("1/indexes/%s/rules/clear",v.indexName)},C),function(B,Q){return vt(v)(B.taskID,Q)})}},gt=function(v){return function(E){var S=E||{},R=S.forwardToReplicas,C=p(s(S,["forwardToReplicas"]));return R&&(C.queryParameters.forwardToReplicas=1),d(v.transporter.write({method:L,path:_("1/indexes/%s/synonyms/clear",v.indexName)},C),function(B,Q){return vt(v)(B.taskID,Q)})}},_e=function(v){return function(E,S){return d(v.transporter.write({method:L,path:_("1/indexes/%s/deleteByQuery",v.indexName),data:E},S),function(R,C){return vt(v)(R.taskID,C)})}},$e=function(v){return function(E){return d(v.transporter.write({method:V,path:_("1/indexes/%s",v.indexName)},E),function(S,R){return vt(v)(S.taskID,R)})}},At=function(v){return function(E,S){return d(ln(v)([E],S).then(function(R){return{taskID:R.taskIDs[0]}}),function(R,C){return vt(v)(R.taskID,C)})}},ln=function(v){return function(E,S){var R=E.map(function(C){return{objectID:C}});return ue(v)(R,ho.DeleteObject,S)}},yt=function(v){return function(E,S){var R=S||{},C=R.forwardToReplicas,B=p(s(R,["forwardToReplicas"]));return C&&(B.queryParameters.forwardToReplicas=1),d(v.transporter.write({method:V,path:_("1/indexes/%s/rules/%s",v.indexName,E)},B),function(Q,$){return vt(v)(Q.taskID,$)})}},pi=function(v){return function(E,S){var R=S||{},C=R.forwardToReplicas,B=p(s(R,["forwardToReplicas"]));return C&&(B.queryParameters.forwardToReplicas=1),d(v.transporter.write({method:V,path:_("1/indexes/%s/synonyms/%s",v.indexName,E)},B),function(Q,$){return vt(v)(Q.taskID,$)})}},Ba=function(v){return function(E){return Wr(v)(E).then(function(){return!0}).catch(function(S){if(S.status!==404)throw S;return!1})}},mi=function(v){return function(E,S,R){return v.transporter.read({method:L,path:_("1/answers/%s/prediction",v.indexName),data:{query:E,queryLanguages:S},cacheable:!0},R)}},fr=function(v){return function(E,S){var R=S||{},C=R.query,B=R.paginate,Q=s(R,["query","paginate"]),$=0;return function z(){return r0(v)(C||"",i(i({},Q),{},{page:$})).then(function(te){for(var J=0,pe=Object.entries(te.hits);J<pe.length;J++){var fe=o(pe[J],2),Oe=fe[0],Se=fe[1];if(E(Se))return{object:Se,position:parseInt(Oe,10),page:$}}if($++,B===!1||$>=te.nbPages)throw{name:"ObjectNotFoundError",message:"Object not found."};return z()})}()}},Hr=function(v){return function(E,S){return v.transporter.read({method:M,path:_("1/indexes/%s/%s",v.indexName,E)},S)}},Ha=function(){return function(v,E){for(var S=0,R=Object.entries(v.hits);S<R.length;S++){var C=o(R[S],2),B=C[0];if(C[1].objectID===E)return parseInt(B,10)}return-1}},Wa=function(v){return function(E,S){var R=S||{},C=R.attributesToRetrieve,B=s(R,["attributesToRetrieve"]),Q=E.map(function($){return i({indexName:v.indexName,objectID:$},C?{attributesToRetrieve:C}:{})});return v.transporter.read({method:L,path:"1/indexes/*/objects",data:{requests:Q}},B)}},za=function(v){return function(E,S){return v.transporter.read({method:M,path:_("1/indexes/%s/rules/%s",v.indexName,E)},S)}},Wr=function(v){return function(E){return v.transporter.read({method:M,path:_("1/indexes/%s/settings",v.indexName),data:{getVersion:2}},E)}},lo=function(v){return function(E,S){return v.transporter.read({method:M,path:_("1/indexes/%s/synonyms/%s",v.indexName,E)},S)}},Ne=function(v){return function(E,S){return d(We(v)([E],S).then(function(R){return{objectID:R.objectIDs[0],taskID:R.taskIDs[0]}}),function(R,C){return vt(v)(R.taskID,C)})}},We=function(v){return function(E,S){var R=S||{},C=R.createIfNotExists,B=s(R,["createIfNotExists"]),Q=C?ho.PartialUpdateObject:ho.PartialUpdateObjectNoCreate;return ue(v)(E,Q,B)}},Fn=function(v){return function(E,S){var R=S||{},C=R.safe,B=R.autoGenerateObjectIDIfNotExist,Q=R.batchSize,$=s(R,["safe","autoGenerateObjectIDIfNotExist","batchSize"]),z=function(Se,qe,nt,_n){return d(v.transporter.write({method:L,path:_("1/indexes/%s/operation",Se),data:{operation:nt,destination:qe}},_n),function(qa,wn){return vt(v)(qa.taskID,wn)})},te=Math.random().toString(36).substring(7),J="".concat(v.indexName,"_tmp_").concat(te),pe=hp({appId:v.appId,transporter:v.transporter,indexName:J}),fe=[],Oe=z(v.indexName,J,"copy",i(i({},$),{},{scope:["settings","synonyms","rules"]}));return fe.push(Oe),d((C?Oe.wait($):Oe).then(function(){var Se=pe(E,i(i({},$),{},{autoGenerateObjectIDIfNotExist:B,batchSize:Q}));return fe.push(Se),C?Se.wait($):Se}).then(function(){var Se=z(J,v.indexName,"move",$);return fe.push(Se),C?Se.wait($):Se}).then(function(){return Promise.all(fe)}).then(function(Se){var qe=o(Se,3),nt=qe[0],_n=qe[1],qa=qe[2];return{objectIDs:_n.objectIDs,taskIDs:[nt.taskID].concat(a(_n.taskIDs),[qa.taskID])}}),function(Se,qe){return Promise.all(fe.map(function(nt){return nt.wait(qe)}))})}},co=function(v){return function(E,S){return fp(v)(E,i(i({},S),{},{clearExistingRules:!0}))}},cp=function(v){return function(E,S){return dp(v)(E,i(i({},S),{},{clearExistingSynonyms:!0}))}},mC=function(v){return function(E,S){return d(hp(v)([E],S).then(function(R){return{objectID:R.objectIDs[0],taskID:R.taskIDs[0]}}),function(R,C){return vt(v)(R.taskID,C)})}},hp=function(v){return function(E,S){var R=S||{},C=R.autoGenerateObjectIDIfNotExist,B=s(R,["autoGenerateObjectIDIfNotExist"]),Q=C?ho.AddObject:ho.UpdateObject;if(Q===ho.UpdateObject){var $=!0,z=!1,te=void 0;try{for(var J,pe=E[Symbol.iterator]();!($=(J=pe.next()).done);$=!0)if(J.value.objectID===void 0)return d(Promise.reject({name:"MissingObjectIDError",message:"All objects must have an unique objectID (like a primary key) to be valid. Algolia is also able to generate objectIDs automatically but *it's not recommended*. To do it, use the `{'autoGenerateObjectIDIfNotExist': true}` option."}))}catch(fe){z=!0,te=fe}finally{try{$||pe.return==null||pe.return()}finally{if(z)throw te}}}return ue(v)(E,Q,B)}},gC=function(v){return function(E,S){return fp(v)([E],S)}},fp=function(v){return function(E,S){var R=S||{},C=R.forwardToReplicas,B=R.clearExistingRules,Q=p(s(R,["forwardToReplicas","clearExistingRules"]));return C&&(Q.queryParameters.forwardToReplicas=1),B&&(Q.queryParameters.clearExistingRules=1),d(v.transporter.write({method:L,path:_("1/indexes/%s/rules/batch",v.indexName),data:E},Q),function($,z){return vt(v)($.taskID,z)})}},yC=function(v){return function(E,S){return dp(v)([E],S)}},dp=function(v){return function(E,S){var R=S||{},C=R.forwardToReplicas,B=R.clearExistingSynonyms,Q=R.replaceExistingSynonyms,$=p(s(R,["forwardToReplicas","clearExistingSynonyms","replaceExistingSynonyms"]));return C&&($.queryParameters.forwardToReplicas=1),(Q||B)&&($.queryParameters.replaceExistingSynonyms=1),d(v.transporter.write({method:L,path:_("1/indexes/%s/synonyms/batch",v.indexName),data:E},$),function(z,te){return vt(v)(z.taskID,te)})}},r0=function(v){return function(E,S){return v.transporter.read({method:L,path:_("1/indexes/%s/query",v.indexName),data:{query:E},cacheable:!0},S)}},i0=function(v){return function(E,S,R){return v.transporter.read({method:L,path:_("1/indexes/%s/facets/%s/query",v.indexName,E),data:{facetQuery:S},cacheable:!0},R)}},s0=function(v){return function(E,S){return v.transporter.read({method:L,path:_("1/indexes/%s/rules/search",v.indexName),data:{query:E}},S)}},o0=function(v){return function(E,S){return v.transporter.read({method:L,path:_("1/indexes/%s/synonyms/search",v.indexName),data:{query:E}},S)}},vC=function(v){return function(E,S){var R=S||{},C=R.forwardToReplicas,B=p(s(R,["forwardToReplicas"]));return C&&(B.queryParameters.forwardToReplicas=1),d(v.transporter.write({method:ye,path:_("1/indexes/%s/settings",v.indexName),data:E},B),function(Q,$){return vt(v)(Q.taskID,$)})}},vt=function(v){return function(E,S){return f(function(R){return function(C){return function(B,Q){return C.transporter.read({method:M,path:_("1/indexes/%s/task/%s",C.indexName,B.toString())},Q)}}(v)(E,S).then(function(C){return C.status!=="published"?R():void 0})})}},ho={AddObject:"addObject",UpdateObject:"updateObject",PartialUpdateObject:"partialUpdateObject",PartialUpdateObjectNoCreate:"partialUpdateObjectNoCreate",DeleteObject:"deleteObject",DeleteIndex:"delete",ClearIndex:"clear"},pp={Settings:"settings",Synonyms:"synonyms",Rules:"rules"},_C=1,wC=2,EC=3;function a0(v,E,S){var R,C={appId:v,apiKey:E,timeouts:{connect:1,read:2,write:30},requester:{send:function($){return new Promise(function(z){var te=new XMLHttpRequest;te.open($.method,$.url,!0),Object.keys($.headers).forEach(function(Oe){return te.setRequestHeader(Oe,$.headers[Oe])});var J,pe=function(Oe,Se){return setTimeout(function(){te.abort(),z({status:0,content:Se,isTimedOut:!0})},1e3*Oe)},fe=pe($.connectTimeout,"Connection timeout");te.onreadystatechange=function(){te.readyState>te.OPENED&&J===void 0&&(clearTimeout(fe),J=pe($.responseTimeout,"Socket timeout"))},te.onerror=function(){te.status===0&&(clearTimeout(fe),clearTimeout(J),z({content:te.responseText||"Network request failed",status:te.status,isTimedOut:!1}))},te.onload=function(){clearTimeout(fe),clearTimeout(J),z({content:te.responseText,status:te.status,isTimedOut:!1})},te.send($.data)})}},logger:(R=EC,{debug:function($,z){return _C>=R&&console.debug($,z),Promise.resolve()},info:function($,z){return wC>=R&&console.info($,z),Promise.resolve()},error:function($,z){return console.error($,z),Promise.resolve()}}),responsesCache:c(),requestsCache:c({serializable:!1}),hostsCache:l({caches:[u({key:"".concat("4.22.1","-").concat(v)}),c()]}),userAgent:He("4.22.1").add({segment:"Browser"})},B=i(i({},C),S),Q=function(){return function($){return function(z){var te=z.region||"us",J=h(m.WithinHeaders,z.appId,z.apiKey),pe=Be(i(i({hosts:[{url:"personalization.".concat(te,".algolia.com")}]},z),{},{headers:i(i(i({},J.headers()),{"content-type":"application/json"}),z.headers),queryParameters:i(i({},J.queryParameters()),z.queryParameters)}));return g({appId:z.appId,transporter:pe},z.methods)}(i(i(i({},C),$),{},{methods:{getPersonalizationStrategy:Ve,setPersonalizationStrategy:It}}))}};return function($){var z=$.appId,te=h($.authMode!==void 0?$.authMode:m.WithinHeaders,z,$.apiKey),J=Be(i(i({hosts:[{url:"".concat(z,"-dsn.algolia.net"),accept:w.Read},{url:"".concat(z,".algolia.net"),accept:w.Write}].concat(y([{url:"".concat(z,"-1.algolianet.com")},{url:"".concat(z,"-2.algolianet.com")},{url:"".concat(z,"-3.algolianet.com")}]))},$),{},{headers:i(i(i({},te.headers()),{"content-type":"application/x-www-form-urlencoded"}),$.headers),queryParameters:i(i({},te.queryParameters()),$.queryParameters)}));return g({transporter:J,appId:z,addAlgoliaAgent:function(pe,fe){J.userAgent.add({segment:pe,version:fe})},clearCache:function(){return Promise.all([J.requestsCache.clear(),J.responsesCache.clear()]).then(function(){})}},$.methods)}(i(i({},B),{},{methods:{search:hs,searchForFacetValues:$a,multipleBatch:op,multipleGetObjects:Bc,multipleQueries:hs,copyIndex:Br,copySettings:vn,copySynonyms:Ma,copyRules:La,moveIndex:Uc,listIndices:Vc,getLogs:Va,listClusters:hr,multipleSearchForFacetValues:$a,getApiKey:ls,addApiKey:jn,listApiKeys:sp,updateApiKey:x,deleteApiKey:rp,restoreApiKey:Hc,assignUserID:us,assignUserIDs:bt,getUserID:cs,searchUserIDs:lp,listUserIDs:$c,getTopUserIDs:lr,removeUserID:Ua,hasPendingMappings:Mc,clearDictionaryEntries:Ur,deleteDictionaryEntries:ip,getDictionarySettings:Lc,getAppTask:di,replaceDictionaryEntries:ap,saveDictionaryEntries:up,searchDictionaryEntries:Wc,setDictionarySettings:b,waitAppTask:j,customRequest:np,initIndex:function($){return function(z){return cr($)(z,{methods:{batch:q,delete:$e,findAnswers:mi,getObject:Hr,getObjects:Wa,saveObject:mC,saveObjects:hp,search:r0,searchForFacetValues:i0,waitTask:vt,setSettings:vC,getSettings:Wr,partialUpdateObject:Ne,partialUpdateObjects:We,deleteObject:At,deleteObjects:ln,deleteBy:_e,clearObjects:se,browseObjects:re,getObjectPosition:Ha,findObject:fr,exists:Ba,saveSynonym:yC,saveSynonyms:dp,getSynonym:lo,searchSynonyms:o0,browseSynonyms:le,deleteSynonym:pi,clearSynonyms:gt,replaceAllObjects:Fn,replaceAllSynonyms:cp,searchRules:s0,getRule:za,deleteRule:yt,saveRule:gC,saveRules:fp,replaceAllRules:co,browseRules:we,clearRules:Re}})}},initAnalytics:function(){return function($){return function(z){var te=z.region||"us",J=h(m.WithinHeaders,z.appId,z.apiKey),pe=Be(i(i({hosts:[{url:"analytics.".concat(te,".algolia.com")}]},z),{},{headers:i(i(i({},J.headers()),{"content-type":"application/json"}),z.headers),queryParameters:i(i({},J.queryParameters()),z.queryParameters)}));return g({appId:z.appId,transporter:pe},z.methods)}(i(i(i({},C),$),{},{methods:{addABTest:ae,getABTest:Rt,getABTests:Me,stopABTest:tt,deleteABTest:Te}}))}},initPersonalization:Q,initRecommendation:function(){return function($){return B.logger.info("The `initRecommendation` method is deprecated. Use `initPersonalization` instead."),Q()($)}}}}))}return a0.version="4.22.1",a0})})(iA);var DV=iA.exports;const sA=Ta(DV);function D_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function oA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jV=oA,aA=new mc("auth","Firebase",oA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff=new kv("@firebase/auth");function FV(t,...e){Ff.logLevel<=Ae.WARN&&Ff.warn(`Auth (${no}): ${t}`,...e)}function Uh(t,...e){Ff.logLevel<=Ae.ERROR&&Ff.error(`Auth (${no}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(t,...e){throw j_(t,...e)}function Cr(t,...e){return j_(t,...e)}function uA(t,e,n){const r=Object.assign(Object.assign({},jV()),{[e]:n});return new mc("auth","Firebase",r).create(e,{appName:t.name})}function LV(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Qn(t,"argument-error"),uA(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function j_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return aA.create(t,...e)}function ce(t,e,...n){if(!t)throw j_(e,...n)}function Zr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Uh(e),new Error(e)}function ci(t,e){t||Zr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function MV(){return YE()==="http:"||YE()==="https:"}function YE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MV()||ND()||"connection"in navigator)?navigator.onLine:!0}function $V(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ci(n>e,"Short delay should be less than long delay!"),this.isMobile=xD()||DD()}get(){return VV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(t,e){ci(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV=new kc(3e4,6e4);function oo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function os(t,e,n,r,i={}){return cA(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=gc(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),lA.fetch()(hA(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}async function cA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},UV),e);try{const i=new WV(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw vh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw vh(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw vh(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw vh(t,"user-disabled",o);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw uA(t,c,l);Qn(t,c)}}catch(i){if(i instanceof Lr)throw i;Qn(t,"network-request-failed",{message:String(i)})}}async function Wd(t,e,n,r,i={}){const s=await os(t,e,n,r,i);return"mfaPendingCredential"in s&&Qn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function hA(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?F_(t.config,i):`${t.config.apiScheme}://${i}`}function HV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class WV{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Cr(this.auth,"network-request-failed")),BV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Cr(t,e,r);return i.customData._tokenResponse=n,i}function JE(t){return t!==void 0&&t.enterprise!==void 0}class zV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return HV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function qV(t,e){return os(t,"GET","/v2/recaptchaConfig",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QV(t,e){return os(t,"POST","/v1/accounts:delete",e)}async function KV(t,e){return os(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function GV(t,e=!1){const n=jt(t),r=await n.getIdToken(e),i=L_(r);ce(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Gu(lm(i.auth_time)),issuedAtTime:Gu(lm(i.iat)),expirationTime:Gu(lm(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function lm(t){return Number(t)*1e3}function L_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Uh("JWT malformed, contained fewer than 3 sections"),null;try{const i=_R(n);return i?JSON.parse(i):(Uh("Failed to decode base64 JWT payload"),null)}catch(i){return Uh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function YV(t){const e=L_(t);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Lr&&JV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function JV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gu(this.lastLoginAt),this.creationTime=Gu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Nl(t,KV(n,{idToken:r}));ce(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?t$(s.providerUserInfo):[],a=e$(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,c=u?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new fA(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function ZV(t){const e=jt(t);await Lf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function e$(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function t$(t){return t.map(e=>{var{providerId:n}=e,r=D_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n$(t,e){const n=await cA(t,{},async()=>{const r=gc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=hA(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",lA.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function r$(t,e){return os(t,"POST","/v2/accounts:revokeToken",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):YV(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ce(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await n$(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Dl;return r&&(ce(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ce(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ce(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Dl,this.toJSON())}_performRefresh(){return Zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(t,e){ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Fs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=D_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new XV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new fA(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Nl(this,this.stsTokenManager.getToken(this.auth,e));return ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return GV(this,e)}reload(){return ZV(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Lf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Nl(this,QV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,d=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,m=(l=n.createdAt)!==null&&l!==void 0?l:void 0,p=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:w,emailVerified:I,isAnonymous:k,providerData:P,stsTokenManager:A}=n;ce(w&&A,e,"internal-error");const N=Dl.fromJSON(this.name,A);ce(typeof w=="string",e,"internal-error"),vi(h,e.name),vi(f,e.name),ce(typeof I=="boolean",e,"internal-error"),ce(typeof k=="boolean",e,"internal-error"),vi(d,e.name),vi(y,e.name),vi(g,e.name),vi(_,e.name),vi(m,e.name),vi(p,e.name);const V=new Fs({uid:w,auth:e,email:f,emailVerified:I,displayName:h,isAnonymous:k,photoURL:y,phoneNumber:d,tenantId:g,stsTokenManager:N,createdAt:m,lastLoginAt:p});return P&&Array.isArray(P)&&(V.providerData=P.map(M=>Object.assign({},M))),_&&(V._redirectEventId=_),V}static async _fromIdTokenResponse(e,n,r=!1){const i=new Dl;i.updateFromServerResponse(n);const s=new Fs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Lf(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE=new Map;function ei(t){ci(t instanceof Function,"Expected a class definition");let e=XE.get(t);return e?(ci(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,XE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}dA.type="NONE";const ZE=dA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(t,e,n){return`firebase:${t}:${e}:${n}`}class Yo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Bh(this.userKey,i.apiKey,s),this.fullPersistenceKey=Bh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Fs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Yo(ei(ZE),e,r);const i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||ei(ZE);const o=Bh(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const c=await l._get(o);if(c){const h=Fs._fromJSON(e,c);l!==s&&(a=h),s=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Yo(s,e,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==s)try{await l._remove(o)}catch{}})),new Yo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vA(e))return"Blackberry";if(_A(e))return"Webos";if(M_(e))return"Safari";if((e.includes("chrome/")||mA(e))&&!e.includes("edge/"))return"Chrome";if(yA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function pA(t=Pt()){return/firefox\//i.test(t)}function M_(t=Pt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mA(t=Pt()){return/crios\//i.test(t)}function gA(t=Pt()){return/iemobile/i.test(t)}function yA(t=Pt()){return/android/i.test(t)}function vA(t=Pt()){return/blackberry/i.test(t)}function _A(t=Pt()){return/webos/i.test(t)}function zd(t=Pt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function i$(t=Pt()){var e;return zd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function s$(){return jD()&&document.documentMode===10}function wA(t=Pt()){return zd(t)||yA(t)||_A(t)||vA(t)||/windows phone/i.test(t)||gA(t)}function o$(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(t,e=[]){let n;switch(t){case"Browser":n=eS(Pt());break;case"Worker":n=`${eS(Pt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${no}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u$(t,e={}){return os(t,"GET","/v2/passwordPolicy",oo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l$=6;class c${constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:l$,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h${constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tS(this),this.idTokenSubscription=new tS(this),this.beforeStateQueue=new a$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ei(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Yo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Lf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$V()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?jt(e):null;return n&&ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ei(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await u$(this),n=new c$(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new mc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await r$(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ei(e)||this._popupRedirectResolver;ce(n,this,"argument-error"),this.redirectPersistenceManager=await Yo.create(this,[ei(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=EA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&FV(`Error while retrieving App Check token: ${n.error}`),n?.token}}function as(t){return jt(t)}class tS{constructor(e){this.auth=e,this.observer=null,this.addObserver=BD(n=>this.observer=n)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function f$(t){qd=t}function SA(t){return qd.loadJS(t)}function d$(){return qd.recaptchaEnterpriseScript}function p$(){return qd.gapiScript}function m$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const g$="recaptcha-enterprise",y$="NO_RECAPTCHA";class v${constructor(e){this.type=g$,this.auth=as(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{qV(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const l=new zV(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{a(u)})})}function i(s,o,a){const u=window.grecaptcha;JE(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(y$)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&JE(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=d$();u.length!==0&&(u+=a),SA(u).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function nS(t,e,n,r=!1){const i=new v$(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function rS(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await nS(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await nS(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _$(t,e){const n=hd(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(_f(s,e??{}))return i;Qn(i,"already-initialized")}return n.initialize({options:e})}function w$(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ei);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function E$(t,e,n){const r=as(t);ce(r._canInitEmulator,r,"emulator-config-failed"),ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=TA(e),{host:o,port:a}=S$(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||T$()}function TA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function S$(t){const e=TA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:iS(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:iS(o)}}}function iS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function T$(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zr("not implemented")}_getIdTokenResponse(e){return Zr("not implemented")}_linkToIdToken(e,n){return Zr("not implemented")}_getReauthenticationResolver(e){return Zr("not implemented")}}async function P$(t,e){return os(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R$(t,e){return Wd(t,"POST","/v1/accounts:signInWithPassword",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I$(t,e){return Wd(t,"POST","/v1/accounts:signInWithEmailLink",oo(t,e))}async function b$(t,e){return Wd(t,"POST","/v1/accounts:signInWithEmailLink",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl extends V_{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new jl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new jl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rS(e,n,"signInWithPassword",R$);case"emailLink":return I$(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rS(e,r,"signUpPassword",P$);case"emailLink":return b$(e,{idToken:n,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jo(t,e){return Wd(t,"POST","/v1/accounts:signInWithIdp",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A$="http://localhost";class Gs extends V_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Gs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=D_(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Gs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Jo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Jo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Jo(e,n)}buildRequest(){const e={requestUri:A$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O$(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function C$(t){const e=Pu(Ru(t)).link,n=e?Pu(Ru(e)).deep_link_id:null,r=Pu(Ru(t)).deep_link_id;return(r?Pu(Ru(r)).link:null)||r||n||e||t}class $_{constructor(e){var n,r,i,s,o,a;const u=Pu(Ru(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,c=(r=u.oobCode)!==null&&r!==void 0?r:null,h=O$((i=u.mode)!==null&&i!==void 0?i:null);ce(l&&c&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=c,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=C$(e);try{return new $_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(){this.providerId=Fa.PROVIDER_ID}static credential(e,n){return jl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=$_.parseLink(n);return ce(r,"argument-error"),jl._fromEmailAndCode(e,r.code,r.tenantId)}}Fa.PROVIDER_ID="password";Fa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Fa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc extends U_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends Nc{constructor(){super("facebook.com")}static credential(e){return Gs._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bi.credential(e.oauthAccessToken)}catch{return null}}}bi.FACEBOOK_SIGN_IN_METHOD="facebook.com";bi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends Nc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Gs._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Gr.credential(n,r)}catch{return null}}}Gr.GOOGLE_SIGN_IN_METHOD="google.com";Gr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends Nc{constructor(){super("github.com")}static credential(e){return Gs._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ai.credential(e.oauthAccessToken)}catch{return null}}}Ai.GITHUB_SIGN_IN_METHOD="github.com";Ai.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends Nc{constructor(){super("twitter.com")}static credential(e,n){return Gs._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Oi.credential(n,r)}catch{return null}}}Oi.TWITTER_SIGN_IN_METHOD="twitter.com";Oi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Fs._fromIdTokenResponse(e,r,i),o=sS(r);return new da({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=sS(r);return new da({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function sS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf extends Lr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Mf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Mf(e,n,r,i)}}function PA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Mf._fromErrorAndOperation(t,s,e,r):s})}async function x$(t,e,n=!1){const r=await Nl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return da._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k$(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Nl(t,PA(r,i,e,t),n);ce(s.idToken,r,"internal-error");const o=L_(s.idToken);ce(o,r,"internal-error");const{sub:a}=o;return ce(t.uid===a,r,"user-mismatch"),da._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Qn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RA(t,e,n=!1){const r="signIn",i=await PA(t,r,e),s=await da._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function N$(t,e){return RA(as(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D$(t){const e=as(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function j$(t,e,n){return N$(jt(t),Fa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&D$(t),r})}function F$(t,e,n,r){return jt(t).onIdTokenChanged(e,n,r)}function L$(t,e,n){return jt(t).beforeAuthStateChanged(e,n)}function M$(t,e,n,r){return jt(t).onAuthStateChanged(e,n,r)}const Vf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vf,"1"),this.storage.removeItem(Vf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V$(){const t=Pt();return M_(t)||zd(t)}const $$=1e3,U$=10;class bA extends IA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=V$()&&o$(),this.fallbackToPolling=wA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);s$()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,U$):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},$$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}bA.type="LOCAL";const B$=bA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA extends IA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}AA.type="SESSION";const OA=AA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Qd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async l=>l(n.origin,s)),u=await H$(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const l=B_("",20);i.port1.start();const c=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(){return window}function z$(t){xr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(){return typeof xr().WorkerGlobalScope<"u"&&typeof xr().importScripts=="function"}async function q$(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Q$(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function K$(){return CA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA="firebaseLocalStorageDb",G$=1,$f="firebaseLocalStorage",kA="fbase_key";class Dc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Kd(t,e){return t.transaction([$f],e?"readwrite":"readonly").objectStore($f)}function Y$(){const t=indexedDB.deleteDatabase(xA);return new Dc(t).toPromise()}function ny(){const t=indexedDB.open(xA,G$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore($f,{keyPath:kA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains($f)?e(r):(r.close(),await Y$(),e(await ny()))})})}async function oS(t,e,n){const r=Kd(t,!0).put({[kA]:e,value:n});return new Dc(r).toPromise()}async function J$(t,e){const n=Kd(t,!1).get(e),r=await new Dc(n).toPromise();return r===void 0?null:r.value}function aS(t,e){const n=Kd(t,!0).delete(e);return new Dc(n).toPromise()}const X$=800,Z$=3;class NA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ny(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Z$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qd._getInstance(K$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await q$(),!this.activeServiceWorker)return;this.sender=new W$(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Q$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ny();return await oS(e,Vf,"1"),await aS(e,Vf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>oS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>J$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>aS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Kd(i,!1).getAll();return new Dc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),X$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NA.type="LOCAL";const eU=NA;new kc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(t,e){return e?ei(e):(ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_ extends V_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Jo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Jo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Jo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function tU(t){return RA(t.auth,new H_(t),t.bypassAuthState)}function nU(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),k$(n,new H_(t),t.bypassAuthState)}async function rU(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),x$(n,new H_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tU;case"linkViaPopup":case"linkViaRedirect":return rU;case"reauthViaPopup":case"reauthViaRedirect":return nU;default:Qn(this.auth,"internal-error")}}resolve(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iU=new kc(2e3,1e4);class Fo extends jA{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Fo.currentPopupAction&&Fo.currentPopupAction.cancel(),Fo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){ci(this.filter.length===1,"Popup operations only handle one event");const e=B_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Cr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Cr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iU.get())};e()}}Fo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU="pendingRedirect",Hh=new Map;class oU extends jA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Hh.get(this.auth._key());if(!e){try{const r=await aU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Hh.set(this.auth._key(),e)}return this.bypassAuthState||Hh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aU(t,e){const n=LA(e),r=FA(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function uU(t,e){return FA(t)._set(LA(e),"true")}function lU(t,e){Hh.set(t._key(),e)}function FA(t){return ei(t._redirectPersistence)}function LA(t){return Bh(sU,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cU(t,e,n){return hU(t,e,n)}async function hU(t,e,n){const r=as(t);LV(t,e,U_),await r._initializationPromise;const i=DA(r,n);return await uU(i,r),i._openRedirect(r,e,"signInViaRedirect")}async function fU(t,e){return await as(t)._initializationPromise,MA(t,e,!1)}async function MA(t,e,n=!1){const r=as(t),i=DA(r,e),o=await new oU(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dU=10*60*1e3;class pU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!VA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Cr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=dU&&this.cachedEventUids.clear(),this.cachedEventUids.has(uS(e))}saveEventToCache(e){this.cachedEventUids.add(uS(e)),this.lastProcessedEventTime=Date.now()}}function uS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function VA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function mU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return VA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gU(t,e={}){return os(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vU=/^https?/;async function _U(t){if(t.config.emulator)return;const{authorizedDomains:e}=await gU(t);for(const n of e)try{if(wU(n))return}catch{}Qn(t,"unauthorized-domain")}function wU(t){const e=ty(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!vU.test(n))return!1;if(yU.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU=new kc(3e4,6e4);function lS(){const t=xr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function SU(t){return new Promise((e,n)=>{var r,i,s;function o(){lS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lS(),n(Cr(t,"network-request-failed"))},timeout:EU.get()})}if(!((i=(r=xr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=xr().gapi)===null||s===void 0)&&s.load)o();else{const a=m$("iframefcb");return xr()[a]=()=>{gapi.load?o():n(Cr(t,"network-request-failed"))},SA(`${p$()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Wh=null,e})}let Wh=null;function TU(t){return Wh=Wh||SU(t),Wh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU=new kc(5e3,15e3),RU="__/auth/iframe",IU="emulator/auth/iframe",bU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OU(t){const e=t.config;ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?F_(e,IU):`https://${t.config.authDomain}/${RU}`,r={apiKey:e.apiKey,appName:t.name,v:no},i=AU.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${gc(r).slice(1)}`}async function CU(t){const e=await TU(t),n=xr().gapi;return ce(n,t,"internal-error"),e.open({where:document.body,url:OU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bU,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Cr(t,"network-request-failed"),a=xr().setTimeout(()=>{s(o)},PU.get());function u(){xr().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kU=500,NU=600,DU="_blank",jU="http://localhost";class cS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FU(t,e,n,r=kU,i=NU){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},xU),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Pt().toLowerCase();n&&(a=mA(l)?DU:n),pA(l)&&(e=e||jU,u.scrollbars="yes");const c=Object.entries(u).reduce((f,[d,y])=>`${f}${d}=${y},`,"");if(i$(l)&&a!=="_self")return LU(e||"",a),new cS(null);const h=window.open(e||"",a,c);ce(h,t,"popup-blocked");try{h.focus()}catch{}return new cS(h)}function LU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU="__/auth/handler",VU="emulator/auth/handler",$U=encodeURIComponent("fac");async function hS(t,e,n,r,i,s){ce(t.config.authDomain,t,"auth-domain-config-required"),ce(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:no,eventId:i};if(e instanceof U_){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",UD(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries(s||{}))o[c]=h}if(e instanceof Nc){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const u=await t._getAppCheckToken(),l=u?`#${$U}=${encodeURIComponent(u)}`:"";return`${UU(t)}?${gc(a).slice(1)}${l}`}function UU({config:t}){return t.emulator?F_(t,VU):`https://${t.authDomain}/${MU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm="webStorageSupport";class BU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=OA,this._completeRedirectFn=MA,this._overrideRedirectResult=lU}async _openPopup(e,n,r,i){var s;ci((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await hS(e,n,r,ty(),i);return FU(e,o,B_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await hS(e,n,r,ty(),i);return z$(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ci(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await CU(e),r=new pU(e);return n.register("authEvent",i=>(ce(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(cm,{type:cm},i=>{var s;const o=(s=i?.[0])===null||s===void 0?void 0:s[cm];o!==void 0&&n(!!o),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_U(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return wA()||M_()||zd()}}const HU=BU;var fS="@firebase/auth",dS="1.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qU(t){Ws(new Yi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ce(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:EA(t)},l=new h$(r,i,s,u);return w$(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ws(new Yi("auth-internal",e=>{const n=as(e.getProvider("auth").getImmediate());return(r=>new WU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rr(fS,dS,zU(t)),Rr(fS,dS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QU=5*60,KU=TR("authIdTokenMaxAge")||QU;let pS=null;const GU=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>KU)return;const i=n?.token;pS!==i&&(pS=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function YU(t=Dv()){const e=hd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=_$(t,{popupRedirectResolver:HU,persistence:[eU,B$,OA]}),r=TR("authTokenSyncURL");if(r){const s=GU(r);L$(n,s,()=>s(n.currentUser)),F$(n,o=>s(o))}const i=wR("auth");return i&&E$(n,`http://${i}`),n}function JU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}f$({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Cr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",JU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qU("Browser");const XU={apiKey:"AIzaSyANe6FhYgb8cKaPQSlDiV-VpPI-TVmdgwc",authDomain:"crucial-binder-166413.firebaseapp.com",projectId:"crucial-binder-166413",storageBucket:"crucial-binder-166413.appspot.com",messagingSenderId:"251134816734",appId:"1:251134816734:web:a4ee50fbcb52d6c0176d4f",measurementId:"G-DFQWV78HE0"},$A=AR(XU),$r=UM();CV($A);const ZU=Mr($r,"documents"),ry=ss(Mr($r,"documents")),e4=ss(Mr($r,"feedback")),t4="E77TDAP2ZW",n4="2016061c4660d6ecc71016602c36e34e",UA=sA(t4,n4),BA=UA.initIndex("asu_mecha"),pa=YU($A),r4=new Gr,i4=async()=>{try{await cU(pa,r4);const e=(await fU(pa)).user;await zi(ss(Mr($r,"users"),e.uid),{uid:e.uid,name:e.displayName,authProvider:"google",email:e.email,admin:!1})}catch(t){console.error(t),alert(t.message)}},s4=async(t,e)=>{try{await j$(pa,t,e)}catch(n){console.error(n),alert(n.message)}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Lo=function(){return Lo=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Lo.apply(this,arguments)},HA=function(t){return{loading:t==null,value:t}},o4=function(){return function(t,e){switch(e.type){case"error":return Lo(Lo({},t),{error:e.error,loading:!1,value:void 0});case"reset":return HA(e.defaultValue);case"value":return Lo(Lo({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},a4=function(t){var e=t?t():void 0,n=O.useReducer(o4(),HA(e)),r=n[0],i=n[1],s=O.useCallback(function(){var u=t?t():void 0;i({type:"reset",defaultValue:u})},[t]),o=O.useCallback(function(u){i({type:"error",error:u})},[]),a=O.useCallback(function(u){i({type:"value",value:u})},[]);return O.useMemo(function(){return{error:r.error,loading:r.loading,reset:s,setError:o,setValue:a,value:r.value}},[r.error,r.loading,s,o,a,r.value])},u4=function(t,e,n){var r=O.useRef(t);return O.useEffect(function(){e(t,r.current)||(r.current=t,n&&n())}),r},l4=function(t,e){var n=!t&&!e,r=!!t&&!!e&&VM(t,e);return n||r},c4=function(t,e){return u4(t,l4,e)},h4=function(t,e){var n=a4(),r=n.error,i=n.loading,s=n.reset,o=n.setError,a=n.setValue,u=n.value,l=c4(t,s);return O.useEffect(function(){if(!l.current){a(void 0);return}var c=e?.snapshotListenOptions?WE(l.current,e.snapshotListenOptions,a,o):WE(l.current,a,o);return function(){c()}},[l.current]),[u,i,r]},WA=function(t,e){var n=h4(t,e),r=n[0],i=n[1],s=n[2],o=f4(r,e?.snapshotOptions,e?.initialValue);return[o,i,s,r]},f4=function(t,e,n){return O.useMemo(function(){var r;return(r=t?.docs.map(function(i){return i.data(e)}))!==null&&r!==void 0?r:n},[t,e])};function ur(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Ys(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const zA=6048e5,d4=864e5;let p4={};function Gd(){return p4}function Fl(t,e){const n=Gd(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=ur(t),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Uf(t){return Fl(t,{weekStartsOn:1})}function qA(t){const e=ur(t),n=e.getFullYear(),r=Ys(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Uf(r),s=Ys(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=Uf(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function mS(t){const e=ur(t);return e.setHours(0,0,0,0),e}function gS(t){const e=ur(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function m4(t,e){const n=mS(t),r=mS(e),i=+n-gS(n),s=+r-gS(r);return Math.round((i-s)/d4)}function g4(t){const e=qA(t),n=Ys(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Uf(n)}function y4(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function v4(t){if(!y4(t)&&typeof t!="number")return!1;const e=ur(t);return!isNaN(Number(e))}function _4(t){const e=ur(t),n=Ys(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const w4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},E4=(t,e,n)=>{let r;const i=w4[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function hm(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const S4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},T4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},P4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},R4={date:hm({formats:S4,defaultWidth:"full"}),time:hm({formats:T4,defaultWidth:"full"}),dateTime:hm({formats:P4,defaultWidth:"full"})},I4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},b4=(t,e,n,r)=>I4[t];function hu(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n?.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n?.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const A4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},O4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},C4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},x4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},k4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},N4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},D4=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},j4={ordinalNumber:D4,era:hu({values:A4,defaultWidth:"wide"}),quarter:hu({values:O4,defaultWidth:"wide",argumentCallback:t=>t-1}),month:hu({values:C4,defaultWidth:"wide"}),day:hu({values:x4,defaultWidth:"wide"}),dayPeriod:hu({values:k4,defaultWidth:"wide",formattingValues:N4,defaultFormattingWidth:"wide"})};function fu(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(a)?L4(a,h=>h.test(o)):F4(a,h=>h.test(o));let l;l=t.valueCallback?t.valueCallback(u):u,l=n.valueCallback?n.valueCallback(l):l;const c=e.slice(o.length);return{value:l,rest:c}}}function F4(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function L4(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function M4(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const V4=/^(\d+)(th|st|nd|rd)?/i,$4=/\d+/i,U4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},B4={any:[/^b/i,/^(a|c)/i]},H4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},W4={any:[/1/i,/2/i,/3/i,/4/i]},z4={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},q4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Q4={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},K4={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},G4={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Y4={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},J4={ordinalNumber:M4({matchPattern:V4,parsePattern:$4,valueCallback:t=>parseInt(t,10)}),era:fu({matchPatterns:U4,defaultMatchWidth:"wide",parsePatterns:B4,defaultParseWidth:"any"}),quarter:fu({matchPatterns:H4,defaultMatchWidth:"wide",parsePatterns:W4,defaultParseWidth:"any",valueCallback:t=>t+1}),month:fu({matchPatterns:z4,defaultMatchWidth:"wide",parsePatterns:q4,defaultParseWidth:"any"}),day:fu({matchPatterns:Q4,defaultMatchWidth:"wide",parsePatterns:K4,defaultParseWidth:"any"}),dayPeriod:fu({matchPatterns:G4,defaultMatchWidth:"any",parsePatterns:Y4,defaultParseWidth:"any"})},X4={code:"en-US",formatDistance:E4,formatLong:R4,formatRelative:b4,localize:j4,match:J4,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Z4(t){const e=ur(t);return m4(e,_4(e))+1}function e3(t){const e=ur(t),n=+Uf(e)-+g4(e);return Math.round(n/zA)+1}function QA(t,e){const n=ur(t),r=n.getFullYear(),i=Gd(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=Ys(t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=Fl(o,e),u=Ys(t,0);u.setFullYear(r,0,s),u.setHours(0,0,0,0);const l=Fl(u,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function t3(t,e){const n=Gd(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=QA(t,e),s=Ys(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Fl(s,e)}function n3(t,e){const n=ur(t),r=+Fl(n,e)-+t3(n,e);return Math.round(r/zA)+1}function De(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const _i={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return De(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):De(n+1,2)},d(t,e){return De(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return De(t.getHours()%12||12,e.length)},H(t,e){return De(t.getHours(),e.length)},m(t,e){return De(t.getMinutes(),e.length)},s(t,e){return De(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return De(i,e.length)}},go={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},yS={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return _i.y(t,e)},Y:function(t,e,n,r){const i=QA(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return De(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):De(s,e.length)},R:function(t,e){const n=qA(t);return De(n,e.length)},u:function(t,e){const n=t.getFullYear();return De(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return De(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return De(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return _i.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return De(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=n3(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):De(i,e.length)},I:function(t,e,n){const r=e3(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):De(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):_i.d(t,e)},D:function(t,e,n){const r=Z4(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):De(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return De(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return De(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return De(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=go.noon:r===0?i=go.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=go.evening:r>=12?i=go.afternoon:r>=4?i=go.morning:i=go.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return _i.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):_i.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):De(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):De(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):_i.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):_i.s(t,e)},S:function(t,e){return _i.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return _S(r);case"XXXX":case"XX":return _s(r);case"XXXXX":case"XXX":default:return _s(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return _S(r);case"xxxx":case"xx":return _s(r);case"xxxxx":case"xxx":default:return _s(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+vS(r,":");case"OOOO":default:return"GMT"+_s(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+vS(r,":");case"zzzz":default:return"GMT"+_s(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return De(r,e.length)},T:function(t,e,n){const r=t.getTime();return De(r,e.length)}};function vS(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+De(s,2)}function _S(t,e){return t%60===0?(t>0?"-":"+")+De(Math.abs(t)/60,2):_s(t,e)}function _s(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=De(Math.trunc(r/60),2),s=De(r%60,2);return n+i+e+s}const wS=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},KA=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},r3=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return wS(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",wS(r,e)).replace("{{time}}",KA(i,e))},i3={p:KA,P:r3},s3=/^D+$/,o3=/^Y+$/,a3=["D","DD","YY","YYYY"];function u3(t){return s3.test(t)}function l3(t){return o3.test(t)}function c3(t,e,n){const r=h3(t,e,n);if(console.warn(r),a3.includes(t))throw new RangeError(r)}function h3(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const f3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,d3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,p3=/^'([^]*?)'?$/,m3=/''/g,g3=/[a-zA-Z]/;function y3(t,e,n){const r=Gd(),i=n?.locale??r.locale??X4,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=ur(t);if(!v4(a))throw new RangeError("Invalid time value");let u=e.match(d3).map(c=>{const h=c[0];if(h==="p"||h==="P"){const f=i3[h];return f(c,i.formatLong)}return c}).join("").match(f3).map(c=>{if(c==="''")return{isToken:!1,value:"'"};const h=c[0];if(h==="'")return{isToken:!1,value:v3(c)};if(yS[h])return{isToken:!0,value:c};if(h.match(g3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:c}});i.localize.preprocessor&&(u=i.localize.preprocessor(a,u));const l={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return u.map(c=>{if(!c.isToken)return c.value;const h=c.value;(!n?.useAdditionalWeekYearTokens&&l3(h)||!n?.useAdditionalDayOfYearTokens&&u3(h))&&c3(h,e,String(t));const f=yS[h[0]];return f(a,h,i.localize,l)}).join("")}function v3(t){const e=t.match(p3);return e?e[1].replace(m3,"'"):t}function GA(t){const{CourseCode:e,CourseName:n,CreatedAt:r,Title:i,Thumbnail:s,URL:o}=t.doc,a=new Image;a.src=s,a.onload=()=>{console.log("Image loaded")};const u=t.theme;return T.jsxs("a",{target:"_blank",rel:"noreferrer",className:"preview",href:o,children:[T.jsx("div",{className:"aspectwrapper",children:s?T.jsx("img",{src:s,alt:i,width:150}):T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"100",viewBox:"0 -960 960 960",width:"100",fill:u=="light"?"black":"white",children:T.jsx("path",{d:"M440-280H280q-83 0-141.5-58.5T80-480q0-83 58.5-141.5T280-680h160v80H280q-50 0-85 35t-35 85q0 50 35 85t85 35h160v80ZM320-440v-80h320v80H320Zm200 160v-80h160q50 0 85-35t35-85q0-50-35-85t-85-35H520v-80h160q83 0 141.5 58.5T880-480q0 83-58.5 141.5T680-280H520Z"})})}),T.jsxs("div",{className:"overlay",children:[T.jsx("h2",{className:"title",children:i}),T.jsx("h2",{className:"course",children:"Course: "+e+"-"+n}),T.jsx("h2",{className:"date",children:"Uploaded: "+y3(r.toDate(),"MMM dd, yyyy hh:mm")})]})]})}function _3(t){const{CourseCode:e,CourseName:n,Title:r,Thumbnail:i,URL:s}=t.doc,o=new Image;o.src=i,o.onload=()=>{console.log("Image loaded")};const a=t.theme;return T.jsxs("a",{target:"_blank",rel:"noreferrer",className:"preview",href:s,children:[T.jsx("div",{className:"aspectwrapper",children:i?T.jsx("img",{src:i,alt:r,width:150}):T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"100",viewBox:"0 -960 960 960",width:"100",fill:a=="light"?"black":"white",children:T.jsx("path",{d:"M440-280H280q-83 0-141.5-58.5T80-480q0-83 58.5-141.5T280-680h160v80H280q-50 0-85 35t-35 85q0 50 35 85t85 35h160v80ZM320-440v-80h320v80H320Zm200 160v-80h160q50 0 85-35t35-85q0-50-35-85t-85-35H520v-80h160q83 0 141.5 58.5T880-480q0 83-58.5 141.5T680-280H520Z"})})}),T.jsxs("div",{className:"overlay",children:[T.jsx("h2",{className:"title",children:r}),T.jsx("h2",{className:"course",children:"Course: "+e+"-"+n}),T.jsx("h2",{className:"category",children:"Category: "+t.doc.Category})]})]})}const YA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGkAAABpCAYAAAA5gg06AAAAAXNSR0IArs4c6QAACIlJREFUeAHtnWlsVUUUx7unhaba1oJ0sS1tEFxARMUYKSHAB6xiIogQxQgSNS5gokZjkAAaDZomEJdEUARCZIlxQUiIyyeCMSYogkqUUmppFWygfcgiXai/MZ3kpbz3vMvM3To3uZl7586cOef/nzMzd+7Me2lp5jAIGAQMAgYBg4BBwCBgEDAIGAQMAgYBg4BBwCBgEDAIGASCiEBmEJVKpVNNTc2MoqKieYWFhec7Ojr+SJU2Ks/Sw2BIbW3tNX19fQvT09MfRN8SqXNvb+/oo0eP/irvoxpmBdmwkSNHToOYp9GxnvASVTMzM28h0pB0CTIeROA5k/GcBoiZkKw4nse6u7t3JnsepfhAeVJ1dXUl3tEAwLMSec4A4Je2tLR0DIiL5O2lbYhPZjIgWAoxL1spHi86eOTIkbFW0kYhje+eVFlZWZ2dnf0hYN5qA9AlNtKGPqmvnkTzNpvmbQMoDrWB5P7GxsbxNtKHPmmGXxYwcluQkZGxnfLtEJRGU/eOXzr7Va4vJEHQEghaTx9ky5Mh6NyFCxc2+wWWX+V6ThIDhJcgaLVDgze1traed5g3tNk8HTjw/vMESK10ihae9JXTvGHO55knQdAigHrLJViGJJcAJs1OHzQVL1ibNIGFB+Q/0NTUFLOQNHJJtDd3EHQVfdDHIGdrkDAQaUjaMzBusNzrbu6yGMB9ApgFCgBtVCAjlCK0ksRIbjkk3agCGeQ0q5ATRhnaSKKZGwWwz6sChW9HhiRVYEo59ENioKCsz+vq6mqVsgdbqMWTGG7fC5CTVYKZlZXVq1JemGTpIEmM4lapBqGnpyd06zFUYaCcJPqih1CuWpWCUk5eXp5yXaXsoIfKDWewsEyH0UysZuuQGwaZSkliyD0Fkqp0GJ6Tk6PcO3XoqUOmUpIg6AEdSgqZyK7VJTvoclWSJIbbczQabEhyCy7D7juQke9WTrL8eNKoZM+iHq/Mk5gArdcJFvKn65QfZNnKSKKm36nTUORfjrcqmQfUqacO2UpIYlnWGJQr1aFgvEy8aVr8/WC5VkISUzZiTbb2A2/S2qRqN8BhAUpIouzrHZZvN1sda/XG2c0U9vRKSKKGe0VSGrPrz4QddLv6KyGJvkL0SZ4cVIj5FRUV2vs/T4yxWIgSkgCuwmJ5SpKxdvxFJYJCIiTdrZ4Mi8X6BU9X8eC5fZQ5lp0VP7nVPwz5XXsSX0yv8NpQPFdUrg+8Ltev8lyTxK4IbVNBqUCBp5v4dvVYqjRReaaCJN8+a0NUA0Pyq6NCRjI7XJN08eLF7mTCdcdD0hA8edfw4cNtbZ/RrZdq+a5JYqmVbyT1g1GTn5+/TTUwQZLnmiR2gP/tt0F4VD3906t+66GrfNdDcKEYn83PiqZHl5I25K5nq+Yi0oshemQO157Uj8SxgCCykAqzq7y8PC8g+ihRQwlJeFGzEm0UCEGXGbm5uXt5ya5RIE6pCJrkevT6gor0hp2KpIQkJgCC9uY/Hp0OAsoCpSg7FCbmGiHnIyaHdyJiOhXpWSrS21bFqSLpG6sFepUOIPIAZT21dktpaannsyLSTspfzHI0sW1nlowTIZXoyvj7VNdKSOJdKXAkSaMhay6rX48B1hpqc7mM1x1S1hzKPED5a0SFSVDe3gRxCaOUjO6EZJRqIqhOWEqAIqnBGwDtXUaB3+pQCxzmU4b4CZ5RqeTzfjmRn4H7LlUa+UwZSaKmothiKTjoIUD+ho7vc25gNv0vp/qWlJTkFxQU3IztE5H5OOH/frYhXSdlFlotUxlJdNK30weEcl8roB0G3B8J94sT8ARpMa5j1PYT2HYZNb+UtRwjSFdG816KrdfxXJBje+6QfNsh6T7PSRIF4uonCYqsFj5Y00H4TMj/3Kr9SgYOcYVtirs2l4kRaLNDkBChlCQ2eq1CZldi3UxsPwKiH7R1KCWpubn5OO31OlsaDLLE9Efv2TVZKUmicEh6hcB4UwImIGgdAwbb85yZCWS5iurs7DzDb3bnMuqpcyUoYpkh6B8wuevUqVPn7Jqm3JOEAtSWlShlu8bYVT5M6SFoNS/Q7U501kISiojm7lEnCkU0jyDnNae2KW/upCL8RUEjzd44atAYGTdYQ1qVh2ldvndqvy5P+k8fCBLTRGedKheRfDsgaJsbW7SSRBvcSi2azRmpz9lWAcdssbJXfM53dWhr7qRWotkrLi4WK4qmyrjBEkLS/XjRPrf2aidJKMiwcw/90w00f6PdKhyW/LwvvsAvXdp+cU1kn9bmLr5AJhXncf9DfFxUr/GgjRAkpsiUHMo+VVjRpqysrJivpF+TNsq79XbQF99tBQ+raTzzJKFQW1vbSZqBydQ01+20VQO9TIddWyHoHtVleupJUnkWhgzBo3bTR02ScWEPIUjMyz2iww5fSJKG8JHwM65nyvsQh8vxoBW69PdkdJdMeUZ9Wxn1HcejppAmJ1m6oMbjPb9zTseDtujU0VdPkoaJ/1Bi/cBmyLpNxgU9hJyNp0+ffrK9vf2Mbl0DQZI0khVHz3G9ErJyZVwAw0MMfp5iiC1GqZ4cgSJJWAxRw6ily1iNIzrhwPxaJDrFqDwr6HveRK8eoatXR+BIkob3N4HLAUb8t6yfh9h/Jf5YqwGCHH0Pcqt8YEmShlVVVY1my+UC7udD2AgZrzvEc05Q3uuxWGytF/1OKnsCT1K88mxiroOwuQA4FwAtrwCNl5HqGrl/8nwH525GbJ+mSuvls1CRFA8MfdcEQJ0EWXWc4qXY1s4J8op/NDtE3l8YCOyjD/yS5uzn+DKCch1akgYCyIvxtcTVAr7YUjIM8EeIa8Kh3LdxtnDfxn0LPxBymD8SFhsMzGEQMAgYBAwCBgGDgEHAIGAQMAgYBAwCBgGDgEHAIGAQMAgYBAwCBgGDgEHAIJAagX8B0ZRLy7UYZB4AAAAASUVORK5CYII=",JA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGkAAABpCAYAAAA5gg06AAAAAXNSR0IArs4c6QAACOlJREFUeAHtXO2R2zYU9GXy3+ogdAVhKjA6iFyBmQp8HVipwOrA6sByBZQrsDoQXcHJFTi7ZzKDg/BNgBLOeDPvSOJj3759BI4nau7Fi2pVgapAVaAqUBWoClQFqgJVgarAggrcLRgre6gfP36sEOT1GOjL3d3dOXvQGsBfARSohT/AJ+N5649QR2ZXAAXpp+pIxz574BrATwEURUiFUU+FH0odlVUBVKVXKyNd19WUVX0PcBTDtoqmWgkPqDoklwKoQj9VwnKsqylXAVy4KIrPKppqJ1x4tT+DAlC/nyrgcayrKUMNrJAoSsgqmmoorKC1M60CUL2flA841tWUtgxmNBQlZhVNtRRm5F+sB4qs4K/hTerUgdnDYy35agKRBv4azs8OyzCQ7eDy52hfcf0O3szNABhzVhGmP5pIwIOFYU7MbbIHnHRzsbPPB0mSJ1mTMal38CaGDOb18LkWtZoQVFcYlQtzv+0VBYIhd3pQwQKxVfHUa+Fzk2CST2GisH3iZxkDtiFFkpNzFgyDe3nCzHPjagJuTGFkOl43QJYC+IKC7VlmHHF+UTBgxBbfFv5/MTFobmGmOGW8aATb3cQ4wXEqWJ8AS4Ug5js4Y6Syne/N7Dsuy+tzZLsGgU++JJ7ZuDd4bb9PmVOWIpEgCsVl/zIl2QKwvqNAq9Q8f0sNKOElvZsk3Fs+zZJzLVLakmcpUrbtjrln3vK+IwRFOcAH+FH9Chfir9Dewhu4gK/hubbgLFsd+OY1iJTyKQ9wj7bFTwofZZgr4Dl47aIIXXsSxFjDUxmFbVLlRCx4ymJxlZZpEGLuH7aHlMVRVRyLxRhz7KziFnWNzOfcrdulkgVPbqOxtsvJ8/ec4CP2Hse3EXH+wYPAzmcelG0xjg8EQhl/wDV/oR+V9otLjLkHDsd9vOh0NzDHsg3Jh2x5HEvRrYYxAv4BfoK77IQBHCusoOjEmBYexNeFWUQ/kg7Z8jpbUqOIPY6x1mNi44jRBYDvbFjF9CHhtWfSW1tSwOBqSGUfHLG2noHWNpyi+pCwawsx7uuYu4L38NTWA3BlEhJ9e0fAs2luke1I1rXlNbrEKCI85asEVXdiawuF9kYdrFzvdJyLbENiAm4TemNKzDFP0Sz60vaWdmtBZU7CxL2IdiYA7+E2O6PTdCd/tE1M3LfViUpucHK0WY/OsopFwnAS97GNQRxiLG1aoUFi40mkxzgthi7Hq7SRIJxEQ6zRkQVAHwKSaKx22wN2G4jfY7zQ5XW1NhKCk1ioDTrSAFmHAiUcLwychogYPeZo8XQxTG2zXvqRAJx3H12Yglja94a+taF9iebOEMTE1TD8sVngJwtF5/lyxoBjYBxmmdCxBuLDLNR5kx8MnFKs7h7UtDnrYka1MQCcgVLZSiUCYMa4tl0ICUKrhKR6YF3EULWYrr22OwDyF+ecbW2K9+SIT57PTxp+XghN29JNFxwMXGN5EZ+ForcuEOerCoDwbmeBLu56F7ijn99R+NVNQAAW6pXtJvBZSR2AUhcIkC+O/KGxRtO2dJOJw5cMRKhtZ8P1KVKOAtk4LR1Px2VpDtZ4PkXa6bJI0PaHAeNoaF+y2cThz0wkdjZcZ5GwVw4AeANP/TukAWZpZr3jI5Khpvzu+GCb6ywSJwNkj0MD/xeeuliAfGKmu/jJoMwXFxzGB6hUYakhtWxGbVPh/sQhWfgGfobPNaGyA2DKv0di+V2sGACl+PuNmlG7C3xVB/naayXJE1D5M3yDtgY+d2UJYDwx4qPh85PGZS8+jxzUqEJtCLiWV87GgB8AFziUd8V4d8SsrK+6cMDr4NeyzsDJ9tLSxDVq5ejiJ2kDy9hiaZc+8AZT5hnbB50YiNcExryt4qhJIZnQYnUqBq+Bc43VNJfLbRdHFTqgWCd17nQNjAN8KTtMcdUjCJwcJMoqjiZBn5V1r87jNYTh3MEhUIpuxjBtuxtLgLKLo4qORLeWZPn+yCRSiz6KkcuI3ap8pZvE9m5Le3PpsIpogxAnh8pbUyIUEZ6jUFxB2gKNRdo6OGufTk153HT7KLIj38fuzpQIelfwow+I5xhirSzxOk+cxoRRVDuSdd2Rkx7cWox3NpNGP8XjCog1zu1sAqK/hdu2OTn2vQ2rmD5kdJKzcpxzrPEOZ9Lsh9/Dj3Bf41jO8cH2LRBjZ9/y7nJXGklwZYQmMmAOPx0+uvgBv8GYNZziMxaPtDP8OB73wBpwbrWR6ycMaqwDLztf+eBfTruRFiS+hccY7+ZuqTQYCx6yguSc7pfimSUOMjnJ2UScv89CTAIFp/cRvOQpoTuFFP3Kp8iilTOZcX7C3Lep0yEm/ARPYU1qfovgIfPYrc4k2gkds4qF+StiwE/wlJZty8v64AAF+LlcrjtsD+wDnO9/BhyNBh4NOv+GC/gansP4b3P+ygGcrUgQpgXhJffqAfHosjW4oC9lWZ7ynF+OnJFdN2NuzNQGk+jXNK7SbWoCOVdSzq0utQ6p8LJsecHfcfDJZtzqGp+xz2wMn2aT552lSBC+Syw+v5jCL3Oktm8AJHZKy/VgkpLj42drJ9xRc20PAH4KsCI7HDdzATXzuxGbj+WMxZhzbcmHJdIPN2TIJR9rTwojRwcghTzHAmvmDTL+dD7GmVuwZsK7ySOSFBpBbE3GwqgJAiTlaupUfPUa8XhjxBRMqFg3dY2kWrjLvAsjJwdQinZ2gXv0DzKuz/kY27dgjQ/mVccgoa1GqKjCqIkAN8Vq6lTckGtHwe5DsHzG5vw7qQUBPukc4Qd8ZHL2IeQaQ4EwZoC/dI019H8Dl8bQF9w88mGexOR7K+ZbbeZq6qqCCygwbjcxv5uGBeglD5Hrj9nkRGXAcevcym2e5xvPcXVYCgUiVtOQIu41MIpcSRQqYjVtriHwLx8zYDUNJYtV7Eqi6AGraVNykYrn7rGahuKTfA4JoFC2TyG655Bj8TlYVtNQfHLPKQEUag1XjR/XFG/ZPru7hjKokEBcOm2HB4vh8az+qApUBaoCVYGqQFWgKlAVqApUBaoCVYFnpcB/RUg2S4CIBygAAAAASUVORK5CYII=",w3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAAAAXNSR0IArs4c6QAAA7RJREFUaAXtmEloFFEQhmc8uaEmLolrPERE4sX1KEJAIeBCNERckCCIehBPCh4ED4J4cTkIKirmJCKCiGgQDMRDPAQDrhjFxDVGTXIwrqjxK+yR2FP1epkeM4gFPz39v6q//nkz3f1ep1MRor+/fwbp1WAJmAiKQQnoA90e7nG8CK6k0+mPHAcvMLwR3AFR4wwF0/66c5pWgftR3Sr5J+Dk18l/0Ggn+KGYiEs9onBKXp3T4GhcdwF1rxifmYT5tF8E4X1wu/287/w253IBPgXPwSggszkHyMU7EljRxcB8LtwXVkJkHtNrAmbsJOOzgoTJWQ8eO7RagjRCj9OkAnwymskFWh5azEukZpehJ/SpqHpqPkKNoqbEDbjRalEIktpaRTNDLQwhYaegsiKj5Ds2cz7Mrgw3gkY1+O7TltPmcApGFgItiugbuDFGSWQarb1KD6EqI4tJAYWlhuD2WIJGET2Gg26l1xGjxE0jtE0R63VXxRulzx6lV3sctSEULVUKLytcEtQlRWQ6XybyHUuMT1XEGhQuZ4qHTisi7xQhWXVGCjEuy1J/JPdU8yunUm3ZVKpM4ZyUGJ+kZMjaOl/RoQhHXnyJce1ClLVHvmKEIvxF4ZyUGH+tZExWuKQobXY1D85+YrxTyZircDlT3D2GIjJPEXqpcE5KjD9QMpYpXBKU7FW1uKmRTo5ZqFQeCkJpM+PUChpE84LSK/4SF7EeRTDRezn6C5QeQsnGJV5QfMgQXR1PMbsK/VtGD+12nC2gMQiWAG0T8QF+tlYThUPjLNDicBQdNRfVA5oyXBeQvWSsoPa4odsLPz6W6MAiRIrAQ6PJe/i6gflBn8kvBw2GntA1QRqhxxErA53ACtkAbwZFlihji8Bp4IprVn1YXns9UUFxIwj6GZvIkdcTsiCTPak8EeUWGuap+5m8g+AraGLVeJ1j7sFUyc/c4ZqymGNXjbqq3F17CjSQLZ22FzV6B9KbRJoseRGqxfLEzHuN1tGlXesUkqsn7/cOh8/HHHUrEzXvfQF5P3IO9DkaZ4Za+bAfZG0Q4FZlkoyjvMILjKyLM7CCBBou5jABjAXFQF7gvwWy0mzlYuvhaAb1GxisNxNSqRo0zjvGB28I82uB9Rr7G2PJ/22S+rqYq/uXzdcmNVGJ6wTMvPyd/ptPfNZF0Jt5DmrIzMvdqDADc1tU27/Igje/1WH+bmFOuefKmPk2+HEFbVzM+cw/4by04E1nDGJ2B3gGtLfKmbTCPGJaNip/xE+n1KTrzKWnrAAAAABJRU5ErkJggg==",E3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAAAAXNSR0IArs4c6QAABcJJREFUaAXNmltoHFUYx93dXMSVFrIx3iLNbRNKfamtUsFq+2AUL2ltWlu0aiu+6LNYEAQfqrZSEOtdvGBUqihqkFYKrULpQ8GElpSSNtlk0zWmqTUxhWTJPf6+dWeZOXNmZ2Z3Y/bAZOb7n+/yn2/OnPOd2QSu8dHq6uqipaWlWxYWFpoxu5mjIhAI3Mh5nGNEDvrOcbRPTEz8MjQ0lARblBbw4rWxsfEZCL6I7u1e9A0dbqBtdnb2lf7+/oSBFeqclTiEHyLQAUivzCcgN/BJMpncMzg4OJqPH7OtI/GmpqaXCLgP0o46Zkdu1/iKzc/Pb4zFYoNuul76taQg/T7Gz3tx4FPnEvobL9B82tnUbcQZHq+R5JdtmiaA7HVxtAeDwYtzc3N/0LUsFApVg63Gdgvy9SZ1yyU6l8n82nwzbyEO6R0EPmSJZBU+I+iB3t7ebitslXhiOyH4Kr7qrT0ZqZOkr81IOVxkiDc0NKwigx0Eu1b1A4luMtvS19cXU/uyydzAHvr3Oeh8DvlnHfpc4aChwaN+14H0Saa0u/2SFr8Q289N7zBiKOfdPOG7FMyzmCJOZjZhsUG1IugpprFm5uGrap9Xuaen51uGVyu+5jU2b2swT1BItCorK7/mdIvZgkBXpqen1yUSCVkV82qjo6PdkUgkxBO9z+wIuRr85MjISNyMe7kO1tTU3ITiGlUZ4nsHBgbGVDxXeXx8fD+2ugVInrbvFiwrK5Ppy9IgPcbMcdAC5ilI3YJf29Ag64/m4jqI4QOqIdhhFSuEzFj/WeOnpr6+vkGDZ4WCZOE2VQPsqIoVQmbROY3vv1VfzGhRFXOTJeNSlloaWEHqCYvTtIDvHhXnZlaomJss06FlNkkbSG29WG1AdczCV61ibrIQ/0dVIgPLVKxQMr7DGl9TGiwrJGN8WKNxqwYrCMRQsWXXgUPWeJJxKTUtDed3WIACCawZUgfZ1gywP/2GEOK2So8M5DS3ugUvLy+XvaqtUVacsoEugBD/UdUh4yuZW3WZUVV9ySRkl8agM5ctXZAi6DjObC9oSUnJ65ogOUNUgneSkMdUB9xMTmuGZFxa238ny99mavStFiQ/4SOdOTfzng53w1LEqQLf4M4nVWVWtC8YMr4+Sag+RCbb30BwtabvIDX7kAZ3hVLE4/H4ZRy/o9G+DvLHybwuqEbdDkH6Y3xvV3tI1Bi7qr0q7lVO1eOiHA6HO/hKJWMwYjYmaJiV7cmKioph6uoz5r5s11I4VVVVHcL+cZ0e+NNUoL/r+rxgmT2nKNfW1q6gzJWpSWp0WyNLfYBvTk5OfscGw/ZCi0E0Gr0XUrs5domsa/g5xqRwv67PK2YhLkbpTfNvBL4hmxOCn6D/IocUZMvRl88Tazi7rrroyfv0Fsc0+icY579y7avZiIu1PGamw2Nc+q7aXKLL1Ger/7mRh3kCR1xsLd2pl9OCIMiOfmpqah2XnWpfHvJzZPZBSLapPsj6YTbsLSqeTdYSFwP2m8MEko82O0XkyKlB9Es+b0Tx9WnagW3aTePtzECbvQbRDhWdMU63k5lW+uQLrq40zZhBVmafozMzMx8w1cp7kGm8vK3MUt9nAOVCPmUw2/ygwDbRM3GzJS/wBub3KrAIgeTjfpLjCoQvUTCddqs9SMJT6NuGjBGD+X0b2zzHmxO9nIgbAfI5k/knIP8Vh40DCZjD91Ze2J+cYmQWICeFxcJZzM6yqCXw36KSR5Z3bxsfi7r4WHRex2HJiAsZWYk9kL8A+XMq+SUl7pF8K5k/r5JfcuIeyMs7YCNfFMTN5Bnfm0Q2t/Q7IOT7yXyX9BUNcSGTHvNSYj8isrmlyW82yDuunGaj//OaxedD4r2gi5kmL79yFFfGDbIMhw5mG13me9FZT3+yqIaKQVzODBsLeRalOFvMeygA/5L+oiVukOfXkquQXkUZsJ66J6f9qfhaksY/PyxXA/8LlLBDAO1jtCgAAAAASUVORK5CYII=",S3="E77TDAP2ZW",T3="8761a5cbc3b094847852417488c43f3b",P3=sA(S3,T3),R3=P3.initIndex("asu_mecha");function W_(t){var e=t.navbar,n=t.theme;const[r,i]=O.useState([]),[s,o]=O.useState("");O.useEffect(()=>{R3.search(s).then(({hits:u})=>{i(u)})},[s]);const a=xv();return T.jsxs("div",{className:"searchbar "+e,children:[T.jsx("input",{type:"search",value:s,onChange:u=>o(u.target.value),onKeyUp:u=>{u.key==="Enter"&&(u.preventDefault(),a(`/search-page?query=${s}`))},placeholder:"Search"}),s.length>0&&T.jsx("ul",{children:r.map(u=>T.jsx("li",{className:"search-result",dangerouslySetInnerHTML:{__html:u._highlightResult.Title.value}},u.objectID))}),T.jsx("img",{src:n=="light"?w3:E3,alt:"search"})]})}const ao=({theme:t,setTheme:e})=>{const[n,r]=O.useState(!1),i=()=>{window.scrollY>=250?r(!0):r(!1)};return window.addEventListener("scroll",i),T.jsxs("div",{className:"nav-container",children:[T.jsx(b3,{theme:t,setTheme:e,navbar:n}),T.jsx(A3,{theme:t,setTheme:e,navbar:n})]})},I3=({theme:t,setTheme:e})=>{const n=()=>{e(t==="light"?"dark":"light")},r=()=>{const i=document.querySelector(".sidebar");i.style.display="none"};return T.jsxs("ul",{className:"sidebar",children:[T.jsxs("div",{className:"toolbar",children:[T.jsx("li",{className:"sidebar-item",onClick:()=>r(),children:T.jsx("a",{children:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"26",viewBox:"0 -960 960 960",width:"26",fill:t=="light"?"black":"white",children:T.jsx("path",{d:"m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"})})})}),T.jsx("img",{onClick:()=>n(),src:t=="light"?YA:JA,alt:"toggle",className:"toggle"})]}),T.jsx("li",{className:"sidebar-item",children:T.jsx("a",{href:"/#",children:"Home"})}),T.jsx("li",{className:"sidebar-item",children:T.jsx("a",{href:"/#/courses",children:"Courses"})}),T.jsx("li",{className:"sidebar-item",children:T.jsx("a",{href:"/#/feedback",children:"Feedback"})}),T.jsx("li",{className:"sidebar-item",children:T.jsx("a",{href:"/#/upload",children:"Upload"})}),T.jsx("li",{className:"sidebar-item",children:T.jsx("a",{href:"/#/search-page",children:"Search"})})]})},b3=({theme:t,setTheme:e,navbar:n})=>{const r=()=>{e(t==="light"?"dark":"light")};return T.jsxs("div",{children:[T.jsxs("nav",{className:"navbar desktop "+n,children:[T.jsx("li",{className:"logo",onClick:()=>window.location.href="/",children:T.jsx("h1",{children:"ASU MECHA"})}),T.jsx(W_,{navbar:n,theme:t}),T.jsxs("ul",{children:[T.jsx("li",{children:T.jsx("a",{href:"/#",children:"Home"})}),T.jsx("li",{children:T.jsx("a",{href:"/#/courses",children:"Courses"})}),T.jsx("li",{children:T.jsx("a",{href:"/#/feedback",children:"Feedback"})}),T.jsx("li",{children:T.jsx("a",{href:"/#/upload",children:"Upload"})}),T.jsx("li",{children:T.jsx("a",{href:"/#/search-page",children:"Search"})})]}),T.jsx("img",{onClick:()=>r(),src:t=="light"?YA:JA,alt:"toggle",className:"toggle"})]}),T.jsx("div",{className:"spacer"})]})},A3=({theme:t,setTheme:e,navbar:n})=>{const r=()=>{const i=document.querySelector(".sidebar");i.style.display="flex"};return T.jsxs(T.Fragment,{children:[T.jsx(I3,{theme:t,setTheme:e}),T.jsx("div",{children:T.jsxs("nav",{className:"navbar mobile "+n,children:[T.jsx("li",{className:"logo",onClick:()=>window.location.href="/",children:T.jsx("h1",{children:"ASU MECHA"})}),T.jsx(W_,{navbar:n,theme:t}),T.jsx("li",{onClick:()=>r(),className:"menu-button",children:T.jsx("a",{children:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"26",viewBox:"0 -960 960 960",width:"26",fill:t=="light"?"black":"white",children:T.jsx("path",{d:"M120-240v-80h720v80H120Zm0-200v-80h720v80H120Zm0-200v-80h720v80H120Z"})})})}),T.jsx("div",{className:"spacer"})]})})]})},O3=t=>{let e=t.currentTheme;return T.jsxs("div",{className:"hero",children:[T.jsx("h1",{children:"ASU MECHA"}),T.jsx(W_,{navbar:!0,theme:e})]})};function C3(){function t(){let i=0;const s=Mr($r,"documents"),o=vs(s,JM("CreatedAt","desc")),[a]=WA(o);return T.jsx("div",{children:a&&a.map(u=>T.jsx(GA,{doc:u,theme:n},i++))})}const e=localStorage.getItem("currentTheme"),[n,r]=O.useState(e||"dark");return O.useEffect(()=>{localStorage.setItem("currentTheme",n)},[n]),T.jsx(T.Fragment,{children:T.jsxs("div",{className:"container "+n+" home",children:[T.jsx(ao,{theme:n,setTheme:r}),T.jsx(O3,{currentTheme:n}),T.jsx("h1",{className:"title",children:"Recently Uploaded"}),T.jsx(t,{})]})})}const x3="Spring",k3="Junior",N3="2024",D3=[2024,2023,2022,2021,2020,2019],j3=["Fall","Spring","Summer"],F3=[{grade:"Junior",Semesters:[{semester:"Spring",Courses:[{courseCode:"MDP251",courseName:"Casting and Welding"},{courseCode:"MDP231",courseName:"Engineering Economy"},{courseCode:"MDP232",courseName:"Industrial Project Management"},{courseCode:"MDP212",courseName:"Mechanics of Machines"},{courseCode:"MCT232",courseName:"Electronics for Instrumentation"},{courseCode:"MEP221",courseName:"Fluid Mechanics and Turbo-machinery"}]}]}],L3=["Lecture Recording","Lecture Slides","Lecture Notes","Tutorial Recording","Tutorial Slides","Tutorial Notes","Labs","Quizzes","Quizzes Solutions","Midterm Exams","Midterm Exams Solutions","Final Exams","Final Exams Solutions","Sheets","Sheets Solutions","Important Links","Other Materials"],pt={currentSemester:x3,currentGrade:k3,currentYear:N3,Year:D3,Semester:j3,Grades:F3,Category:L3};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function M3(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{l(r.next(c))}catch(h){o(h)}}function u(c){try{l(r.throw(c))}catch(h){o(h)}}function l(c){c.done?s(c.value):i(c.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function V3(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(c){return u([l,c])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(c){l=[6,c],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Mo=function(){return Mo=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Mo.apply(this,arguments)},XA=function(t){return{loading:t==null,value:t}},$3=function(){return function(t,e){switch(e.type){case"error":return Mo(Mo({},t),{error:e.error,loading:!1,value:void 0});case"reset":return XA(e.defaultValue);case"value":return Mo(Mo({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},U3=function(t){var e=t?t():void 0,n=O.useReducer($3(),XA(e)),r=n[0],i=n[1],s=O.useCallback(function(){var u=t?t():void 0;i({type:"reset",defaultValue:u})},[t]),o=O.useCallback(function(u){i({type:"error",error:u})},[]),a=O.useCallback(function(u){i({type:"value",value:u})},[]);return O.useMemo(function(){return{error:r.error,loading:r.loading,reset:s,setError:o,setValue:a,value:r.value}},[r.error,r.loading,s,o,a,r.value])},ZA=function(t,e){var n=U3(function(){return t.currentUser}),r=n.error,i=n.loading,s=n.setError,o=n.setValue,a=n.value;return O.useEffect(function(){var u=M$(t,function(l){return M3(void 0,void 0,void 0,function(){var c;return V3(this,function(h){switch(h.label){case 0:if(!e?.onUserChanged)return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,e.onUserChanged(l)];case 2:return h.sent(),[3,4];case 3:return c=h.sent(),s(c),[3,4];case 4:return o(l),[2]}})})},s);return function(){u()}},[t]),[a,i,r]};async function B3(t,e){const n=ss(Mr($r,"users"),e),r=await Hd(n);if(r.exists()){const i=r.data();console.log(i),t(i?.admin)}}function H3(t){const{theme:e,setTheme:n}=t,[r,i]=O.useState(""),[s,o]=O.useState(""),[a,u,l]=ZA(pa),c=xv();return O.useEffect(()=>{u||a&&c("/upload")},[a,u]),T.jsxs("div",{className:"container login "+e,children:[T.jsx(ao,{theme:e,setTheme:n}),T.jsxs("div",{className:"login__container",children:[T.jsx("input",{type:"text",className:"login__textBox",value:r,onChange:h=>i(h.target.value),placeholder:"E-mail Address"}),T.jsx("input",{type:"password",className:"login__textBox",value:s,onChange:h=>o(h.target.value),placeholder:"Password"}),T.jsx("button",{className:"login__btn",onClick:()=>s4(r,s),children:"Login"}),T.jsx("button",{className:"login__btn login__google",onClick:i4,children:"Login with Google"}),T.jsx("div",{children:T.jsx(Dw,{to:"/reset",children:"Forgot Password"})}),T.jsxs("div",{children:["Don't have an account? ",T.jsx(Dw,{to:"/register",children:"Register"})," now."]})]})]})}async function W3(t,e){e("Uploading link..."),t.preventDefault();const n=t.target?.[1]?.value,r=t.target?.[2]?.value,i=t.target?.[6]?.value,s=i.split("-")[0],o=i.split("-")[1],a=t.target?.[3]?.value,u=t.target?.[5]?.value,l=t.target?.[4]?.value,c=pt.currentYear;var h="";n&&n.includes("youtube.com")&&!n.includes("playlist")&&(h=`https://i.ytimg.com/vi/${n.split("v=")[1].split("&")[0]}/hqdefault.jpg`),n&&n.includes("youtu.be")&&!n.includes("playlist")&&(h=`https://i.ytimg.com/vi/${n.split("youtu.be/")[1].split("?")[0]}/hqdefault.jpg`);const f={Title:r,Name:r,CourseName:o,CourseCode:s,Category:a,Semester:u,Grade:l,Year:c,CreatedAt:ht.now(),Type:"Link",URL:n,Keywords:[...r.split(" "),...o.split(" ")],Thumbnail:h};zi(ry,f);const d=ry.id;BA.saveObject({...f,objectID:d});const y=ss(Mr($r,"Courses"),s);console.log(s),console.log(y);const g=(await Hd(y)).data();var _=[];try{_=g.Types,_.find(m=>m===a)||(_.push(a),zi(y,g))}catch{_.push(a),zi(y,{Types:_})}e("Link uploaded successfully")}function z3(){const[t,e]=O.useState(""),[n,r]=O.useState(0),[i,s]=O.useState(!0),[o,a]=O.useState(0),u=h=>{const f=pt.Grades.findIndex(d=>d.grade===h.target.value);a(f),console.log(f)},l=h=>{const f=pt.Grades[o].Semesters.findIndex(d=>d.semester===h.target.value);r(f),console.log(f)},c=h=>{e("Uploading document..."),console.log(h.target),h.preventDefault();const f=h.target?.[1].files[0],d=h.target?.[2]?.value,y=h.target?.[6]?.value,g=y.split("-")[0],_=y.split("-")[1],m=h.target?.[3]?.value,p=h.target?.[5]?.value,w=h.target?.[4]?.value,I=h.target?.[7]?.checked,k=pt.currentYear,P=new FileReader;var A=m,N=!1;m.includes("Solution")&&(A=m.split(" Solution")[0],N=!0),f&&(P.readAsDataURL(f),P.onload=function(){var V=P.result.split(",")[1],M={dataReq:{data:V,name:f.name,type:f.type,course:y,category:A,semester:p,grade:w,old:I,year:k,solution:N},fname:"uploadFilesToGoogleDrive"};console.log(M),fetch("https://script.google.com/macros/s/AKfycbzXkzwvCK-6KvM2eK7jtoDiEDIYdXzvTVQzOzU3MajW-5ihGUo17JkIXI65laf1Law/exec",{method:"POST",body:JSON.stringify(M)}).then(L=>L.json()).then(L=>{const ye=["and","for","but","etc."],Pe={Title:d,Name:f.name,CourseName:_,CourseCode:g,Category:m,Semester:p,Grade:w,Year:k,CreatedAt:ht.now(),Type:"Document",URL:L.url,fileID:L.id,Keywords:[...d.split(" "),..._.split(" ")].filter(He=>!ye.includes(He.toLowerCase())),Thumbnail:"https://drive.google.com/thumbnail?sz=w130&id="+L.id};console.log(L.path),nV(ZU,Pe);const Le=ry.id;BA.saveObject({...Pe,objectID:Le});const Be=ss(Mr($r,"Courses"),g);console.log(g),console.log(Be),Hd(Be).then(He=>{const ne=He.data();var D=[];try{D=ne.Types,D.find(W=>W===m)||(ne.Types.push(m),zi(Be,ne))}catch{D.push(m),zi(Be,{Types:D})}e("Document uploaded successfully")})}).catch(L=>{console.log(L),e("Error uploading document")})})};return T.jsx("div",{children:T.jsxs("form",{onSubmit:h=>i?c(h):W3(h,e),className:"uploadForm",children:[T.jsx("label",{htmlFor:"Type",children:"Choose a Type:"}),T.jsxs("select",{name:"Type",onChange:h=>s(h.target.value==="File"),children:[T.jsx("option",{value:"File",children:"File"}),T.jsx("option",{value:"Link",children:"Link"})]}),i&&T.jsxs(T.Fragment,{children:[T.jsx("label",{htmlFor:"file",children:"Choose a File:"}),T.jsx("input",{type:"file",name:"file"})]}),!i&&T.jsxs(T.Fragment,{children:[T.jsx("label",{htmlFor:"link",children:"Enter a Link:"}),T.jsx("input",{type:"text",name:"link"})]}),T.jsx("label",{htmlFor:"title",children:"Enter a Title:"}),T.jsx("input",{type:"text",name:"title"}),T.jsx("label",{htmlFor:"category",children:"Choose a Category:"}),T.jsx("select",{name:"category",children:pt.Category.map(h=>T.jsx("option",{value:h,children:h}))}),T.jsx("label",{htmlFor:"grade",children:"Choose a Grade:"}),T.jsx("select",{name:"grade",onChange:h=>u(h),children:pt.Grades.map(h=>T.jsx("option",{value:h.grade,children:h.grade}))}),T.jsx("label",{htmlFor:"semester",children:"Choose a Semester:"}),T.jsx("select",{name:"semester",onChange:h=>l(h),children:pt.Grades[o].Semesters.map(h=>T.jsx("option",{value:h.semester,children:h.semester}))}),T.jsx("label",{htmlFor:"course",children:"Choose a Course:"}),T.jsx("select",{name:"course",children:pt.Grades[o].Semesters[n].Courses.map(h=>T.jsx("option",{value:h.courseCode+"-"+h.courseName,children:h.courseCode+" - "+h.courseName}))}),T.jsx("label",{htmlFor:"oldMaterial",children:"Old Material?"}),T.jsx("input",{type:"checkbox",name:"oldMaterial"}),T.jsx("br",{}),T.jsx("button",{type:"submit",children:"Upload"}),T.jsx("p",{children:t})]})})}function q3(){const t=localStorage.getItem("currentTheme"),[e,n]=O.useState(t||"dark");O.useEffect(()=>{localStorage.setItem("currentTheme",e)},[e]);const[r,i,s]=ZA(pa),o=localStorage.getItem("currentUID");O.useEffect(()=>{r&&localStorage.setItem("currentUID",r.uid)},[r]);const[a,u]=O.useState(!1);return O.useEffect(()=>{B3(u,o)},[r]),i?T.jsx("div",{children:"Loading..."}):s?T.jsx("div",{children:"Error"}):!r||!o?T.jsx(H3,{theme:e,setTheme:n}):T.jsxs("div",{className:"container upload "+e,children:[T.jsx(ao,{theme:e,setTheme:n}),T.jsx("h1",{children:"Upload Files"}),a?T.jsx(z3,{}):T.jsx("h2",{children:"Only Admins can upload files"}),T.jsx("button",{onClick:()=>pa.signOut(),children:"Logout"})]})}async function Q3(t,e,n){console.log(e);const r=ss(Mr($r,"Courses"),t);var i=null;try{i=await tV(r)}catch{i=await Hd(r)}const s=i.data();var o=[];try{o=s.Types}catch{zi(r,{Types:[]})}for(var a=[],u=0;u<pt.Category.length;u++)o.find(l=>l===pt.Category[u])&&a.push(pt.Category[u]);return n(a),a}function K3(){for(var t=[],e=[],n=[],r=0;r<pt.Grades.length;r++){const u=pt?.Grades[r]?.grade;n=[];for(var i=0;i<pt.Grades[r].Semesters.length;i++){t=[];const l=pt?.Grades[r]?.Semesters[i]?.semester;for(var s=0;s<pt.Grades[r].Semesters[i].Courses.length;s++){const c=pt?.Grades[r]?.Semesters[i]?.Courses[s].courseCode;var o=[];const[h,f]=O.useState([]);O.useEffect(()=>{Q3(c,h,f)},[]);for(var a=0;a<h.length;a++)h[a]&&o.push(T.jsxs("li",{className:"TypeButton",children:[T.jsx("a",{href:"#/search?grade="+u+"&semester="+l+"&CourseCode="+c+"&Category="+h[a],children:h[a]})," "]},a));o.length===0&&(o=[T.jsx("div",{className:"EmptyCourse",children:T.jsxs("p",{children:["We don't have any content for this course",T.jsx("br",{}),"New content will be added soon."]})},a)]),t.push(T.jsxs("div",{className:"card course",children:[T.jsx("input",{type:"radio",name:"Courses",id:"c"+r+i+s+a,className:"CoursesRadio"}),T.jsxs("label",{htmlFor:"c"+r+i+s+a,children:[T.jsx("div",{className:"row",children:T.jsx("div",{className:"description",children:T.jsx("h4",{children:pt.Grades[r].Semesters[i].Courses[s].courseCode+" - "+pt.Grades[r].Semesters[i].Courses[s].courseName})})}),T.jsx("div",{className:"content",children:T.jsx("ul",{children:o})})]},"c"+r+i+s+a)]}))}n.push(T.jsxs("div",{className:"card semester",children:[T.jsx("input",{type:"radio",name:"Semesters",id:"s"+r+i,className:"SemesterRadio"}),T.jsxs("label",{htmlFor:"s"+r+i,children:[T.jsx("div",{className:"row",children:T.jsx("div",{className:"description",children:T.jsx("h3",{children:pt.Grades[r].Semesters[i].semester})})}),T.jsx("div",{className:"content",children:T.jsx("div",{className:"description",children:T.jsx("ul",{children:t})})})]},"s"+r+i)]}))}e.push(T.jsxs("div",{className:"card grade",children:[T.jsx("input",{type:"radio",name:"Grades",id:"y"+r}),T.jsxs("label",{htmlFor:"y"+r,children:[T.jsx("div",{className:"row",children:T.jsx("div",{className:"description",children:T.jsx("h2",{children:pt.Grades[r].grade})})}),T.jsx("div",{className:"content",children:T.jsx("div",{className:"description",children:T.jsx("ul",{children:n})})})]},"y"+r)]}))}return T.jsx("div",{className:"wrapper",children:T.jsx("div",{className:"card-container",children:e})})}function G3(){const t=localStorage.getItem("currentTheme"),[e,n]=O.useState(t||"dark");return O.useEffect(()=>{localStorage.setItem("currentTheme",e)},[e]),T.jsxs("div",{className:"container courses "+e,children:[T.jsx(ao,{theme:e,setTheme:n}),T.jsx("h1",{className:"Title",children:"Courses"}),T.jsx(K3,{})]})}const eO="%[a-f0-9]{2}",ES=new RegExp("("+eO+")|([^%]+?)","gi"),SS=new RegExp("("+eO+")+","gi");function iy(t,e){try{return[decodeURIComponent(t.join(""))]}catch{}if(t.length===1)return t;e=e||1;const n=t.slice(0,e),r=t.slice(e);return Array.prototype.concat.call([],iy(n),iy(r))}function Y3(t){try{return decodeURIComponent(t)}catch{let e=t.match(ES)||[];for(let n=1;n<e.length;n++)t=iy(e,n).join(""),e=t.match(ES)||[];return t}}function J3(t){const e={"%FE%FF":"��","%FF%FE":"��"};let n=SS.exec(t);for(;n;){try{e[n[0]]=decodeURIComponent(n[0])}catch{const i=Y3(n[0]);i!==n[0]&&(e[n[0]]=i)}n=SS.exec(t)}e["%C2"]="�";const r=Object.keys(e);for(const i of r)t=t.replace(new RegExp(i,"g"),e[i]);return t}function X3(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return decodeURIComponent(t)}catch{return J3(t)}}function tO(t,e){if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t===""||e==="")return[];const n=t.indexOf(e);return n===-1?[]:[t.slice(0,n),t.slice(n+e.length)]}function Z3(t,e){const n={};if(Array.isArray(e))for(const r of e){const i=Object.getOwnPropertyDescriptor(t,r);i?.enumerable&&Object.defineProperty(n,r,i)}else for(const r of Reflect.ownKeys(t)){const i=Object.getOwnPropertyDescriptor(t,r);if(i.enumerable){const s=t[r];e(r,s,t)&&Object.defineProperty(n,r,i)}}return n}const eB=t=>t==null,tB=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),sy=Symbol("encodeFragmentIdentifier");function nB(t){switch(t.arrayFormat){case"index":return e=>(n,r)=>{const i=n.length;return r===void 0||t.skipNull&&r===null||t.skipEmptyString&&r===""?n:r===null?[...n,[wt(e,t),"[",i,"]"].join("")]:[...n,[wt(e,t),"[",wt(i,t),"]=",wt(r,t)].join("")]};case"bracket":return e=>(n,r)=>r===void 0||t.skipNull&&r===null||t.skipEmptyString&&r===""?n:r===null?[...n,[wt(e,t),"[]"].join("")]:[...n,[wt(e,t),"[]=",wt(r,t)].join("")];case"colon-list-separator":return e=>(n,r)=>r===void 0||t.skipNull&&r===null||t.skipEmptyString&&r===""?n:r===null?[...n,[wt(e,t),":list="].join("")]:[...n,[wt(e,t),":list=",wt(r,t)].join("")];case"comma":case"separator":case"bracket-separator":{const e=t.arrayFormat==="bracket-separator"?"[]=":"=";return n=>(r,i)=>i===void 0||t.skipNull&&i===null||t.skipEmptyString&&i===""?r:(i=i===null?"":i,r.length===0?[[wt(n,t),e,wt(i,t)].join("")]:[[r,wt(i,t)].join(t.arrayFormatSeparator)])}default:return e=>(n,r)=>r===void 0||t.skipNull&&r===null||t.skipEmptyString&&r===""?n:r===null?[...n,wt(e,t)]:[...n,[wt(e,t),"=",wt(r,t)].join("")]}}function rB(t){let e;switch(t.arrayFormat){case"index":return(n,r,i)=>{if(e=/\[(\d*)]$/.exec(n),n=n.replace(/\[\d*]$/,""),!e){i[n]=r;return}i[n]===void 0&&(i[n]={}),i[n][e[1]]=r};case"bracket":return(n,r,i)=>{if(e=/(\[])$/.exec(n),n=n.replace(/\[]$/,""),!e){i[n]=r;return}if(i[n]===void 0){i[n]=[r];return}i[n]=[...i[n],r]};case"colon-list-separator":return(n,r,i)=>{if(e=/(:list)$/.exec(n),n=n.replace(/:list$/,""),!e){i[n]=r;return}if(i[n]===void 0){i[n]=[r];return}i[n]=[...i[n],r]};case"comma":case"separator":return(n,r,i)=>{const s=typeof r=="string"&&r.includes(t.arrayFormatSeparator),o=typeof r=="string"&&!s&&Kr(r,t).includes(t.arrayFormatSeparator);r=o?Kr(r,t):r;const a=s||o?r.split(t.arrayFormatSeparator).map(u=>Kr(u,t)):r===null?r:Kr(r,t);i[n]=a};case"bracket-separator":return(n,r,i)=>{const s=/(\[])$/.test(n);if(n=n.replace(/\[]$/,""),!s){i[n]=r&&Kr(r,t);return}const o=r===null?[]:r.split(t.arrayFormatSeparator).map(a=>Kr(a,t));if(i[n]===void 0){i[n]=o;return}i[n]=[...i[n],...o]};default:return(n,r,i)=>{if(i[n]===void 0){i[n]=r;return}i[n]=[...[i[n]].flat(),r]}}}function nO(t){if(typeof t!="string"||t.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function wt(t,e){return e.encode?e.strict?tB(t):encodeURIComponent(t):t}function Kr(t,e){return e.decode?X3(t):t}function rO(t){return Array.isArray(t)?t.sort():typeof t=="object"?rO(Object.keys(t)).sort((e,n)=>Number(e)-Number(n)).map(e=>t[e]):t}function iO(t){const e=t.indexOf("#");return e!==-1&&(t=t.slice(0,e)),t}function iB(t){let e="";const n=t.indexOf("#");return n!==-1&&(e=t.slice(n)),e}function TS(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&typeof t=="string"&&t.trim()!==""?t=Number(t):e.parseBooleans&&t!==null&&(t.toLowerCase()==="true"||t.toLowerCase()==="false")&&(t=t.toLowerCase()==="true"),t}function z_(t){t=iO(t);const e=t.indexOf("?");return e===-1?"":t.slice(e+1)}function q_(t,e){e={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,...e},nO(e.arrayFormatSeparator);const n=rB(e),r=Object.create(null);if(typeof t!="string"||(t=t.trim().replace(/^[?#&]/,""),!t))return r;for(const i of t.split("&")){if(i==="")continue;const s=e.decode?i.replace(/\+/g," "):i;let[o,a]=tO(s,"=");o===void 0&&(o=s),a=a===void 0?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?a:Kr(a,e),n(Kr(o,e),a,r)}for(const[i,s]of Object.entries(r))if(typeof s=="object"&&s!==null)for(const[o,a]of Object.entries(s))s[o]=TS(a,e);else r[i]=TS(s,e);return e.sort===!1?r:(e.sort===!0?Object.keys(r).sort():Object.keys(r).sort(e.sort)).reduce((i,s)=>{const o=r[s];return i[s]=o&&typeof o=="object"&&!Array.isArray(o)?rO(o):o,i},Object.create(null))}function sO(t,e){if(!t)return"";e={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...e},nO(e.arrayFormatSeparator);const n=o=>e.skipNull&&eB(t[o])||e.skipEmptyString&&t[o]==="",r=nB(e),i={};for(const[o,a]of Object.entries(t))n(o)||(i[o]=a);const s=Object.keys(i);return e.sort!==!1&&s.sort(e.sort),s.map(o=>{const a=t[o];return a===void 0?"":a===null?wt(o,e):Array.isArray(a)?a.length===0&&e.arrayFormat==="bracket-separator"?wt(o,e)+"[]":a.reduce(r(o),[]).join("&"):wt(o,e)+"="+wt(a,e)}).filter(o=>o.length>0).join("&")}function oO(t,e){e={decode:!0,...e};let[n,r]=tO(t,"#");return n===void 0&&(n=t),{url:n?.split("?")?.[0]??"",query:q_(z_(t),e),...e&&e.parseFragmentIdentifier&&r?{fragmentIdentifier:Kr(r,e)}:{}}}function aO(t,e){e={encode:!0,strict:!0,[sy]:!0,...e};const n=iO(t.url).split("?")[0]||"",r=z_(t.url),i={...q_(r,{sort:!1}),...t.query};let s=sO(i,e);s&&(s=`?${s}`);let o=iB(t.url);if(t.fragmentIdentifier){const a=new URL(n);a.hash=t.fragmentIdentifier,o=e[sy]?a.hash:`#${t.fragmentIdentifier}`}return`${n}${s}${o}`}function uO(t,e,n){n={parseFragmentIdentifier:!0,[sy]:!1,...n};const{url:r,query:i,fragmentIdentifier:s}=oO(t,n);return aO({url:r,query:Z3(i,e),fragmentIdentifier:s},n)}function sB(t,e,n){const r=Array.isArray(e)?i=>!e.includes(i):(i,s)=>!e(i,s);return uO(t,r,n)}const lO=Object.freeze(Object.defineProperty({__proto__:null,exclude:sB,extract:z_,parse:q_,parseUrl:oO,pick:uO,stringify:sO,stringifyUrl:aO},Symbol.toStringTag,{value:"Module"}));function oB(){const t=localStorage.getItem("currentTheme"),[e,n]=O.useState(t||"dark");O.useEffect(()=>{localStorage.setItem("currentTheme",e)},[e]);const r=Aa().search,i=lO.parse(r);var s=[],o=[],a=[],u=[],l=[];i.year&&s.push(i.year.split(",")),i.semester&&o.push(i.semester.split(",")),i.course&&a.push(i.course.split(",")),i.date&&u.push(i.date.split(",")),i.Category&&l.push(i.Category.split(",")),i.CourseCode&&a.push(i.CourseCode.split(",")),console.log(a[0]),console.log(l[0]),console.log(o[0]);const h=Mr($r,"documents");var f=vs(h);s[0]&&(f=vs(f,cu("Year","in",s[0]))),o[0]&&(f=vs(f,cu("Semester","in",o[0]))),a[0]&&(f=vs(f,cu("CourseCode","in",a[0]))),u[0]&&(f=vs(f,cu("date","in",u[0]))),l[0]&&(f=vs(f,cu("Category","in",l[0])));const[d]=WA(f);return console.log(d),T.jsxs("div",{className:"container feedback "+e,children:[T.jsx(ao,{theme:e,setTheme:n}),T.jsx("h1",{children:a+"/"+l}),T.jsxs("p",{children:["Results(",d?.length,")"]}),T.jsx("div",{children:d&&d.map(y=>T.jsx(GA,{doc:y,theme:e}))})]})}async function aB(t,e,n,r){e("Submitting feedback..."),t.preventDefault();const i=t.target?.[0]?.value,s=n;r("");const o={Type:i,Feedback:s,CreatedAt:ht.now()};zi(e4,o),e("Thank you for your feedback!")}function uB(){const[t,e]=O.useState(""),[n,r]=O.useState("");return T.jsx("div",{children:T.jsxs("form",{onSubmit:i=>aB(i,e,n,r),className:"uploadForm",children:[T.jsxs("select",{name:"feedbackType",id:"feedbackType",required:!0,children:[T.jsx("option",{value:"General Feedback",children:"General Feedback"}),T.jsx("option",{value:"Upload Request",children:"Upload Request"}),T.jsx("option",{value:"Bug Report",children:"Bug Report"}),T.jsx("option",{value:"Feature Request",children:"Feature Request"})]}),T.jsx("input",{className:"feedbackInput",type:"text",id:"feedback",name:"feedback",placeholder:"Please enter your feedback here",value:n,onChange:i=>{r(i.target.value),e("")},required:!0}),T.jsx("br",{}),T.jsx("button",{type:"submit",children:"Submit"}),T.jsx("p",{children:t})]})})}function lB(){const t=localStorage.getItem("currentTheme"),[e,n]=O.useState(t||"dark");return O.useEffect(()=>{localStorage.setItem("currentTheme",e)},[e]),T.jsxs("div",{className:"container upload "+e,children:[T.jsx(ao,{theme:e,setTheme:n}),T.jsx("h1",{children:"Upload Files"}),T.jsx(uB,{})]})}const oy="7.6.0";function an(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var Q_=an;an.prototype._events=void 0;an.prototype._maxListeners=void 0;an.defaultMaxListeners=10;an.prototype.setMaxListeners=function(t){if(!cB(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this};an.prototype.emit=function(t){var e,n,r,i,s,o;if(this._events||(this._events={}),t==="error"&&(!this._events.error||Ll(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var a=new Error('Uncaught, unspecified "error" event. ('+e+")");throw a.context=e,a}if(n=this._events[t],cO(n))return!1;if(hi(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(Ll(n))for(i=Array.prototype.slice.call(arguments,1),o=n.slice(),r=o.length,s=0;s<r;s++)o[s].apply(this,i);return!0};an.prototype.addListener=function(t,e){var n;if(!hi(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,hi(e.listener)?e.listener:e),this._events[t]?Ll(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,Ll(this._events[t])&&!this._events[t].warned&&(cO(this._maxListeners)?n=an.defaultMaxListeners:n=this._maxListeners,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),typeof console.trace=="function"&&console.trace())),this};an.prototype.on=an.prototype.addListener;an.prototype.once=function(t,e){if(!hi(e))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(t,r),n||(n=!0,e.apply(this,arguments))}return r.listener=e,this.on(t,r),this};an.prototype.removeListener=function(t,e){var n,r,i,s;if(!hi(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],i=n.length,r=-1,n===e||hi(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(Ll(n)){for(s=i;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){r=s;break}if(r<0)return this;n.length===1?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this};an.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[t]&&delete this._events[t],this;if(arguments.length===0){for(e in this._events)e!=="removeListener"&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],hi(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this};an.prototype.listeners=function(t){var e;return!this._events||!this._events[t]?e=[]:hi(this._events[t])?e=[this._events[t]]:e=this._events[t].slice(),e};an.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(hi(e))return 1;if(e)return e.length}return 0};an.listenerCount=function(t,e){return t.listenerCount(e)};function hi(t){return typeof t=="function"}function cB(t){return typeof t=="number"}function Ll(t){return typeof t=="object"&&t!==null}function cO(t){return t===void 0}const hB=Ta(Q_);function fB(t,e){t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}var hO=fB,dB=Q_,pB=hO;function Yd(t,e){this.main=t,this.fn=e,this.lastResults=null}pB(Yd,dB);Yd.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)};Yd.prototype.getModifiedState=function(t){return this.fn(t)};var mB=Yd;function gB(t){return typeof t!="string"?t:String(t).replace(/^-/,"\\-")}function yB(t){return typeof t!="string"?t:t.replace(/^\\-/,"-")}var K_={escapeFacetValue:gB,unescapeFacetValue:yB};function vB(t){return typeof t=="object"&&t!==null?G_(Array.isArray(t)?[]:{},t):t}function Bf(t){return typeof t=="function"||Array.isArray(t)||Object.prototype.toString.call(t)==="[object Object]"}function G_(t,e){if(t===e)return t;for(var n in e)if(!(!Object.prototype.hasOwnProperty.call(e,n)||n==="__proto__"||n==="constructor")){var r=e[n],i=t[n];typeof i<"u"&&typeof r>"u"||(Bf(i)&&Bf(r)?t[n]=G_(i,r):t[n]=vB(r))}return t}function _B(t){Bf(t)||(t={});for(var e=1,n=arguments.length;e<n;e++){var r=arguments[e];Bf(r)&&G_(t,r)}return t}var Jd=_B;function wB(t){return t&&Object.keys(t).length>0}var Y_=wB;function EB(t,e){if(t===null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var J_=EB,fm=Jd;function dm(t){return Object.keys(t).sort().reduce(function(e,n){return e[n]=t[n],e},{})}var bn={_getQueries:function(e,n){var r=[];return r.push({indexName:e,params:bn._getHitsSearchParams(n)}),n.getRefinedDisjunctiveFacets().forEach(function(i){r.push({indexName:e,params:bn._getDisjunctiveFacetSearchParams(n,i)})}),n.getRefinedHierarchicalFacets().forEach(function(i){var s=n.getHierarchicalFacetByName(i),o=n.getHierarchicalRefinement(i),a=n._getHierarchicalFacetSeparator(s);if(o.length>0&&o[0].split(a).length>1){var u=o[0].split(a).slice(0,-1).reduce(function(c,h,f){return c.concat({attribute:s.attributes[f],value:f===0?h:[c[c.length-1].value,h].join(a)})},[]);u.forEach(function(l,c){var h=bn._getDisjunctiveFacetSearchParams(n,l.attribute,c===0);function f(g){return s.attributes.some(function(_){return _===g.split(":")[0]})}var d=(h.facetFilters||[]).reduce(function(g,_){if(Array.isArray(_)){var m=_.filter(function(p){return!f(p)});m.length>0&&g.push(m)}return typeof _=="string"&&!f(_)&&g.push(_),g},[]),y=u[c-1];c>0?h.facetFilters=d.concat(y.attribute+":"+y.value):h.facetFilters=d.length>0?d:void 0,r.push({indexName:e,params:h})})}}),r},_getHitsSearchParams:function(t){var e=t.facets.concat(t.disjunctiveFacets).concat(bn._getHitsHierarchicalFacetsAttributes(t)).sort(),n=bn._getFacetFilters(t),r=bn._getNumericFilters(t),i=bn._getTagFilters(t),s={facets:e.indexOf("*")>-1?["*"]:e,tagFilters:i};return n.length>0&&(s.facetFilters=n),r.length>0&&(s.numericFilters=r),dm(fm({},t.getQueryParams(),s))},_getDisjunctiveFacetSearchParams:function(t,e,n){var r=bn._getFacetFilters(t,e,n),i=bn._getNumericFilters(t,e),s=bn._getTagFilters(t),o={hitsPerPage:0,page:0,analytics:!1,clickAnalytics:!1};s.length>0&&(o.tagFilters=s);var a=t.getHierarchicalFacetByName(e);return a?o.facets=bn._getDisjunctiveHierarchicalFacetAttribute(t,a,n):o.facets=e,i.length>0&&(o.numericFilters=i),r.length>0&&(o.facetFilters=r),dm(fm({},t.getQueryParams(),o))},_getNumericFilters:function(t,e){if(t.numericFilters)return t.numericFilters;var n=[];return Object.keys(t.numericRefinements).forEach(function(r){var i=t.numericRefinements[r]||{};Object.keys(i).forEach(function(s){var o=i[s]||[];e!==r&&o.forEach(function(a){if(Array.isArray(a)){var u=a.map(function(l){return r+s+l});n.push(u)}else n.push(r+s+a)})})}),n},_getTagFilters:function(t){return t.tagFilters?t.tagFilters:t.tagRefinements.join(",")},_getFacetFilters:function(t,e,n){var r=[],i=t.facetsRefinements||{};Object.keys(i).sort().forEach(function(u){var l=i[u]||[];l.slice().sort().forEach(function(c){r.push(u+":"+c)})});var s=t.facetsExcludes||{};Object.keys(s).sort().forEach(function(u){var l=s[u]||[];l.sort().forEach(function(c){r.push(u+":-"+c)})});var o=t.disjunctiveFacetsRefinements||{};Object.keys(o).sort().forEach(function(u){var l=o[u]||[];if(!(u===e||!l||l.length===0)){var c=[];l.slice().sort().forEach(function(h){c.push(u+":"+h)}),r.push(c)}});var a=t.hierarchicalFacetsRefinements||{};return Object.keys(a).sort().forEach(function(u){var l=a[u]||[],c=l[0];if(c!==void 0){var h=t.getHierarchicalFacetByName(u),f=t._getHierarchicalFacetSeparator(h),d=t._getHierarchicalRootPath(h),y,g;if(e===u){if(c.indexOf(f)===-1||!d&&n===!0||d&&d.split(f).length===c.split(f).length)return;d?(g=d.split(f).length-1,c=d):(g=c.split(f).length-2,c=c.slice(0,c.lastIndexOf(f))),y=h.attributes[g]}else g=c.split(f).length-1,y=h.attributes[g];y&&r.push([y+":"+c])}}),r},_getHitsHierarchicalFacetsAttributes:function(t){var e=[];return t.hierarchicalFacets.reduce(function(r,i){var s=t.getHierarchicalRefinement(i.name)[0];if(!s)return r.push(i.attributes[0]),r;var o=t._getHierarchicalFacetSeparator(i),a=s.split(o).length,u=i.attributes.slice(0,a+1);return r.concat(u)},e)},_getDisjunctiveHierarchicalFacetAttribute:function(t,e,n){var r=t._getHierarchicalFacetSeparator(e);if(n===!0){var i=t._getHierarchicalRootPath(e),s=0;return i&&(s=i.split(r).length),[e.attributes[s]]}var o=t.getHierarchicalRefinement(e.name)[0]||"",a=o.split(r).length-1;return e.attributes.slice(0,a+1)},getSearchForFacetQuery:function(t,e,n,r){var i=r.isDisjunctiveFacet(t)?r.clearRefinements(t):r,s={facetQuery:e,facetName:t};return typeof n=="number"&&(s.maxFacetHits=n),dm(fm({},bn._getHitsSearchParams(i),s))}},SB=bn,X_=function(){var e=Array.prototype.slice.call(arguments);return e.reduceRight(function(n,r){return Object.keys(Object(r)).forEach(function(i){r[i]!==void 0&&(n[i]!==void 0&&delete n[i],n[i]=r[i])}),n},{})},Xd=function(e,n){if(Array.isArray(e)){for(var r=0;r<e.length;r++)if(n(e[r]))return e[r]}};function TB(t,e){return t.filter(function(n,r){return e.indexOf(n)>-1&&t.indexOf(n)===r})}var PB=TB;function fO(t){if(typeof t=="number")return t;if(typeof t=="string")return parseFloat(t);if(Array.isArray(t))return t.map(fO);throw new Error("The value should be a number, a parsable string or an array of those.")}var RB=fO,IB=function(e){return e===null?!1:/^[a-zA-Z0-9_-]{1,64}$/.test(e)},bB=X_,AB=Y_,OB=J_,ws={addRefinement:function(e,n,r){if(ws.isRefined(e,n,r))return e;var i=""+r,s=e[n]?e[n].concat(i):[i],o={};return o[n]=s,bB({},o,e)},removeRefinement:function(e,n,r){if(r===void 0)return ws.clearRefinement(e,function(s,o){return n===o});var i=""+r;return ws.clearRefinement(e,function(s,o){return n===o&&i===s})},toggleRefinement:function(e,n,r){if(r===void 0)throw new Error("toggleRefinement should be used with a value");return ws.isRefined(e,n,r)?ws.removeRefinement(e,n,r):ws.addRefinement(e,n,r)},clearRefinement:function(e,n,r){if(n===void 0)return AB(e)?{}:e;if(typeof n=="string")return OB(e,[n]);if(typeof n=="function"){var i=!1,s=Object.keys(e).reduce(function(o,a){var u=e[a]||[],l=u.filter(function(c){return!n(c,a,r)});return l.length!==u.length&&(i=!0),o[a]=l,o},{});return i?s:e}},isRefined:function(e,n,r){var i=!!e[n]&&e[n].length>0;if(r===void 0||!i)return i;var s=""+r;return e[n].indexOf(s)!==-1}},CB=ws,pm=X_,dO=Xd,PS=PB,ay=Jd,uy=Y_,RS=J_,mm=RB,xB=IB,at=CB;function Z_(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length===e.length&&t.every(function(n,r){return Z_(e[r],n)}):t===e}function kB(t,e){return dO(t,function(n){return Z_(n,e)})}function Tn(t){var e=t?Tn._parseNumbers(t):{};e.userToken!==void 0&&!xB(e.userToken)&&console.warn("[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\n  - Format: [a-zA-Z0-9_-]{1,64}"),this.facets=e.facets||[],this.disjunctiveFacets=e.disjunctiveFacets||[],this.hierarchicalFacets=e.hierarchicalFacets||[],this.facetsRefinements=e.facetsRefinements||{},this.facetsExcludes=e.facetsExcludes||{},this.disjunctiveFacetsRefinements=e.disjunctiveFacetsRefinements||{},this.numericRefinements=e.numericRefinements||{},this.tagRefinements=e.tagRefinements||[],this.hierarchicalFacetsRefinements=e.hierarchicalFacetsRefinements||{};var n=this;Object.keys(e).forEach(function(r){var i=Tn.PARAMETERS.indexOf(r)!==-1,s=e[r]!==void 0;!i&&s&&(n[r]=e[r])})}Tn.PARAMETERS=Object.keys(new Tn);Tn._parseNumbers=function(t){if(t instanceof Tn)return t;var e={},n=["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"];if(n.forEach(function(i){var s=t[i];if(typeof s=="string"){var o=parseFloat(s);e[i]=isNaN(o)?s:o}}),Array.isArray(t.insideBoundingBox)&&(e.insideBoundingBox=t.insideBoundingBox.map(function(i){return Array.isArray(i)?i.map(function(s){return parseFloat(s)}):i})),t.numericRefinements){var r={};Object.keys(t.numericRefinements).forEach(function(i){var s=t.numericRefinements[i]||{};r[i]={},Object.keys(s).forEach(function(o){var a=s[o],u=a.map(function(l){return Array.isArray(l)?l.map(function(c){return typeof c=="string"?parseFloat(c):c}):typeof l=="string"?parseFloat(l):l});r[i][o]=u})}),e.numericRefinements=r}return ay(t,e)};Tn.make=function(e){var n=new Tn(e),r=e.hierarchicalFacets||[];return r.forEach(function(i){if(i.rootPath){var s=n.getHierarchicalRefinement(i.name);s.length>0&&s[0].indexOf(i.rootPath)!==0&&(n=n.clearRefinements(i.name)),s=n.getHierarchicalRefinement(i.name),s.length===0&&(n=n.toggleHierarchicalFacetRefinement(i.name,i.rootPath))}}),n};Tn.validate=function(t,e){var n=e||{};return t.tagFilters&&n.tagRefinements&&n.tagRefinements.length>0?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):t.tagRefinements.length>0&&n.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):t.numericFilters&&n.numericRefinements&&uy(n.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):uy(t.numericRefinements)&&n.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null};Tn.prototype={constructor:Tn,clearRefinements:function(e){var n={numericRefinements:this._clearNumericRefinements(e),facetsRefinements:at.clearRefinement(this.facetsRefinements,e,"conjunctiveFacet"),facetsExcludes:at.clearRefinement(this.facetsExcludes,e,"exclude"),disjunctiveFacetsRefinements:at.clearRefinement(this.disjunctiveFacetsRefinements,e,"disjunctiveFacet"),hierarchicalFacetsRefinements:at.clearRefinement(this.hierarchicalFacetsRefinements,e,"hierarchicalFacet")};return n.numericRefinements===this.numericRefinements&&n.facetsRefinements===this.facetsRefinements&&n.facetsExcludes===this.facetsExcludes&&n.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&n.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(n)},clearTags:function(){return this.tagFilters===void 0&&this.tagRefinements.length===0?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(e){return e===this.index?this:this.setQueryParameters({index:e})},setQuery:function(e){return e===this.query?this:this.setQueryParameters({query:e})},setPage:function(e){return e===this.page?this:this.setQueryParameters({page:e})},setFacets:function(e){return this.setQueryParameters({facets:e})},setDisjunctiveFacets:function(e){return this.setQueryParameters({disjunctiveFacets:e})},setHitsPerPage:function(e){return this.hitsPerPage===e?this:this.setQueryParameters({hitsPerPage:e})},setTypoTolerance:function(e){return this.typoTolerance===e?this:this.setQueryParameters({typoTolerance:e})},addNumericRefinement:function(t,e,n){var r=mm(n);if(this.isNumericRefined(t,e,r))return this;var i=ay({},this.numericRefinements);return i[t]=ay({},i[t]),i[t][e]?(i[t][e]=i[t][e].slice(),i[t][e].push(r)):i[t][e]=[r],this.setQueryParameters({numericRefinements:i})},getConjunctiveRefinements:function(t){return this.isConjunctiveFacet(t)?this.facetsRefinements[t]||[]:[]},getDisjunctiveRefinements:function(t){return this.isDisjunctiveFacet(t)?this.disjunctiveFacetsRefinements[t]||[]:[]},getHierarchicalRefinement:function(t){return this.hierarchicalFacetsRefinements[t]||[]},getExcludeRefinements:function(t){return this.isConjunctiveFacet(t)?this.facetsExcludes[t]||[]:[]},removeNumericRefinement:function(t,e,n){var r=n;return r!==void 0?this.isNumericRefined(t,e,r)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(i,s){return s===t&&i.op===e&&Z_(i.val,mm(r))})}):this:e!==void 0?this.isNumericRefined(t,e)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(i,s){return s===t&&i.op===e})}):this:this.isNumericRefined(t)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(i,s){return s===t})}):this},getNumericRefinements:function(t){return this.numericRefinements[t]||{}},getNumericRefinement:function(t,e){return this.numericRefinements[t]&&this.numericRefinements[t][e]},_clearNumericRefinements:function(e){if(e===void 0)return uy(this.numericRefinements)?{}:this.numericRefinements;if(typeof e=="string")return RS(this.numericRefinements,[e]);if(typeof e=="function"){var n=!1,r=this.numericRefinements,i=Object.keys(r).reduce(function(s,o){var a=r[o],u={};return a=a||{},Object.keys(a).forEach(function(l){var c=a[l]||[],h=[];c.forEach(function(f){var d=e({val:f,op:l},o,"numeric");d||h.push(f)}),h.length!==c.length&&(n=!0),u[l]=h}),s[o]=u,s},{});return n?i:this.numericRefinements}},addFacet:function(e){return this.isConjunctiveFacet(e)?this:this.setQueryParameters({facets:this.facets.concat([e])})},addDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([e])})},addHierarchicalFacet:function(e){if(this.isHierarchicalFacet(e.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+e.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([e])})},addFacetRefinement:function(e,n){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return at.isRefined(this.facetsRefinements,e,n)?this:this.setQueryParameters({facetsRefinements:at.addRefinement(this.facetsRefinements,e,n)})},addExcludeRefinement:function(e,n){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return at.isRefined(this.facetsExcludes,e,n)?this:this.setQueryParameters({facetsExcludes:at.addRefinement(this.facetsExcludes,e,n)})},addDisjunctiveFacetRefinement:function(e,n){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return at.isRefined(this.disjunctiveFacetsRefinements,e,n)?this:this.setQueryParameters({disjunctiveFacetsRefinements:at.addRefinement(this.disjunctiveFacetsRefinements,e,n)})},addTagRefinement:function(e){if(this.isTagRefined(e))return this;var n={tagRefinements:this.tagRefinements.concat(e)};return this.setQueryParameters(n)},removeFacet:function(e){return this.isConjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({facets:this.facets.filter(function(n){return n!==e})}):this},removeDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter(function(n){return n!==e})}):this},removeHierarchicalFacet:function(e){return this.isHierarchicalFacet(e)?this.clearRefinements(e).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter(function(n){return n.name!==e})}):this},removeFacetRefinement:function(e,n){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return at.isRefined(this.facetsRefinements,e,n)?this.setQueryParameters({facetsRefinements:at.removeRefinement(this.facetsRefinements,e,n)}):this},removeExcludeRefinement:function(e,n){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return at.isRefined(this.facetsExcludes,e,n)?this.setQueryParameters({facetsExcludes:at.removeRefinement(this.facetsExcludes,e,n)}):this},removeDisjunctiveFacetRefinement:function(e,n){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return at.isRefined(this.disjunctiveFacetsRefinements,e,n)?this.setQueryParameters({disjunctiveFacetsRefinements:at.removeRefinement(this.disjunctiveFacetsRefinements,e,n)}):this},removeTagRefinement:function(e){if(!this.isTagRefined(e))return this;var n={tagRefinements:this.tagRefinements.filter(function(r){return r!==e})};return this.setQueryParameters(n)},toggleRefinement:function(e,n){return this.toggleFacetRefinement(e,n)},toggleFacetRefinement:function(e,n){if(this.isHierarchicalFacet(e))return this.toggleHierarchicalFacetRefinement(e,n);if(this.isConjunctiveFacet(e))return this.toggleConjunctiveFacetRefinement(e,n);if(this.isDisjunctiveFacet(e))return this.toggleDisjunctiveFacetRefinement(e,n);throw new Error("Cannot refine the undeclared facet "+e+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(e,n){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:at.toggleRefinement(this.facetsRefinements,e,n)})},toggleExcludeFacetRefinement:function(e,n){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:at.toggleRefinement(this.facetsExcludes,e,n)})},toggleDisjunctiveFacetRefinement:function(e,n){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:at.toggleRefinement(this.disjunctiveFacetsRefinements,e,n)})},toggleHierarchicalFacetRefinement:function(e,n){if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration");var r=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),i={},s=this.hierarchicalFacetsRefinements[e]!==void 0&&this.hierarchicalFacetsRefinements[e].length>0&&(this.hierarchicalFacetsRefinements[e][0]===n||this.hierarchicalFacetsRefinements[e][0].indexOf(n+r)===0);return s?n.indexOf(r)===-1?i[e]=[]:i[e]=[n.slice(0,n.lastIndexOf(r))]:i[e]=[n],this.setQueryParameters({hierarchicalFacetsRefinements:pm({},i,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(t,e){if(this.isHierarchicalFacetRefined(t))throw new Error(t+" is already refined.");if(!this.isHierarchicalFacet(t))throw new Error(t+" is not defined in the hierarchicalFacets attribute of the helper configuration.");var n={};return n[t]=[e],this.setQueryParameters({hierarchicalFacetsRefinements:pm({},n,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(t){if(!this.isHierarchicalFacetRefined(t))return this;var e={};return e[t]=[],this.setQueryParameters({hierarchicalFacetsRefinements:pm({},e,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(e){return this.isTagRefined(e)?this.removeTagRefinement(e):this.addTagRefinement(e)},isDisjunctiveFacet:function(t){return this.disjunctiveFacets.indexOf(t)>-1},isHierarchicalFacet:function(t){return this.getHierarchicalFacetByName(t)!==void 0},isConjunctiveFacet:function(t){return this.facets.indexOf(t)>-1},isFacetRefined:function(e,n){return this.isConjunctiveFacet(e)?at.isRefined(this.facetsRefinements,e,n):!1},isExcludeRefined:function(e,n){return this.isConjunctiveFacet(e)?at.isRefined(this.facetsExcludes,e,n):!1},isDisjunctiveFacetRefined:function(e,n){return this.isDisjunctiveFacet(e)?at.isRefined(this.disjunctiveFacetsRefinements,e,n):!1},isHierarchicalFacetRefined:function(e,n){if(!this.isHierarchicalFacet(e))return!1;var r=this.getHierarchicalRefinement(e);return n?r.indexOf(n)!==-1:r.length>0},isNumericRefined:function(e,n,r){if(r===void 0&&n===void 0)return!!this.numericRefinements[e];var i=this.numericRefinements[e]&&this.numericRefinements[e][n]!==void 0;if(r===void 0||!i)return i;var s=mm(r),o=kB(this.numericRefinements[e][n],s)!==void 0;return i&&o},isTagRefined:function(e){return this.tagRefinements.indexOf(e)!==-1},getRefinedDisjunctiveFacets:function(){var e=this,n=PS(Object.keys(this.numericRefinements).filter(function(r){return Object.keys(e.numericRefinements[r]).length>0}),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter(function(r){return e.disjunctiveFacetsRefinements[r].length>0}).concat(n).concat(this.getRefinedHierarchicalFacets()).sort()},getRefinedHierarchicalFacets:function(){var e=this;return PS(this.hierarchicalFacets.map(function(n){return n.name}),Object.keys(this.hierarchicalFacetsRefinements).filter(function(n){return e.hierarchicalFacetsRefinements[n].length>0})).sort()},getUnrefinedDisjunctiveFacets:function(){var t=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter(function(e){return t.indexOf(e)===-1})},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","hierarchicalFacets","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements"],getQueryParams:function(){var e=this.managedParameters,n={},r=this;return Object.keys(this).forEach(function(i){var s=r[i];e.indexOf(i)===-1&&s!==void 0&&(n[i]=s)}),n},setQueryParameter:function(e,n){if(this[e]===n)return this;var r={};return r[e]=n,this.setQueryParameters(r)},setQueryParameters:function(e){if(!e)return this;var n=Tn.validate(this,e);if(n)throw n;var r=this,i=Tn._parseNumbers(e),s=Object.keys(this).reduce(function(a,u){return a[u]=r[u],a},{}),o=Object.keys(i).reduce(function(a,u){var l=a[u]!==void 0,c=i[u]!==void 0;return l&&!c?RS(a,[u]):(c&&(a[u]=i[u]),a)},s);return new this.constructor(o)},resetPage:function(){return this.page===void 0?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(t){return t.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(t){return t.separator||" > "},_getHierarchicalRootPath:function(t){return t.rootPath||null},_getHierarchicalShowParentLevel:function(t){return typeof t.showParentLevel=="boolean"?t.showParentLevel:!0},getHierarchicalFacetByName:function(t){return dO(this.hierarchicalFacets,function(e){return e.name===t})},getHierarchicalFacetBreadcrumb:function(t){if(!this.isHierarchicalFacet(t))return[];var e=this.getHierarchicalRefinement(t)[0];if(!e)return[];var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(t)),r=e.split(n);return r.map(function(i){return i.trim()})},toString:function(){return JSON.stringify(this,null,2)}};var pO=Tn,NB=function(e){return Array.isArray(e)?e.filter(Boolean):[]},DB=function(e,n){if(!Array.isArray(e))return-1;for(var r=0;r<e.length;r++)if(n(e[r]))return r;return-1},jB=Xd,mO=function(e,n){var r=(n||[]).map(function(i){return i.split(":")});return e.reduce(function(s,o){var a=o.split(":"),u=jB(r,function(l){return l[0]===a[0]});return a.length>1||!u?(s[0].push(a[0]),s[1].push(a[1]),s):(s[0].push(u[0]),s[1].push(u[1]),s)},[[],[]])};function FB(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=e!==void 0,s=e===null;if(!s&&t>e||r&&i||!n)return 1;if(!r&&t<e||s&&n||!i)return-1}return 0}function LB(t,e,n){if(!Array.isArray(t))return[];Array.isArray(n)||(n=[]);var r=t.map(function(i,s){return{criteria:e.map(function(o){return i[o]}),index:s,value:i}});return r.sort(function(s,o){for(var a=-1;++a<s.criteria.length;){var u=FB(s.criteria[a],o.criteria[a]);if(u)return a>=n.length?u:n[a]==="desc"?-u:u}return s.index-o.index}),r.map(function(i){return i.value})}var gO=LB,MB=WB,yO=K_,VB=Xd,$B=mO,UB=gO,BB=yO.escapeFacetValue,HB=yO.unescapeFacetValue;function WB(t){return function(n,r){var i=t.hierarchicalFacets[r],s=t.hierarchicalFacetsRefinements[i.name]&&t.hierarchicalFacetsRefinements[i.name][0]||"",o=t._getHierarchicalFacetSeparator(i),a=t._getHierarchicalRootPath(i),u=t._getHierarchicalShowParentLevel(i),l=$B(t._getHierarchicalFacetSortBy(i)),c=n.every(function(d){return d.exhaustive}),h=zB(l,o,a,u,s),f=n;return a&&(f=n.slice(a.split(o).length)),f.reduce(h,{name:t.hierarchicalFacets[r].name,count:null,isRefined:!0,path:null,escapedValue:null,exhaustive:c,data:null})}}function zB(t,e,n,r,i){return function(o,a,u){var l=o;if(u>0){var c=0;for(l=o;c<u;){var h=l&&Array.isArray(l.data)?l.data:[];l=VB(h,function(d){return d.isRefined}),c++}}if(l){var f=Object.keys(a.data).map(function(d){return[d,a.data[d]]}).filter(function(d){var y=d[0];return qB(y,l.path||n,i,e,n,r)});l.data=UB(f.map(function(d){var y=d[0],g=d[1];return QB(g,y,e,HB(i),a.exhaustive)}),t[0],t[1])}return o}}function qB(t,e,n,r,i,s){return i&&(t.indexOf(i)!==0||i===t)?!1:!i&&t.indexOf(r)===-1||i&&t.split(r).length-i.split(r).length===1||t.indexOf(r)===-1&&n.indexOf(r)===-1||n.indexOf(t)===0||t.indexOf(e+r)===0&&(s||t.indexOf(n)===0)}function QB(t,e,n,r,i){var s=e.split(n);return{name:s[s.length-1].trim(),path:e,escapedValue:BB(e),count:t,isRefined:r===e||r.indexOf(e+n)===0,exhaustive:i,data:null}}var gm=NB,Hf=X_,vO=K_,ir=Xd,du=DB,KB=mO,IS=Jd,_O=gO,bS=vO.escapeFacetValue,wO=vO.unescapeFacetValue,GB=MB;function AS(t){var e={};return t.forEach(function(n,r){e[n]=r}),e}function ym(t,e,n){e&&e[n]&&(t.stats=e[n])}function YB(t,e){return ir(t,function(r){var i=r.attributes||[];return i.indexOf(e)>-1})}function qi(t,e,n){var r=e[0];this._rawResults=e;var i=this;Object.keys(r).forEach(function(h){i[h]=r[h]});var s=IS({persistHierarchicalRootCount:!1},n);Object.keys(s).forEach(function(h){i[h]=s[h]}),this.processingTimeMS=e.reduce(function(h,f){return f.processingTimeMS===void 0?h:h+f.processingTimeMS},0),this.disjunctiveFacets=[],this.hierarchicalFacets=t.hierarchicalFacets.map(function(){return[]}),this.facets=[];var o=t.getRefinedDisjunctiveFacets(),a=AS(t.facets),u=AS(t.disjunctiveFacets),l=1,c=r.facets||{};Object.keys(c).forEach(function(h){var f=c[h],d=YB(t.hierarchicalFacets,h);if(d){var y=d.attributes.indexOf(h),g=du(t.hierarchicalFacets,function(w){return w.name===d.name});i.hierarchicalFacets[g][y]={attribute:h,data:f,exhaustive:r.exhaustiveFacetsCount}}else{var _=t.disjunctiveFacets.indexOf(h)!==-1,m=t.facets.indexOf(h)!==-1,p;_&&(p=u[h],i.disjunctiveFacets[p]={name:h,data:f,exhaustive:r.exhaustiveFacetsCount},ym(i.disjunctiveFacets[p],r.facets_stats,h)),m&&(p=a[h],i.facets[p]={name:h,data:f,exhaustive:r.exhaustiveFacetsCount},ym(i.facets[p],r.facets_stats,h))}}),this.hierarchicalFacets=gm(this.hierarchicalFacets),o.forEach(function(h){var f=e[l],d=f&&f.facets?f.facets:{},y=t.getHierarchicalFacetByName(h);Object.keys(d).forEach(function(g){var _=d[g],m;if(y){m=du(t.hierarchicalFacets,function(I){return I.name===y.name});var p=du(i.hierarchicalFacets[m],function(I){return I.attribute===g});if(p===-1)return;i.hierarchicalFacets[m][p].data=IS({},i.hierarchicalFacets[m][p].data,_)}else{m=u[g];var w=r.facets&&r.facets[g]||{};i.disjunctiveFacets[m]={name:g,data:Hf({},_,w),exhaustive:f.exhaustiveFacetsCount},ym(i.disjunctiveFacets[m],f.facets_stats,g),t.disjunctiveFacetsRefinements[g]&&t.disjunctiveFacetsRefinements[g].forEach(function(I){!i.disjunctiveFacets[m].data[I]&&t.disjunctiveFacetsRefinements[g].indexOf(wO(I))>-1&&(i.disjunctiveFacets[m].data[I]=0)})}}),l++}),t.getRefinedHierarchicalFacets().forEach(function(h){var f=t.getHierarchicalFacetByName(h),d=t._getHierarchicalFacetSeparator(f),y=t.getHierarchicalRefinement(h);y.length===0||y[0].split(d).length<2||e.slice(l).forEach(function(g){var _=g&&g.facets?g.facets:{};Object.keys(_).forEach(function(m){var p=_[m],w=du(t.hierarchicalFacets,function(A){return A.name===f.name}),I=du(i.hierarchicalFacets[w],function(A){return A.attribute===m});if(I!==-1){var k={};if(y.length>0&&!i.persistHierarchicalRootCount){var P=y[0].split(d)[0];k[P]=i.hierarchicalFacets[w][I].data[P]}i.hierarchicalFacets[w][I].data=Hf(k,p,i.hierarchicalFacets[w][I].data)}}),l++})}),Object.keys(t.facetsExcludes).forEach(function(h){var f=t.facetsExcludes[h],d=a[h];i.facets[d]={name:h,data:c[h],exhaustive:r.exhaustiveFacetsCount},f.forEach(function(y){i.facets[d]=i.facets[d]||{name:h},i.facets[d].data=i.facets[d].data||{},i.facets[d].data[y]=0})}),this.hierarchicalFacets=this.hierarchicalFacets.map(GB(t)),this.facets=gm(this.facets),this.disjunctiveFacets=gm(this.disjunctiveFacets),this._state=t}qi.prototype.getFacetByName=function(t){function e(n){return n.name===t}return ir(this.facets,e)||ir(this.disjunctiveFacets,e)||ir(this.hierarchicalFacets,e)};function JB(t,e){function n(c){return c.name===e}if(t._state.isConjunctiveFacet(e)){var r=ir(t.facets,n);return r?Object.keys(r.data).map(function(c){var h=bS(c);return{name:c,escapedValue:h,count:r.data[c],isRefined:t._state.isFacetRefined(e,h),isExcluded:t._state.isExcludeRefined(e,c)}}):[]}else if(t._state.isDisjunctiveFacet(e)){var i=ir(t.disjunctiveFacets,n);return i?Object.keys(i.data).map(function(c){var h=bS(c);return{name:c,escapedValue:h,count:i.data[c],isRefined:t._state.isDisjunctiveFacetRefined(e,h)}}):[]}else if(t._state.isHierarchicalFacet(e)){var s=ir(t.hierarchicalFacets,n);if(!s)return s;var o=t._state.getHierarchicalFacetByName(e),a=t._state._getHierarchicalFacetSeparator(o),u=wO(t._state.getHierarchicalRefinement(e)[0]||"");u.indexOf(o.rootPath)===0&&(u=u.replace(o.rootPath+a,""));var l=u.split(a);return l.unshift(e),EO(s,l,0),s}}function EO(t,e,n){t.isRefined=t.name===e[n],t.data&&t.data.forEach(function(r){EO(r,e,n+1)})}function SO(t,e,n,r){if(r=r||0,Array.isArray(e))return t(e,n[r]);if(!e.data||e.data.length===0)return e;var i=e.data.map(function(a){return SO(t,a,n,r+1)}),s=t(i,n[r]),o=Hf({data:s},e);return o}qi.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"];function XB(t,e){return e.sort(t)}function ZB(t,e){var n=[],r=[],i=e.order||[],s=i.reduce(function(u,l,c){return u[l]=c,u},{});t.forEach(function(u){var l=u.path||u.name;s[l]!==void 0?n[s[l]]=u:r.push(u)}),n=n.filter(function(u){return u});var o=e.sortRemainingBy,a;return o==="hidden"?n:(o==="alpha"?a=[["path","name"],["asc","asc"]]:a=[["count"],["desc"]],n.concat(_O(r,a[0],a[1])))}function eH(t,e){return t.renderingContent&&t.renderingContent.facetOrdering&&t.renderingContent.facetOrdering.values&&t.renderingContent.facetOrdering.values[e]}qi.prototype.getFacetValues=function(t,e){var n=JB(this,t);if(n){var r=Hf({},e,{sortBy:qi.DEFAULT_SORT,facetOrdering:!(e&&e.sortBy)}),i=this,s;if(Array.isArray(n))s=[t];else{var o=i._state.getHierarchicalFacetByName(n.name);s=o.attributes}return SO(function(a,u){if(r.facetOrdering){var l=eH(i,u);if(l)return ZB(a,l)}if(Array.isArray(r.sortBy)){var c=KB(r.sortBy,qi.DEFAULT_SORT);return _O(a,c[0],c[1])}else if(typeof r.sortBy=="function")return XB(r.sortBy,a);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")},n,s)}};qi.prototype.getFacetStats=function(t){if(this._state.isConjunctiveFacet(t))return OS(this.facets,t);if(this._state.isDisjunctiveFacet(t))return OS(this.disjunctiveFacets,t)};function OS(t,e){var n=ir(t,function(r){return r.name===e});return n&&n.stats}qi.prototype.getRefinements=function(){var t=this._state,e=this,n=[];return Object.keys(t.facetsRefinements).forEach(function(r){t.facetsRefinements[r].forEach(function(i){n.push(vm(t,"facet",r,i,e.facets))})}),Object.keys(t.facetsExcludes).forEach(function(r){t.facetsExcludes[r].forEach(function(i){n.push(vm(t,"exclude",r,i,e.facets))})}),Object.keys(t.disjunctiveFacetsRefinements).forEach(function(r){t.disjunctiveFacetsRefinements[r].forEach(function(i){n.push(vm(t,"disjunctive",r,i,e.disjunctiveFacets))})}),Object.keys(t.hierarchicalFacetsRefinements).forEach(function(r){t.hierarchicalFacetsRefinements[r].forEach(function(i){n.push(tH(t,r,i,e.hierarchicalFacets))})}),Object.keys(t.numericRefinements).forEach(function(r){var i=t.numericRefinements[r];Object.keys(i).forEach(function(s){i[s].forEach(function(o){n.push({type:"numeric",attributeName:r,name:o,numericValue:o,operator:s})})})}),t.tagRefinements.forEach(function(r){n.push({type:"tag",attributeName:"_tags",name:r})}),n};function vm(t,e,n,r,i){var s=ir(i,function(u){return u.name===n}),o=s&&s.data&&s.data[r]?s.data[r]:0,a=s&&s.exhaustive||!1;return{type:e,attributeName:n,name:r,count:o,exhaustive:a}}function tH(t,e,n,r){var i=t.getHierarchicalFacetByName(e),s=t._getHierarchicalFacetSeparator(i),o=n.split(s),a=ir(r,function(f){return f.name===e}),u=o.reduce(function(f,d){var y=f&&ir(f.data,function(g){return g.name===d});return y!==void 0?y:f},a),l=u&&u.count||0,c=u&&u.exhaustive||!1,h=u&&u.path||"";return{type:"hierarchical",attributeName:e,name:h,count:l,exhaustive:c}}var TO=qi,PO="3.16.2",nH=Q_,rH=mB,iH=K_.escapeFacetValue,sH=hO,oH=Jd,aH=Y_,uH=J_,ma=SB,e0=pO,ly=TO,RO=PO;function Z(t,e,n,r){typeof t.addAlgoliaAgent=="function"&&t.addAlgoliaAgent("JS Helper ("+RO+")"),this.setClient(t);var i=n||{};i.index=e,this.state=e0.make(i),this.lastResults=null,this._queryId=0,this._lastQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0,this._searchResultsOptions=r}sH(Z,nH);Z.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this};Z.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this};Z.prototype.getQuery=function(){var t=this.state;return ma._getHitsSearchParams(t)};Z.prototype.searchOnce=function(t,e){var n=t?this.state.setQueryParameters(t):this.state,r=ma._getQueries(n.index,n),i=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:n}),e){this.client.search(r).then(function(s){i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),e(null,new ly(n,s.results),n)}).catch(function(s){i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),e(s,null,n)});return}return this.client.search(r).then(function(s){return i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),{content:new ly(n,s.results),state:n,_originalResponse:s}},function(s){throw i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),s})};Z.prototype.findAnswers=function(t){console.warn("[algoliasearch-helper] answers is no longer supported");var e=this.state,n=this.derivedHelpers[0];if(!n)return Promise.resolve([]);var r=n.getModifiedState(e),i=oH({attributesForPrediction:t.attributesForPrediction,nbHits:t.nbHits},{params:uH(ma._getHitsSearchParams(r),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),s="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if(typeof this.client.initIndex!="function")throw new Error(s);var o=this.client.initIndex(r.index);if(typeof o.findAnswers!="function")throw new Error(s);return o.findAnswers(r.query,t.queryLanguages,i)};Z.prototype.searchForFacetValues=function(t,e,n,r){var i=typeof this.client.searchForFacetValues=="function",s=typeof this.client.initIndex=="function";if(!i&&!s&&typeof this.client.search!="function")throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var o=this.state.setQueryParameters(r||{}),a=o.isDisjunctiveFacet(t),u=ma.getSearchForFacetQuery(t,e,n,o);this._currentNbQueries++;var l=this,c;return i?c=this.client.searchForFacetValues([{indexName:o.index,params:u}]):s?c=this.client.initIndex(o.index).searchForFacetValues(u):(delete u.facetName,c=this.client.search([{type:"facet",facet:t,indexName:o.index,params:u}]).then(function(f){return f.results[0]})),this.emit("searchForFacetValues",{state:o,facet:t,query:e}),c.then(function(f){return l._currentNbQueries--,l._currentNbQueries===0&&l.emit("searchQueueEmpty"),f=Array.isArray(f)?f[0]:f,f.facetHits.forEach(function(d){d.escapedValue=iH(d.value),d.isRefined=a?o.isDisjunctiveFacetRefined(t,d.escapedValue):o.isFacetRefined(t,d.escapedValue)}),f},function(h){throw l._currentNbQueries--,l._currentNbQueries===0&&l.emit("searchQueueEmpty"),h})};Z.prototype.setQuery=function(t){return this._change({state:this.state.resetPage().setQuery(t),isPageReset:!0}),this};Z.prototype.clearRefinements=function(t){return this._change({state:this.state.resetPage().clearRefinements(t),isPageReset:!0}),this};Z.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this};Z.prototype.addDisjunctiveFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(t,e),isPageReset:!0}),this};Z.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)};Z.prototype.addHierarchicalFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(t,e),isPageReset:!0}),this};Z.prototype.addNumericRefinement=function(t,e,n){return this._change({state:this.state.resetPage().addNumericRefinement(t,e,n),isPageReset:!0}),this};Z.prototype.addFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().addFacetRefinement(t,e),isPageReset:!0}),this};Z.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)};Z.prototype.addFacetExclusion=function(t,e){return this._change({state:this.state.resetPage().addExcludeRefinement(t,e),isPageReset:!0}),this};Z.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)};Z.prototype.addTag=function(t){return this._change({state:this.state.resetPage().addTagRefinement(t),isPageReset:!0}),this};Z.prototype.removeNumericRefinement=function(t,e,n){return this._change({state:this.state.resetPage().removeNumericRefinement(t,e,n),isPageReset:!0}),this};Z.prototype.removeDisjunctiveFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(t,e),isPageReset:!0}),this};Z.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)};Z.prototype.removeHierarchicalFacetRefinement=function(t){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(t),isPageReset:!0}),this};Z.prototype.removeFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().removeFacetRefinement(t,e),isPageReset:!0}),this};Z.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)};Z.prototype.removeFacetExclusion=function(t,e){return this._change({state:this.state.resetPage().removeExcludeRefinement(t,e),isPageReset:!0}),this};Z.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)};Z.prototype.removeTag=function(t){return this._change({state:this.state.resetPage().removeTagRefinement(t),isPageReset:!0}),this};Z.prototype.toggleFacetExclusion=function(t,e){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(t,e),isPageReset:!0}),this};Z.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)};Z.prototype.toggleRefinement=function(t,e){return this.toggleFacetRefinement(t,e)};Z.prototype.toggleFacetRefinement=function(t,e){return this._change({state:this.state.resetPage().toggleFacetRefinement(t,e),isPageReset:!0}),this};Z.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)};Z.prototype.toggleTag=function(t){return this._change({state:this.state.resetPage().toggleTagRefinement(t),isPageReset:!0}),this};Z.prototype.nextPage=function(){var t=this.state.page||0;return this.setPage(t+1)};Z.prototype.previousPage=function(){var t=this.state.page||0;return this.setPage(t-1)};function IO(t){if(t<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(t),isPageReset:!1}),this}Z.prototype.setCurrentPage=IO;Z.prototype.setPage=IO;Z.prototype.setIndex=function(t){return this._change({state:this.state.resetPage().setIndex(t),isPageReset:!0}),this};Z.prototype.setQueryParameter=function(t,e){return this._change({state:this.state.resetPage().setQueryParameter(t,e),isPageReset:!0}),this};Z.prototype.setState=function(t){return this._change({state:e0.make(t),isPageReset:!1}),this};Z.prototype.overrideStateWithoutTriggeringChangeEvent=function(t){return this.state=new e0(t),this};Z.prototype.hasRefinements=function(t){return aH(this.state.getNumericRefinements(t))?!0:this.state.isConjunctiveFacet(t)?this.state.isFacetRefined(t):this.state.isDisjunctiveFacet(t)?this.state.isDisjunctiveFacetRefined(t):this.state.isHierarchicalFacet(t)?this.state.isHierarchicalFacetRefined(t):!1};Z.prototype.isExcluded=function(t,e){return this.state.isExcludeRefined(t,e)};Z.prototype.isDisjunctiveRefined=function(t,e){return this.state.isDisjunctiveFacetRefined(t,e)};Z.prototype.hasTag=function(t){return this.state.isTagRefined(t)};Z.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)};Z.prototype.getIndex=function(){return this.state.index};function bO(){return this.state.page}Z.prototype.getCurrentPage=bO;Z.prototype.getPage=bO;Z.prototype.getTags=function(){return this.state.tagRefinements};Z.prototype.getRefinements=function(t){var e=[];if(this.state.isConjunctiveFacet(t)){var n=this.state.getConjunctiveRefinements(t);n.forEach(function(o){e.push({value:o,type:"conjunctive"})});var r=this.state.getExcludeRefinements(t);r.forEach(function(o){e.push({value:o,type:"exclude"})})}else if(this.state.isDisjunctiveFacet(t)){var i=this.state.getDisjunctiveRefinements(t);i.forEach(function(o){e.push({value:o,type:"disjunctive"})})}var s=this.state.getNumericRefinements(t);return Object.keys(s).forEach(function(o){var a=s[o];e.push({value:a,operator:o,type:"numeric"})}),e};Z.prototype.getNumericRefinement=function(t,e){return this.state.getNumericRefinement(t,e)};Z.prototype.getHierarchicalFacetBreadcrumb=function(t){return this.state.getHierarchicalFacetBreadcrumb(t)};Z.prototype._search=function(t){var e=this.state,n=[],r=[];t.onlyWithDerivedHelpers||(r=ma._getQueries(e.index,e),n.push({state:e,queriesCount:r.length,helper:this}),this.emit("search",{state:e,results:this.lastResults}));var i=this.derivedHelpers.map(function(a){var u=a.getModifiedState(e),l=u.index?ma._getQueries(u.index,u):[];return n.push({state:u,queriesCount:l.length,helper:a}),a.emit("search",{state:u,results:a.lastResults}),l}),s=Array.prototype.concat.apply(r,i),o=this._queryId++;if(this._currentNbQueries++,!s.length)return Promise.resolve({results:[]}).then(this._dispatchAlgoliaResponse.bind(this,n,o));try{this.client.search(s).then(this._dispatchAlgoliaResponse.bind(this,n,o)).catch(this._dispatchAlgoliaError.bind(this,o))}catch(a){this.emit("error",{error:a})}};Z.prototype._dispatchAlgoliaResponse=function(t,e,n){var r=this;if(!(e<this._lastQueryIdReceived)){this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this._currentNbQueries===0&&this.emit("searchQueueEmpty");var i=n.results.slice();t.forEach(function(s){var o=s.state,a=s.queriesCount,u=s.helper,l=i.splice(0,a);if(!o.index){u.emit("result",{results:null,state:o});return}u.lastResults=new ly(o,l,r._searchResultsOptions),u.emit("result",{results:u.lastResults,state:o})})}};Z.prototype._dispatchAlgoliaError=function(t,e){t<this._lastQueryIdReceived||(this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,this.emit("error",{error:e}),this._currentNbQueries===0&&this.emit("searchQueueEmpty"))};Z.prototype.containsRefinement=function(t,e,n,r){return t||e.length!==0||n.length!==0||r.length!==0};Z.prototype._hasDisjunctiveRefinements=function(t){return this.state.disjunctiveRefinements[t]&&this.state.disjunctiveRefinements[t].length>0};Z.prototype._change=function(t){var e=t.state,n=t.isPageReset;e!==this.state&&(this.state=e,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:n}))};Z.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this};Z.prototype.setClient=function(t){return this.client===t?this:(typeof t.addAlgoliaAgent=="function"&&t.addAlgoliaAgent("JS Helper ("+RO+")"),this.client=t,this)};Z.prototype.getClient=function(){return this.client};Z.prototype.derive=function(t){var e=new rH(this,t);return this.derivedHelpers.push(e),e};Z.prototype.detachDerivedHelper=function(t){var e=this.derivedHelpers.indexOf(t);if(e===-1)throw new Error("Derived helper already detached");this.derivedHelpers.splice(e,1)};Z.prototype.hasPendingRequests=function(){return this._currentNbQueries>0};var lH=Z,AO=lH,cH=pO,hH=TO;function jc(t,e,n,r){return new AO(t,e,n,r)}jc.version=PO;jc.AlgoliaSearchHelper=AO;jc.SearchParameters=cH;jc.SearchResults=hH;var fH=jc;const Bn=Ta(fH);function fn(){}function dH(t){return Object.prototype.toString.call(t).slice(8,-1)}function Zd(t,e){if(t===void 0||typeof t!="function")throw new Error("The render function is not valid (received type ".concat(dH(t),`).

`).concat(e))}var pH={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},OO=/[&<>"']/g,mH=RegExp(OO.source);function gH(t){return t&&mH.test(t)?t.replace(OO,function(e){return pH[e]}):t}var yH={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},CO=/&(amp|quot|lt|gt|#39);/g,vH=RegExp(CO.source);function xO(t){return t&&vH.test(t)?t.replace(CO,function(e){return yH[e]}):t}function cy(t){"@babel/helpers - typeof";return cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cy(t)}function _H(t){return t===null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}function wH(t){return cy(t)==="object"&&t!==null}function kO(t){if(!wH(t)||_H(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Ml(t){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ml(t)}function EH(t){if(t==null)throw new TypeError("Cannot destructure "+t)}function hy(){return hy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hy.apply(this,arguments)}function CS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CS(Object(n),!0).forEach(function(r){NO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NO(t,e,n){return e=SH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SH(t){var e=TH(t,"string");return Ml(e)==="symbol"?e:String(e)}function TH(t,e){if(Ml(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ml(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ga={highlightPreTag:"__ais-highlight__",highlightPostTag:"__/ais-highlight__"},un={highlightPreTag:"<mark>",highlightPostTag:"</mark>"};function DO(t){return gH(t).replace(new RegExp(ga.highlightPreTag,"g"),un.highlightPreTag).replace(new RegExp(ga.highlightPostTag,"g"),un.highlightPostTag)}function Wf(t){return kO(t)&&typeof t.value!="string"?Object.keys(t).reduce(function(e,n){return Vo(Vo({},e),{},NO({},n,Wf(t[n])))},{}):Array.isArray(t)?t.map(Wf):Vo(Vo({},t),{},{value:DO(t.value)})}function PH(t){return t.__escaped===void 0&&(t=t.map(function(e){var n=hy({},(EH(e),e));return n._highlightResult&&(n._highlightResult=Wf(n._highlightResult)),n._snippetResult&&(n._snippetResult=Wf(n._snippetResult)),n}),t.__escaped=!0),t}function RH(t){return t.map(function(e){return Vo(Vo({},e),{},{highlighted:DO(e.highlighted)})})}function jO(t){var e=un.highlightPreTag,n=un.highlightPostTag;return t.map(function(r){return r.isHighlighted?e+r.value+n:r.value}).join("")}function IH(t,e,n){return t.state.isHierarchicalFacet(e)?t.state.isHierarchicalFacetRefined(e,n):t.state.isConjunctiveFacet(e)?t.state.isFacetRefined(e,n):t.state.isDisjunctiveFacetRefined(e,n)}function xS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xS(Object(n),!0).forEach(function(r){AH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AH(t,e,n){return e=OH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OH(t){var e=CH(t,"string");return ya(e)==="symbol"?e:String(e)}function CH(t,e){if(ya(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ya(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ya(t){"@babel/helpers - typeof";return ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ya(t)}function xH(t,e){return jH(t)||DH(t,e)||NH(t,e)||kH()}function kH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NH(t,e){if(t){if(typeof t=="string")return kS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kS(t,e)}}function kS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function DH(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],u=!0,l=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return a}}function jH(t){if(Array.isArray(t))return t}function FH(t){var e=t.instantSearchInstance,n=t.helper,r=t.attribute,i=t.widgetType,s=function(){for(var a=arguments.length,u=new Array(a),l=0;l<a;l++)u[l]=arguments[l];var c=u[1],h=u[2],f=h===void 0?"Filter Applied":h,d=u[3],y=d===void 0?{}:d,g=u[0].split(":"),_=xH(g,2),m=_[0],p=_[1],w=typeof r=="string"?r:r(c);u.length===1&&ya(u[0])==="object"?e.sendEventToInsights(u[0]):m==="click"&&u.length>=2&&u.length<=4&&(IH(n,w,c)||e.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:i,eventType:m,eventModifier:p,payload:bH({eventName:f,index:n.getIndex(),filters:["".concat(w,":").concat(c)]},y),attribute:w}))};return s}function FO(t){return btoa(encodeURIComponent(JSON.stringify(t)))}function NS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _m(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NS(Object(n),!0).forEach(function(r){LH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LH(t,e,n){return e=MH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MH(t){var e=VH(t,"string");return va(e)==="symbol"?e:String(e)}function VH(t,e){if(va(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(va(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $H(t,e){return WH(t)||HH(t,e)||BH(t,e)||UH()}function UH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BH(t,e){if(t){if(typeof t=="string")return DS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DS(t,e)}}function DS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function HH(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],u=!0,l=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return a}}function WH(t){if(Array.isArray(t))return t}function va(t){"@babel/helpers - typeof";return va=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},va(t)}function zH(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,n=[],r=0;r<Math.ceil(t.length/e);r++)n.push(t.slice(r*e,(r+1)*e));return n}function LO(t){var e=t.getIndex,n=t.widgetType;t.methodName;var r=t.args,i=t.instantSearchInstance;if(r.length===1&&va(r[0])==="object")return[r[0]];var s=r[0].split(":"),o=$H(s,2),a=o[0],u=o[1],l=r[1],c=r[2],h=r[3]||{};if(!l)return[];if((a==="click"||a==="conversion")&&!c)return[];var f=Array.isArray(l)?l:[l];if(f.length===0)return[];var d=f[0].__queryID,y=zH(f),g=y.map(function(m){return m.map(function(p){return p.objectID})}),_=y.map(function(m){return m.map(function(p){return p.__position})});return a==="view"?i.status!=="idle"?[]:y.map(function(m,p){return{insightsMethod:"viewedObjectIDs",widgetType:n,eventType:a,payload:_m({eventName:c||"Hits Viewed",index:e(),objectIDs:g[p]},h),hits:m,eventModifier:u}}):a==="click"?y.map(function(m,p){return{insightsMethod:"clickedObjectIDsAfterSearch",widgetType:n,eventType:a,payload:_m({eventName:c||"Hit Clicked",index:e(),queryID:d,objectIDs:g[p],positions:_[p]},h),hits:m,eventModifier:u}}):a==="conversion"?y.map(function(m,p){return{insightsMethod:"convertedObjectIDsAfterSearch",widgetType:n,eventType:a,payload:_m({eventName:c||"Hit Converted",index:e(),queryID:d,objectIDs:g[p]},h),hits:m,eventModifier:u}}):[]}function qH(t){var e=t.instantSearchInstance,n=t.getIndex,r=t.widgetType,i={},s=void 0,o=function(){for(var u=arguments.length,l=new Array(u),c=0;c<u;c++)l[c]=arguments[c];var h=LO({widgetType:r,getIndex:n,methodName:"sendEvent",args:l,instantSearchInstance:e});h.forEach(function(f){f.eventType==="click"&&f.eventModifier==="internal"&&i[f.eventType]||(i[f.eventType]=!0,e.sendEventToInsights(f))}),clearTimeout(s),s=setTimeout(function(){i={}},0)};return o}function QH(t){var e=t.getIndex,n=t.widgetType,r=t.instantSearchInstance,i=function(){for(var o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];var l=LO({widgetType:n,getIndex:e,methodName:"bindEvent",args:a,instantSearchInstance:r});return l.length?"data-insights-event=".concat(FO(l)):""};return i}function Js(t){return t.$$type==="ais.index"}function fy(t,e){var n=t[e.getIndexId()]||{};e.getHelper().setState(e.getWidgetSearchParameters(e.getHelper().state,{uiState:n})),e.getWidgets().filter(Js).forEach(function(r){return fy(t,r)})}var KH=Promise.resolve();function pu(t){var e=null,n=!1,r=function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];e===null&&(e=KH.then(function(){if(e=null,n){n=!1;return}t.apply(void 0,o)}))};return r.wait=function(){if(e===null)throw new Error("The deferred function should be called before calling `wait()`");return e},r.cancel=function(){e!==null&&(n=!0)},r}function GH(t){var e=t.name,n=t.connector,r=n===void 0?!1:n;return["https://www.algolia.com/doc/api-reference/widgets/",e,"/js/",r?"#connector":""].join("")}function uo(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.map(function(i){return GH(i)}).join(", ");return function(i){return[i,"See documentation: ".concat(r)].filter(Boolean).join(`

`)}}function YH(t,e){for(var n,r=0;r<t.length;r++)if(n=t[r],e(n,r,t))return n}function JH(t,e){if(!Array.isArray(t))return-1;for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1}function XH(t){if(t.transporter){var e=t.transporter,n=e.headers,r=e.queryParameters,i="x-algolia-application-id",s="x-algolia-api-key",o=n[i]||r[i],a=n[s]||r[s];return[o,a]}else return[t.applicationID,t.apiKey]}function t0(t){var e=un.highlightPostTag,n=un.highlightPreTag,r=t.split(n),i=r.shift(),s=i?[{value:i,isHighlighted:!1}]:[];return r.forEach(function(o){var a=o.split(e);s.push({value:a[0],isHighlighted:!0}),a[1]!==""&&s.push({value:a[1],isHighlighted:!1})}),s}var ZH=new RegExp(/\w/i);function e6(t,e){var n,r,i=t[e],s=((n=t[e+1])===null||n===void 0?void 0:n.isHighlighted)||!0,o=((r=t[e-1])===null||r===void 0?void 0:r.isHighlighted)||!0;return!ZH.test(xO(i.value))&&o===s?o:i.isHighlighted}function ep(t,e){var n=Array.isArray(e)?e:e.split(".");return n.reduce(function(r,i){return r&&r[i]},t)}function Vl(t){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(t)}function jS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jS(Object(n),!0).forEach(function(r){t6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function t6(t,e,n){return e=n6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n6(t){var e=r6(t,"string");return Vl(e)==="symbol"?e:String(e)}function r6(t,e){if(Vl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function i6(t,e,n){return t.map(function(r,i){return FS(FS({},r),{},{__position:n*e+i+1})})}function $l(t){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$l(t)}function LS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LS(Object(n),!0).forEach(function(r){s6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function s6(t,e,n){return e=o6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o6(t){var e=a6(t,"string");return $l(e)==="symbol"?e:String(e)}function a6(t,e){if($l(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($l(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function u6(t,e){return e?t.map(function(n){return MS(MS({},n),{},{__queryID:e})}):t}function Ul(t){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(t)}function l6(t,e){return d6(t)||f6(t,e)||h6(t,e)||c6()}function c6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h6(t,e){if(t){if(typeof t=="string")return VS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VS(t,e)}}function VS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f6(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],u=!0,l=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return a}}function d6(t){if(Array.isArray(t))return t}function $S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$S(Object(n),!0).forEach(function(r){MO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$S(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MO(t,e,n){return e=p6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p6(t){var e=m6(t,"string");return Ul(e)==="symbol"?e:String(e)}function m6(t,e){if(Ul(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ul(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function g6(t,e){if(e&&!((!("transporter"in t)||t._cacheHydrated)&&(!t._useCache||typeof t.addAlgoliaAgent!="function"))){var n=Object.keys(e).map(function(o){var a=e[o],u=a.state,l=a.requestParams,c=a.results;return c.map(function(h){return mu({indexName:u.index||h.index},l||h.params?{params:US(l||y6(h.params))}:{})})}),r=Object.keys(e).reduce(function(o,a){return o.concat(e[a].results)},[]);if("transporter"in t&&!t._cacheHydrated){t._cacheHydrated=!0;var i=t.search;t.search=function(o){for(var a=arguments.length,u=new Array(a>1?a-1:0),l=1;l<a;l++)u[l-1]=arguments[l];var c=o.map(function(h){return mu(mu({},h),{},{params:US(h.params)})});return t.transporter.responsesCache.get({method:"search",args:[c].concat(u)},function(){return i.apply(void 0,[o].concat(u))})},t.transporter.responsesCache.set({method:"search",args:n},{results:r})}if(!("transporter"in t)){var s="/1/indexes/*/queries_body_".concat(JSON.stringify({requests:n}));t.cache=mu(mu({},t.cache),{},MO({},s,JSON.stringify({results:Object.keys(e).map(function(o){return e[o].results})})))}}}function y6(t){return t.split("&").reduce(function(e,n){var r=n.split("="),i=l6(r,2),s=i[0],o=i[1];return e[s]=o?decodeURIComponent(o):"",e},{})}function US(t){var e=function(i){return Object.prototype.toString.call(i)==="[object Object]"||Object.prototype.toString.call(i)==="[object Array]"},n=function(i){for(var s=arguments.length,o=new Array(s>1?s-1:0),a=1;a<s;a++)o[a-1]=arguments[a];var u=0;return i.replace(/%s/g,function(){return encodeURIComponent(o[u++])})};return Object.keys(t).map(function(r){return n("%s=%s",r,e(t[r])?JSON.stringify(t[r]):t[r])}).join("&")}function BS(t){return t!==Object(t)}function VO(t,e){if(t===e)return!0;if(BS(t)||BS(e)||typeof t=="function"||typeof e=="function")return t===e;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];if(!(i in e)||!VO(t[i],e[i]))return!1}return!0}function v6(t){return t.filter(function(e,n,r){return r.indexOf(e)===n})}function Bl(t){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(t)}var _6=["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements","ruleContexts"];function HS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HS(Object(n),!0).forEach(function(r){w6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w6(t,e,n){return e=E6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E6(t){var e=S6(t,"string");return Bl(e)==="symbol"?e:String(e)}function S6(t,e){if(Bl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T6(t,e){if(t==null)return{};var n=P6(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function P6(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var R6=function(e,n){n.facets,n.disjunctiveFacets,n.facetsRefinements,n.facetsExcludes,n.disjunctiveFacetsRefinements,n.numericRefinements,n.tagRefinements,n.hierarchicalFacets,n.hierarchicalFacetsRefinements,n.ruleContexts;var r=T6(n,_6);return e.setQueryParameters(r)},I6=function(e,n){return n.facets.reduce(function(r,i){return r.addFacet(i)},e)},b6=function(e,n){return n.disjunctiveFacets.reduce(function(r,i){return r.addDisjunctiveFacet(i)},e)},A6=function(e,n){return e.setQueryParameters({hierarchicalFacets:n.hierarchicalFacets.reduce(function(r,i){var s=JH(r,function(a){return a.name===i.name});if(s===-1)return r.concat(i);var o=r.slice();return o.splice(s,1,i),o},e.hierarchicalFacets)})},O6=function(e,n){return n.tagRefinements.reduce(function(r,i){return r.addTagRefinement(i)},e)},C6=function(e,n){return e.setQueryParameters({facetsRefinements:jr(jr({},e.facetsRefinements),n.facetsRefinements)})},x6=function(e,n){return e.setQueryParameters({facetsExcludes:jr(jr({},e.facetsExcludes),n.facetsExcludes)})},k6=function(e,n){return e.setQueryParameters({disjunctiveFacetsRefinements:jr(jr({},e.disjunctiveFacetsRefinements),n.disjunctiveFacetsRefinements)})},N6=function(e,n){return e.setQueryParameters({numericRefinements:jr(jr({},e.numericRefinements),n.numericRefinements)})},D6=function(e,n){return e.setQueryParameters({hierarchicalFacetsRefinements:jr(jr({},e.hierarchicalFacetsRefinements),n.hierarchicalFacetsRefinements)})},j6=function(e,n){var r=v6([].concat(e.ruleContexts).concat(n.ruleContexts).filter(Boolean));return r.length>0?e.setQueryParameters({ruleContexts:r}):e},zh=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.reduce(function(i,s){var o=D6(i,s),a=A6(o,s),u=O6(a,s),l=N6(u,s),c=k6(l,s),h=x6(c,s),f=C6(h,s),d=b6(f,s),y=j6(d,s),g=I6(y,s);return R6(g,s)})};function F6(t){return $6(t)||V6(t)||M6(t)||L6()}function L6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M6(t,e){if(t){if(typeof t=="string")return dy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dy(t,e)}}function V6(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $6(t){if(Array.isArray(t))return dy(t)}function dy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function WS(t){var e=t.start,n=e===void 0?0:e,r=t.end,i=t.step,s=i===void 0?1:i,o=s===0?1:s,a=Math.round((r-n)/o);return F6(Array(a)).map(function(u,l){return n+l*o})}function Cu(t,e,n){var r=e.getHelper();return{uiState:n,helper:r,parent:e,instantSearchInstance:t,state:r.state,renderState:t.renderState,templatesConfig:t.templatesConfig,createURL:e.createURL,scopedResults:[],searchMetadata:{isSearchStalled:t.status==="stalled"},status:t.status,error:t.error}}function zS(t,e){var n=e.getResults(),r=e.getHelper();return{helper:r,parent:e,instantSearchInstance:t,results:n,scopedResults:e.getScopedResults(),state:n?n._state:r.state,renderState:t.renderState,templatesConfig:t.templatesConfig,createURL:e.createURL,searchMetadata:{isSearchStalled:t.status==="stalled"},status:t.status,error:t.error}}function U6(t){for(var e=t.getParent(),n=[t.getHelper().state];e!==null;)n=[e.getHelper().state].concat(n),e=e.getParent();return n}function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}function qS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _h(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qS(Object(n),!0).forEach(function(r){B6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B6(t,e,n){return e=H6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H6(t){var e=W6(t,"string");return Hl(e)==="symbol"?e:String(e)}function W6(t,e){if(Hl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $O(t){return t.some(function(e){return e.isHighlighted})?t.map(function(e,n){return _h(_h({},e),{},{isHighlighted:!e6(t,n)})}):t.map(function(e){return _h(_h({},e),{},{isHighlighted:!1})})}function Ci(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{fallback:function(){}},n=e.fallback;return typeof window>"u"?n():t({window})}function Wl(t){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(t)}function QS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QS(Object(n),!0).forEach(function(r){UO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UO(t,e,n){return e=z6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z6(t){var e=q6(t,"string");return Wl(e)==="symbol"?e:String(e)}function q6(t,e){if(Wl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Wl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Q6=uo({name:"configure",connector:!0});function KS(t,e){return t.setQueryParameters(Object.keys(e.searchParameters).reduce(function(n,r){return xt(xt({},n),{},UO({},r,void 0))},{}))}var K6=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:fn,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:fn;return function(r){if(!r||!kO(r.searchParameters))throw new Error(Q6("The `searchParameters` option expects an object."));var i={};function s(o){return function(a){var u=KS(o.state,r),l=zh(u,new Bn.SearchParameters(a));r.searchParameters=a,o.setState(l).search()}}return{$$type:"ais.configure",init:function(a){var u=a.instantSearchInstance;e(xt(xt({},this.getWidgetRenderState(a)),{},{instantSearchInstance:u}),!0)},render:function(a){var u=a.instantSearchInstance;e(xt(xt({},this.getWidgetRenderState(a)),{},{instantSearchInstance:u}),!1)},dispose:function(a){var u=a.state;return n(),KS(u,r)},getRenderState:function(a,u){var l,c=this.getWidgetRenderState(u);return xt(xt({},a),{},{configure:xt(xt({},c),{},{widgetParams:xt(xt({},c.widgetParams),{},{searchParameters:zh(new Bn.SearchParameters((l=a.configure)===null||l===void 0?void 0:l.widgetParams.searchParameters),new Bn.SearchParameters(c.widgetParams.searchParameters)).getQueryParams()})})})},getWidgetRenderState:function(a){var u=a.helper;return i.refine||(i.refine=s(u)),{refine:i.refine,widgetParams:r}},getWidgetSearchParameters:function(a,u){var l=u.uiState;return zh(a,new Bn.SearchParameters(xt(xt({},l.configure),r.searchParameters)))},getWidgetUiState:function(a){return xt(xt({},a),{},{configure:xt(xt({},a.configure),r.searchParameters)})}}}};const G6=K6;function py(t){"@babel/helpers - typeof";return py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},py(t)}var GS=Object.prototype.hasOwnProperty;function _a(t,e,n){if(n!=null&&n(t,e))return!0;var r,i;if(t===e)return!0;if(t&&e&&(r=t.constructor)===e.constructor){if(r===Date)return t.getTime()===e.getTime();if(r===RegExp)return t.toString()===e.toString();if(r===Array){if((i=t.length)===e.length)for(;i--&&_a(t[i],e[i],n););return i===-1}if(!r||py(t)==="object"){i=0;for(r in t)if(GS.call(t,r)&&++i&&!GS.call(e,r)||!(r in e)||!_a(t[r],e[r],n))return!1;return Object.keys(e).length===i}}return t!==t&&e!==e}function YS(t){var e,n,r;return new Bn.SearchResults(t,[{query:(e=t.query)!==null&&e!==void 0?e:"",page:(n=t.page)!==null&&n!==void 0?n:0,hitsPerPage:(r=t.hitsPerPage)!==null&&r!==void 0?r:20,hits:[],nbHits:0,nbPages:0,params:"",exhaustiveNbHits:!0,exhaustiveFacetsCount:!0,processingTimeMS:0,index:t.index}],{__isArtificial:!0})}function zl(t){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(t)}function JS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JS(Object(n),!0).forEach(function(r){Y6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y6(t,e,n){return e=J6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J6(t){var e=X6(t,"string");return zl(e)==="symbol"?e:String(e)}function X6(t,e){if(zl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Z6(t){var e=t.getHelper(),n=t.getResults()||YS(e.state),r=t.getScopedResults().map(function(i){var s=i.indexId===t.getIndexId()?n:YS(i.helper.state);return XS(XS({},i),{},{results:i.results||s})});return{results:n,scopedResults:r}}function BO(t,e){if(!t)throw new Error("Invariant failed")}var HO=O.createContext(null);function e9(){var t=O.useContext(HO);return BO(t!==null),t}var WO=O.createContext(null);function zO(){var t=O.useContext(WO);return BO(t!==null),t}var t9=O.createContext(null);function qO(){return O.useContext(t9)}function n9(t,e){return o9(t)||s9(t,e)||i9(t,e)||r9()}function r9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i9(t,e){if(t){if(typeof t=="string")return ZS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZS(t,e)}}function ZS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s9(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],u=!0,l=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return a}}function o9(t){if(Array.isArray(t))return t}function eT(t){var e=O.useState(function(){return t}),n=n9(e,2),r=n[0],i=n[1];return _a(r,t)||i(t),r}var a9="use",tT=GT[a9],u9=typeof window<"u"?O.useLayoutEffect:O.useEffect,l9=O.createContext(null);function QO(){return O.useContext(l9)}function c9(t){var e,n=t.widget,r=t.parentIndex,i=t.props,s=t.shouldSsr,o=QO(),a=O.useRef(i);O.useEffect(function(){a.current=i},[i]);var u=O.useRef(n);O.useEffect(function(){u.current=n},[n]);var l=O.useRef(null),c=s&&!r.getWidgets().includes(n),h=zO();if(u9(function(){var d=u.current;if(!l.current)c||r.addWidgets([n]);else{clearTimeout(l.current);var y=_a(i,a.current);y||(r.removeWidgets([d]),r.addWidgets([n]))}return function(){l.current=setTimeout(function(){h._schedule(function(){h._preventWidgetCleanup||r.removeWidgets([d])})})}},[r,n,c,h,i]),(c||(o==null||(e=o.current)===null||e===void 0?void 0:e.status)==="pending")&&r.addWidgets([n]),typeof window>"u"&&o!==null&&o!==void 0&&o.current&&n.$$type!=="ais.index"){var f;tT(o.current),n.$$type!=="ais.dynamicWidgets"&&(f=h.helper)!==null&&f!==void 0&&f.lastResults&&tT(o.current)}}function ql(t){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(t)}var h9=["instantSearchInstance","widgetParams"],f9=["widgetParams"];function d9(t,e){return y9(t)||g9(t,e)||m9(t,e)||p9()}function p9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m9(t,e){if(t){if(typeof t=="string")return nT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nT(t,e)}}function nT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function g9(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],u=!0,l=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return a}}function y9(t){if(Array.isArray(t))return t}function rT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rT(Object(n),!0).forEach(function(r){v9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function v9(t,e,n){return e=_9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _9(t){var e=w9(t,"string");return ql(e)==="symbol"?e:String(e)}function w9(t,e){if(ql(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ql(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sT(t,e){if(t==null)return{};var n=E9(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function E9(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Fc(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=qO(),i=zO(),s=e9(),o=eT(e),a=eT(n),u=O.useRef(!0),l=O.useRef(null),c=O.useRef(i.status),h=O.useMemo(function(){var _=t(function(m,p){if(p){u.current=!0;return}if(u.current){var w=m.instantSearchInstance;m.widgetParams;var I=sT(m,h9);(!_a(I,l.current,function(k,P){return k?.constructor===Function&&P?.constructor===Function})||w.status!==c.current)&&(g(I),l.current=I,c.current=w.status)}},function(){u.current=!1});return iT(iT({},_(o)),a)},[t,o,a]),f=O.useState(function(){if(h.getWidgetRenderState){var _,m=s.getHelper(),p=s.getWidgetUiState({})[s.getIndexId()];m.state=((_=h.getWidgetSearchParameters)===null||_===void 0?void 0:_.call(h,m.state,{uiState:p}))||m.state;var w=Z6(s),I=w.results,k=w.scopedResults,P=h.getWidgetRenderState({helper:m,parent:s,instantSearchInstance:i,results:I,scopedResults:k,state:m.state,renderState:i.renderState,templatesConfig:i.templatesConfig,createURL:s.createURL,searchMetadata:{isSearchStalled:i.status==="stalled"},status:i.status,error:i.error});P.widgetParams;var A=sT(P,f9);return A}return{}}),d=d9(f,2),y=d[0],g=d[1];return c9({widget:h,parentIndex:s,props:o,shouldSsr:!!r}),y}function S9(t,e){return Fc(G6,{searchParameters:t},e)}function T9(t){return S9(t,{$$widgetType:"ais.configure"}),null}function Ql(t){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql(t)}var P9=["initialSearchParameters"];function oT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oT(Object(n),!0).forEach(function(r){$o(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $o(t,e,n){return e=R9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R9(t){var e=I9(t,"string");return Ql(e)==="symbol"?e:String(e)}function I9(t,e){if(Ql(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ql(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KO(t){return C9(t)||O9(t)||A9(t)||b9()}function b9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A9(t,e){if(t){if(typeof t=="string")return my(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return my(t,e)}}function O9(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function C9(t){if(Array.isArray(t))return my(t)}function my(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function x9(t,e){if(t==null)return{};var n=k9(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function k9(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var gu=uo({name:"index-widget"});function GO(t,e){var n=e.state,r=e.isPageReset,i=e._uiState;n!==t.state&&(t.state=n,t.emit("change",{state:t.state,results:t.lastResults,isPageReset:r,_uiState:i}))}function yu(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t.reduce(function(r,i){return Js(i)||!i.getWidgetUiState&&!i.getWidgetState?r:i.getWidgetUiState?i.getWidgetUiState(r,e):i.getWidgetState(r,e)},n)}function vu(t,e){var n=e.initialSearchParameters,r=x9(e,P9);return t.filter(function(i){return!Js(i)}).reduce(function(i,s){return s.getWidgetSearchParameters?s.getWidgetSearchParameters(i,r):i},n)}function YO(t){var e=t.filter(Js);e.length!==0&&e.forEach(function(n){var r=n.getHelper();GO(r,{state:r.state.resetPage(),isPageReset:!0}),YO(n.getWidgets())})}function JO(t){var e=t.filter(Js);return e.reduce(function(n,r){return n.concat.apply(n,[{indexId:r.getIndexId(),results:r.getResults(),helper:r.getHelper()}].concat(KO(JO(r.getWidgets()))))},[])}var N9=function(e){if(e===void 0||e.indexName===void 0)throw new Error(gu("The `indexName` option is required."));var n=e.indexName,r=e.indexId,i=r===void 0?n:r,s=[],o={},a=null,u=null,l=null,c=null,h=null;return{$$type:"ais.index",$$widgetType:"ais.index",getIndexName:function(){return n},getIndexId:function(){return i},getHelper:function(){return l},getResults:function(){var d;return(d=c)!==null&&d!==void 0&&d.lastResults?(c.lastResults._state=l.state,c.lastResults):null},getPreviousState:function(){return h},getScopedResults:function(){var d=this.getParent(),y=d?d.getWidgets():[this];return JO(y)},getParent:function(){return u},createURL:function(d){return typeof d=="function"?a._createURL($o({},i,d(o))):a._createURL($o({},i,yu(s,{searchParameters:d,helper:l})))},getWidgets:function(){return s},addWidgets:function(d){var y=this;if(!Array.isArray(d))throw new Error(gu("The `addWidgets` method expects an array of widgets."));if(d.some(function(g){return typeof g.init!="function"&&typeof g.render!="function"}))throw new Error(gu("The widget definition expects a `render` and/or an `init` method."));return s=s.concat(d),a&&d.length&&(GO(l,{state:vu(s,{uiState:o,initialSearchParameters:l.state}),_uiState:o}),d.forEach(function(g){if(g.getRenderState){var _=g.getRenderState(a.renderState[y.getIndexId()]||{},Cu(a,y,a._initialUiState));wm({renderState:_,instantSearchInstance:a,parent:y})}}),d.forEach(function(g){g.init&&g.init(Cu(a,y,a._initialUiState))}),a.scheduleSearch()),this},removeWidgets:function(d){var y=this;if(!Array.isArray(d))throw new Error(gu("The `removeWidgets` method expects an array of widgets."));if(d.some(function(m){return typeof m.dispose!="function"}))throw new Error(gu("The widget definition expects a `dispose` method."));if(s=s.filter(function(m){return d.indexOf(m)===-1}),a&&d.length){var g=d.reduce(function(m,p){var w=p.dispose({helper:l,state:m,parent:y});return w||m},l.state),_=a.future.preserveSharedStateOnUnmount?vu(s,{uiState:o,initialSearchParameters:new Bn.SearchParameters({index:this.getIndexName()})}):vu(s,{uiState:yu(s,{searchParameters:g,helper:l}),initialSearchParameters:g});o=yu(s,{searchParameters:_,helper:l}),l.setState(_),s.length&&a.scheduleSearch()}return this},init:function(d){var y=this,g,_=d.instantSearchInstance,m=d.parent,p=d.uiState;if(l===null){a=_,u=m,o=p[i]||{};var w=_.mainHelper,I=vu(s,{uiState:o,initialSearchParameters:new Bn.SearchParameters({index:n})});l=Bn({},I.index,I),l.search=function(){return _.onStateChange?(_.onStateChange({uiState:_.mainIndex.getWidgetUiState({}),setUiState:function(N){return _.setUiState(N,!1)}}),w):w.search()},l.searchWithoutTriggeringOnStateChange=function(){return w.search()},l.searchForFacetValues=function(A,N,V,M){var L=l.state.setQueryParameters(M);return w.searchForFacetValues(A,N,V,L)},c=w.derive(function(){return zh.apply(void 0,[w.state].concat(KO(U6(y))))});var k=(g=_._initialResults)===null||g===void 0?void 0:g[this.getIndexId()];if(k){var P=new Bn.SearchResults(new Bn.SearchParameters(k.state),k.results);c.lastResults=P,l.lastResults=P}l.on("change",function(A){var N=A.isPageReset;N&&YO(s)}),c.on("search",function(){_.scheduleStalledRender()}),c.on("result",function(A){var N=A.results;_.scheduleRender(),l.lastResults=N,h=N?._state}),s.forEach(function(A){if(A.getRenderState){var N=A.getRenderState(_.renderState[y.getIndexId()]||{},Cu(_,y,p));wm({renderState:N,instantSearchInstance:_,parent:y})}}),s.forEach(function(A){A.init&&A.init(Cu(_,y,p))}),l.on("change",function(A){var N=A.state,V=A._uiState;o=yu(s,{searchParameters:N,helper:l},V||{}),_.onStateChange||_.onInternalStateChange()}),k&&_.scheduleRender()}},render:function(d){var y=this,g=d.instantSearchInstance;g.status==="error"&&!g.mainHelper.hasPendingRequests()&&h&&l.setState(h);var _=this.getResults()?s:s.filter(Js);_.forEach(function(m){if(m.getRenderState){var p=m.getRenderState(g.renderState[y.getIndexId()]||{},zS(g,y));wm({renderState:p,instantSearchInstance:g,parent:y})}}),_.forEach(function(m){m.render&&m.render(zS(g,y))})},dispose:function(){var d=this,y,g;s.forEach(function(_){_.dispose&&_.dispose({helper:l,state:l.state,parent:d})}),a=null,u=null,(y=l)===null||y===void 0||y.removeAllListeners(),l=null,(g=c)===null||g===void 0||g.detach(),c=null},getWidgetUiState:function(d){return s.filter(Js).reduce(function(y,g){return g.getWidgetUiState(y)},vr(vr({},d),{},$o({},i,vr(vr({},d[i]),o))))},getWidgetState:function(d){return this.getWidgetUiState(d)},getWidgetSearchParameters:function(d,y){var g=y.uiState;return vu(s,{uiState:g,initialSearchParameters:d})},refreshUiState:function(){o=yu(s,{searchParameters:this.getHelper().state,helper:this.getHelper()},o)},setIndexUiState:function(d){var y=typeof d=="function"?d(o):d;a.setUiState(function(g){return vr(vr({},g),{},$o({},i,y))})}}};function wm(t){var e=t.renderState,n=t.instantSearchInstance,r=t.parent,i=r?r.getIndexId():n.mainIndex.getIndexId();n.renderState=vr(vr({},n.renderState),{},$o({},i,vr(vr({},n.renderState[i]),e)))}function D9(t,e){return M9(t)||L9(t,e)||F9(t,e)||j9()}function j9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F9(t,e){if(t){if(typeof t=="string")return aT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aT(t,e)}}function aT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function L9(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],u=!0,l=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return a}}function M9(t){if(Array.isArray(t))return t}function V9(){var t=O.useReducer(function(r){return r+1},0),e=D9(t,2),n=e[1];return n}var $9=O.createContext(null);function U9(){return O.useContext($9)}var B9="ais",tp=function(e){return function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=n.descendantName,i=n.modifierName,s=r?"-".concat(r):"",o=i?"--".concat(i):"";return"".concat(B9,"-").concat(e).concat(s).concat(o)}},H9=tp("Highlight");function W9(t){var e=t.attribute,n=t.highlightedTagName,r=n===void 0?"mark":n,i=t.hit,s=t.cssClasses,o=s===void 0?{}:s,a=ep(i._highlightResult,e),u=a||{},l=u.value,c=l===void 0?"":l,h=H9({descendantName:"highlighted"})+(o.highlighted?" ".concat(o.highlighted):"");return c.replace(new RegExp(un.highlightPreTag,"g"),"<".concat(r,' class="').concat(h,'">')).replace(new RegExp(un.highlightPostTag,"g"),"</".concat(r,">"))}var z9=tp("ReverseHighlight");function q9(t){var e=t.attribute,n=t.highlightedTagName,r=n===void 0?"mark":n,i=t.hit,s=t.cssClasses,o=s===void 0?{}:s,a=ep(i._highlightResult,e),u=a||{},l=u.value,c=l===void 0?"":l,h=z9({descendantName:"highlighted"})+(o.highlighted?" ".concat(o.highlighted):""),f=jO($O(t0(c)));return f.replace(new RegExp(un.highlightPreTag,"g"),"<".concat(r,' class="').concat(h,'">')).replace(new RegExp(un.highlightPostTag,"g"),"</".concat(r,">"))}var Q9=tp("Snippet");function K9(t){var e=t.attribute,n=t.highlightedTagName,r=n===void 0?"mark":n,i=t.hit,s=t.cssClasses,o=s===void 0?{}:s,a=ep(i._snippetResult,e),u=a||{},l=u.value,c=l===void 0?"":l,h=Q9({descendantName:"highlighted"})+(o.highlighted?" ".concat(o.highlighted):"");return c.replace(new RegExp(un.highlightPreTag,"g"),"<".concat(r,' class="').concat(h,'">')).replace(new RegExp(un.highlightPostTag,"g"),"</".concat(r,">"))}var G9=tp("ReverseSnippet");function Y9(t){var e=t.attribute,n=t.highlightedTagName,r=n===void 0?"mark":n,i=t.hit,s=t.cssClasses,o=s===void 0?{}:s,a=ep(i._snippetResult,e),u=a||{},l=u.value,c=l===void 0?"":l,h=G9({descendantName:"highlighted"})+(o.highlighted?" ".concat(o.highlighted):""),f=jO($O(t0(c)));return f.replace(new RegExp(un.highlightPreTag,"g"),"<".concat(r,' class="').concat(h,'">')).replace(new RegExp(un.highlightPostTag,"g"),"</".concat(r,">"))}function gy(t){"@babel/helpers - typeof";return gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gy(t)}function J9(t){var e=t.method,n=t.payload;if(gy(n)!=="object")throw new Error("The insights helper expects the payload to be an object.");var r;try{r=FO(n)}catch{throw new Error("Could not JSON serialize the payload object.")}return'data-insights-method="'.concat(e,'" data-insights-payload="').concat(r,'"')}function X9(t,e){return J9({method:t,payload:e})}function yy(t){"@babel/helpers - typeof";return yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yy(t)}var Z9="_ALGOLIA";function e5(t){if(!((typeof document>"u"?"undefined":yy(document))!=="object"||typeof document.cookie!="string"))for(var e="".concat(t,"="),n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];i.charAt(0)===" ";)i=i.substring(1);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}}function t5(){return e5(Z9)}function Kl(t){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kl(t)}function uT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ds(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uT(Object(n),!0).forEach(function(r){n5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function n5(t,e,n){return e=r5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r5(t){var e=i5(t,"string");return Kl(e)==="symbol"?e:String(e)}function i5(t,e){if(Kl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Kl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xu(t,e){return a5(t)||o5(t,e)||XO(t,e)||s5()}function s5(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o5(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],u=!0,l=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return a}}function a5(t){if(Array.isArray(t))return t}function u5(t){return h5(t)||c5(t)||XO(t)||l5()}function l5(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XO(t,e){if(t){if(typeof t=="string")return vy(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vy(t,e)}}function c5(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function h5(t){if(Array.isArray(t))return vy(t)}function vy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ZO="2.13.0",f5="https://cdn.jsdelivr.net/npm/search-insights@".concat(ZO,"/dist/search-insights.min.js");function lT(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.insightsClient,n=t.insightsInitParams,r=t.onEvent,i=t.$$internal,s=i===void 0?!1:i,o=t.$$automatic,a=o===void 0?!1:o,u=e;!e&&e!==null&&Ci(function(c){var h=c.window,f=h.AlgoliaAnalyticsObject||"aa";typeof f=="string"&&(u=h[f]),u||(h.AlgoliaAnalyticsObject=f,h[f]||(h[f]=function(){h[f].queue||(h[f].queue=[]);for(var d=arguments.length,y=new Array(d),g=0;g<d;g++)y[g]=arguments[g];h[f].queue.push(y)},h[f].version=ZO,h[f].shouldAddScript=!0),u=h[f])});var l=u||fn;return function(c){var h=c.instantSearchInstance,f=h.middleware.filter(function(M){return M.instance.$$type==="ais.insights"&&M.instance.$$internal}).map(function(M){return M.creator});h.unuse.apply(h,u5(f));var d=XH(h.client),y=xu(d,2),g=y[0],_=y[1],m=void 0,p=void 0,w=void 0,I=void 0,k=l.queue;if(Array.isArray(k)){var P=["setUserToken","setAuthenticatedUserToken"].map(function(M){var L=YH(k.slice().reverse(),function(Le){var Be=xu(Le,1),He=Be[0];return He===M})||[],ye=xu(L,2),Pe=ye[1];return Pe}),A=xu(P,2);m=A[0],p=A[1]}l("getUserToken",null,function(M,L){w=Em(L)}),l("getAuthenticatedUserToken",null,function(M,L){I=Em(L)}),(n||!cT(l))&&l("init",ds({appId:g,apiKey:_,partial:!0},n));var N,V;return{$$type:"ais.insights",$$internal:s,$$automatic:a,onStateChange:function(){},subscribe:function(){if(l.shouldAddScript){var L="[insights middleware]: could not load search-insights.js. Please load it manually following https://alg.li/insights-init";try{var ye=document.createElement("script");ye.async=!0,ye.src=f5,ye.onerror=function(){h.emit("error",new Error(L))},document.body.appendChild(ye),l.shouldAddScript=!1}catch{l.shouldAddScript=!1,h.emit("error",new Error(L))}}},started:function(){l("addAlgoliaAgent","insights-middleware"),V=h.mainHelper,N={userToken:V.state.userToken,clickAnalytics:V.state.clickAnalytics},a||V.overrideStateWithoutTriggeringChangeEvent(ds(ds({},V.state),{},{clickAnalytics:!0})),s||h.scheduleSearch();var L=function(D){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,K=Em(D);if(!K)return;var ae=V.state.userToken;function Te(){V.overrideStateWithoutTriggeringChangeEvent(ds(ds({},V.state),{},{userToken:K})),ae&&ae!==D&&h.scheduleSearch()}W?Te():setTimeout(Te,0)},ye=t5();ye&&L(ye,!0);function Pe(ne,D,W){L(ne,!0),D&&l("setUserToken",D),W&&l("setAuthenticatedUserToken",W)}var Le=I||w,Be=p||m;Le?Pe(Le,w,I):Be&&Pe(Be,m,p),l("onUserTokenChange",L,{immediate:!0}),l("onAuthenticatedUserTokenChange",function(ne){ne||l("getUserToken",null,function(D,W){L(W)}),L(ne)},{immediate:!0});var He=l;cT(l)&&(He=function(D,W){var K={headers:{"X-Algolia-Application-Id":g,"X-Algolia-API-Key":_}};return l(D,W,K)}),h.sendEventToInsights=function(ne){r?r(ne,He):ne.insightsMethod&&(ne.payload.algoliaSource=["instantsearch"],a&&ne.payload.algoliaSource.push("instantsearch-automatic"),ne.eventModifier==="internal"&&ne.payload.algoliaSource.push("instantsearch-internal"),He(ne.insightsMethod,ne.payload))}},unsubscribe:function(){l("onUserTokenChange",void 0),l("onAuthenticatedUserTokenChange",void 0),h.sendEventToInsights=fn,V&&N&&(V.overrideStateWithoutTriggeringChangeEvent(ds(ds({},V.state),N)),h.scheduleSearch())}}}}function cT(t){var e=(t.version||"").split(".").map(Number),n=xu(e,2),r=n[0],i=n[1],s=r>=3,o=r===2&&i>=6,a=r===1&&i>=10;return s||o||a}function Em(t){if(t)return typeof t=="number"?t.toString():t}function eC(t,e,n){var r=Cu(e,e.mainIndex,e._initialUiState);t.forEach(function(i){var s={};if(i.getWidgetRenderState){var o=i.getWidgetRenderState(r);o&&o.widgetParams&&(s=o.widgetParams)}var a=Object.keys(s).filter(function(u){return s[u]!==void 0});n.widgets.push({type:i.$$type,widgetType:i.$$widgetType,params:a}),i.$$type==="ais.index"&&eC(i.getWidgets(),e,n)})}function d5(){return Ci(function(t){var e,n,r=t.window;return((e=r.navigator)===null||e===void 0||(n=e.userAgent)===null||n===void 0?void 0:n.indexOf("Algolia Crawler"))>-1},{fallback:function(){return!1}})}function p5(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.$$internal,n=e===void 0?!1:e;return function(r){var i=r.instantSearchInstance,s={widgets:[]},o=document.createElement("meta"),a=document.querySelector("head");return o.name="instantsearch:widgets",{$$type:"ais.metadata",$$internal:n,onStateChange:function(){},subscribe:function(){setTimeout(function(){var l=i.client;s.ua=l.transporter&&l.transporter.userAgent?l.transporter.userAgent.value:l._ua,eC(i.mainIndex.getWidgets(),i,s),i.middleware.forEach(function(c){return s.widgets.push({middleware:!0,type:c.instance.$$type,internal:c.instance.$$internal})}),o.content=JSON.stringify(s),a.appendChild(o)},0)},started:function(){},unsubscribe:function(){o.remove()}}}}var m5=String.prototype.replace,g5=/%20/g,Sm={RFC1738:"RFC1738",RFC3986:"RFC3986"},n0={default:Sm.RFC3986,formatters:{RFC1738:function(t){return m5.call(t,g5,"+")},RFC3986:function(t){return String(t)}},RFC1738:Sm.RFC1738,RFC3986:Sm.RFC3986},y5=n0,Tm=Object.prototype.hasOwnProperty,Ss=Array.isArray,pr=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),v5=function(e){for(;e.length>1;){var n=e.pop(),r=n.obj[n.prop];if(Ss(r)){for(var i=[],s=0;s<r.length;++s)typeof r[s]<"u"&&i.push(r[s]);n.obj[n.prop]=i}}},tC=function(e,n){for(var r=n&&n.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(r[i]=e[i]);return r},_5=function t(e,n,r){if(!n)return e;if(typeof n!="object"){if(Ss(e))e.push(n);else if(e&&typeof e=="object")(r&&(r.plainObjects||r.allowPrototypes)||!Tm.call(Object.prototype,n))&&(e[n]=!0);else return[e,n];return e}if(!e||typeof e!="object")return[e].concat(n);var i=e;return Ss(e)&&!Ss(n)&&(i=tC(e,r)),Ss(e)&&Ss(n)?(n.forEach(function(s,o){if(Tm.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,r):e.push(s)}else e[o]=s}),e):Object.keys(n).reduce(function(s,o){var a=n[o];return Tm.call(s,o)?s[o]=t(s[o],a,r):s[o]=a,s},i)},w5=function(e,n){return Object.keys(n).reduce(function(r,i){return r[i]=n[i],r},e)},E5=function(t,e,n){var r=t.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},S5=function(e,n,r,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),r==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(c){return"%26%23"+parseInt(c.slice(2),16)+"%3B"});for(var a="",u=0;u<o.length;++u){var l=o.charCodeAt(u);if(l===45||l===46||l===95||l===126||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||s===y5.RFC1738&&(l===40||l===41)){a+=o.charAt(u);continue}if(l<128){a=a+pr[l];continue}if(l<2048){a=a+(pr[192|l>>6]+pr[128|l&63]);continue}if(l<55296||l>=57344){a=a+(pr[224|l>>12]+pr[128|l>>6&63]+pr[128|l&63]);continue}u+=1,l=65536+((l&1023)<<10|o.charCodeAt(u)&1023),a+=pr[240|l>>18]+pr[128|l>>12&63]+pr[128|l>>6&63]+pr[128|l&63]}return a},T5=function(e){for(var n=[{obj:{o:e},prop:"o"}],r=[],i=0;i<n.length;++i)for(var s=n[i],o=s.obj[s.prop],a=Object.keys(o),u=0;u<a.length;++u){var l=a[u],c=o[l];typeof c=="object"&&c!==null&&r.indexOf(c)===-1&&(n.push({obj:o,prop:l}),r.push(c))}return v5(n),e},P5=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},R5=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},I5=function(e,n){return[].concat(e,n)},b5=function(e,n){if(Ss(e)){for(var r=[],i=0;i<e.length;i+=1)r.push(n(e[i]));return r}return n(e)},nC={arrayToObject:tC,assign:w5,combine:I5,compact:T5,decode:E5,encode:S5,isBuffer:R5,isRegExp:P5,maybeMap:b5,merge:_5},_y=nC,Yu=n0,A5=Object.prototype.hasOwnProperty,hT={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,n){return e+"["+n+"]"},repeat:function(e){return e}},ks=Array.isArray,O5=String.prototype.split,C5=Array.prototype.push,rC=function(t,e){C5.apply(t,ks(e)?e:[e])},x5=Date.prototype.toISOString,fT=Yu.default,Vt={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:_y.encode,encodeValuesOnly:!1,format:fT,formatter:Yu.formatters[fT],indices:!1,serializeDate:function(e){return x5.call(e)},skipNulls:!1,strictNullHandling:!1},k5=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},N5=function t(e,n,r,i,s,o,a,u,l,c,h,f,d,y){var g=e;if(typeof a=="function"?g=a(n,g):g instanceof Date?g=c(g):r==="comma"&&ks(g)&&(g=_y.maybeMap(g,function(L){return L instanceof Date?c(L):L})),g===null){if(i)return o&&!d?o(n,Vt.encoder,y,"key",h):n;g=""}if(k5(g)||_y.isBuffer(g)){if(o){var _=d?n:o(n,Vt.encoder,y,"key",h);if(r==="comma"&&d){for(var m=O5.call(String(g),","),p="",w=0;w<m.length;++w)p+=(w===0?"":",")+f(o(m[w],Vt.encoder,y,"value",h));return[f(_)+"="+p]}return[f(_)+"="+f(o(g,Vt.encoder,y,"value",h))]}return[f(n)+"="+f(String(g))]}var I=[];if(typeof g>"u")return I;var k;if(r==="comma"&&ks(g))k=[{value:g.length>0?g.join(",")||null:void 0}];else if(ks(a))k=a;else{var P=Object.keys(g);k=u?P.sort(u):P}for(var A=0;A<k.length;++A){var N=k[A],V=typeof N=="object"&&typeof N.value<"u"?N.value:g[N];if(!(s&&V===null)){var M=ks(g)?typeof r=="function"?r(n,N):n:n+(l?"."+N:"["+N+"]");rC(I,t(V,M,r,i,s,o,a,u,l,c,h,f,d,y))}}return I},D5=function(e){if(!e)return Vt;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=e.charset||Vt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=Yu.default;if(typeof e.format<"u"){if(!A5.call(Yu.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var i=Yu.formatters[r],s=Vt.filter;return(typeof e.filter=="function"||ks(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Vt.addQueryPrefix,allowDots:typeof e.allowDots>"u"?Vt.allowDots:!!e.allowDots,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Vt.charsetSentinel,delimiter:typeof e.delimiter>"u"?Vt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Vt.encode,encoder:typeof e.encoder=="function"?e.encoder:Vt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Vt.encodeValuesOnly,filter:s,format:r,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Vt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Vt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Vt.strictNullHandling}},j5=function(t,e){var n=t,r=D5(e),i,s;typeof r.filter=="function"?(s=r.filter,n=s("",n)):ks(r.filter)&&(s=r.filter,i=s);var o=[];if(typeof n!="object"||n===null)return"";var a;e&&e.arrayFormat in hT?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var u=hT[a];i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);for(var l=0;l<i.length;++l){var c=i[l];r.skipNulls&&n[c]===null||rC(o,N5(n[c],c,u,r.strictNullHandling,r.skipNulls,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset))}var h=o.join(r.delimiter),f=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?f+="utf8=%26%2310003%3B&":f+="utf8=%E2%9C%93&"),h.length>0?f+h:""},wa=nC,wy=Object.prototype.hasOwnProperty,F5=Array.isArray,Mt={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:wa.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},L5=function(t){return t.replace(/&#(\d+);/g,function(e,n){return String.fromCharCode(parseInt(n,10))})},iC=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},M5="utf8=%26%2310003%3B",V5="utf8=%E2%9C%93",$5=function(e,n){var r={},i=n.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=n.parameterLimit===1/0?void 0:n.parameterLimit,o=i.split(n.delimiter,s),a=-1,u,l=n.charset;if(n.charsetSentinel)for(u=0;u<o.length;++u)o[u].indexOf("utf8=")===0&&(o[u]===V5?l="utf-8":o[u]===M5&&(l="iso-8859-1"),a=u,u=o.length);for(u=0;u<o.length;++u)if(u!==a){var c=o[u],h=c.indexOf("]="),f=h===-1?c.indexOf("="):h+1,d,y;f===-1?(d=n.decoder(c,Mt.decoder,l,"key"),y=n.strictNullHandling?null:""):(d=n.decoder(c.slice(0,f),Mt.decoder,l,"key"),y=wa.maybeMap(iC(c.slice(f+1),n),function(g){return n.decoder(g,Mt.decoder,l,"value")})),y&&n.interpretNumericEntities&&l==="iso-8859-1"&&(y=L5(y)),c.indexOf("[]=")>-1&&(y=F5(y)?[y]:y),wy.call(r,d)?r[d]=wa.combine(r[d],y):r[d]=y}return r},U5=function(t,e,n,r){for(var i=r?e:iC(e,n),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&n.parseArrays)o=[].concat(i);else{o=n.plainObjects?Object.create(null):{};var u=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,l=parseInt(u,10);!n.parseArrays&&u===""?o={0:i}:!isNaN(l)&&a!==u&&String(l)===u&&l>=0&&n.parseArrays&&l<=n.arrayLimit?(o=[],o[l]=i):u!=="__proto__"&&(o[u]=i)}i=o}return i},B5=function(e,n,r,i){if(e){var s=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,u=r.depth>0&&o.exec(s),l=u?s.slice(0,u.index):s,c=[];if(l){if(!r.plainObjects&&wy.call(Object.prototype,l)&&!r.allowPrototypes)return;c.push(l)}for(var h=0;r.depth>0&&(u=a.exec(s))!==null&&h<r.depth;){if(h+=1,!r.plainObjects&&wy.call(Object.prototype,u[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(u[1])}return u&&c.push("["+s.slice(u.index)+"]"),U5(c,n,r,i)}},H5=function(e){if(!e)return Mt;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof e.charset>"u"?Mt.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?Mt.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Mt.allowPrototypes,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Mt.arrayLimit,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Mt.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Mt.comma,decoder:typeof e.decoder=="function"?e.decoder:Mt.decoder,delimiter:typeof e.delimiter=="string"||wa.isRegExp(e.delimiter)?e.delimiter:Mt.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Mt.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Mt.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Mt.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Mt.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Mt.strictNullHandling}},W5=function(t,e){var n=H5(e);if(t===""||t===null||typeof t>"u")return n.plainObjects?Object.create(null):{};for(var r=typeof t=="string"?$5(t,n):t,i=n.plainObjects?Object.create(null):{},s=Object.keys(r),o=0;o<s.length;++o){var a=s[o],u=B5(a,r[a],n,typeof t=="string");i=wa.merge(i,u,n)}return wa.compact(i)},z5=j5,q5=W5,Q5=n0,K5={formats:Q5,parse:q5,stringify:z5};const dT=Ta(K5);function Gl(t){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gl(t)}function G5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sC(r.key),r)}}function Y5(t,e,n){return e&&pT(t.prototype,e),n&&pT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function cn(t,e,n){return e=sC(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sC(t){var e=J5(t,"string");return Gl(e)==="symbol"?e:String(e)}function J5(t,e){if(Gl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mT=function(e){e&&(window.document.title=e)},X5=function(){function t(e){var n=this,r=e.windowTitle,i=e.writeDelay,s=i===void 0?400:i,o=e.createURL,a=e.parseURL,u=e.getLocation,l=e.start,c=e.dispose,h=e.push,f=e.cleanUrlOnDispose;G5(this,t),cn(this,"$$type","ais.browser"),cn(this,"windowTitle",void 0),cn(this,"writeDelay",void 0),cn(this,"_createURL",void 0),cn(this,"parseURL",void 0),cn(this,"getLocation",void 0),cn(this,"writeTimer",void 0),cn(this,"_onPopState",void 0),cn(this,"inPopState",!1),cn(this,"isDisposed",!1),cn(this,"latestAcknowledgedHistory",0),cn(this,"_start",void 0),cn(this,"_dispose",void 0),cn(this,"_push",void 0),cn(this,"_cleanUrlOnDispose",void 0),this.windowTitle=r,this.writeTimer=void 0,this.writeDelay=s,this._createURL=o,this.parseURL=a,this.getLocation=u,this._start=l,this._dispose=c,this._push=h,this._cleanUrlOnDispose=typeof f>"u"?!0:f,Ci(function(d){var y=d.window,g=n.windowTitle&&n.windowTitle(n.read());mT(g),n.latestAcknowledgedHistory=y.history.length})}return Y5(t,[{key:"read",value:function(){return this.parseURL({qsModule:dT,location:this.getLocation()})}},{key:"write",value:function(n){var r=this;Ci(function(i){var s=i.window,o=r.createURL(n),a=r.windowTitle&&r.windowTitle(n);r.writeTimer&&clearTimeout(r.writeTimer),r.writeTimer=setTimeout(function(){mT(a),r.shouldWrite(o)&&(r._push?r._push(o):s.history.pushState(n,a||"",o),r.latestAcknowledgedHistory=s.history.length),r.inPopState=!1,r.writeTimer=void 0},r.writeDelay)})}},{key:"onUpdate",value:function(n){var r=this;this._start&&this._start(function(){n(r.read())}),this._onPopState=function(){r.writeTimer&&(clearTimeout(r.writeTimer),r.writeTimer=void 0),r.inPopState=!0,n(r.read())},Ci(function(i){var s=i.window;s.addEventListener("popstate",r._onPopState)})}},{key:"createURL",value:function(n){var r=this._createURL({qsModule:dT,routeState:n,location:this.getLocation()});return r}},{key:"dispose",value:function(){var n=this;this._dispose&&this._dispose(),this.isDisposed=!0,Ci(function(r){var i=r.window;n._onPopState&&i.removeEventListener("popstate",n._onPopState)}),this.writeTimer&&clearTimeout(this.writeTimer),this._cleanUrlOnDispose&&this.write({})}},{key:"start",value:function(){this.isDisposed=!1}},{key:"shouldWrite",value:function(n){var r=this;return Ci(function(i){var s=i.window,o=!(r.isDisposed&&r.latestAcknowledgedHistory!==s.history.length);return!r.inPopState&&o&&n!==s.location.href})}}]),t}();function Z5(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.createURL,n=e===void 0?function(y){var g=y.qsModule,_=y.routeState,m=y.location,p=m.protocol,w=m.hostname,I=m.port,k=I===void 0?"":I,P=m.pathname,A=m.hash,N=g.stringify(_),V=k===""?"":":".concat(k);return N?"".concat(p,"//").concat(w).concat(V).concat(P,"?").concat(N).concat(A):"".concat(p,"//").concat(w).concat(V).concat(P).concat(A)}:e,r=t.parseURL,i=r===void 0?function(y){var g=y.qsModule,_=y.location;return g.parse(_.search.slice(1),{arrayLimit:99})}:r,s=t.writeDelay,o=s===void 0?400:s,a=t.windowTitle,u=t.getLocation,l=u===void 0?function(){return Ci(function(y){var g=y.window;return g.location},{fallback:function(){throw new Error("You need to provide `getLocation` to the `history` router in environments where `window` does not exist.")}})}:u,c=t.start,h=t.dispose,f=t.push,d=t.cleanUrlOnDispose;return new X5({createURL:n,parseURL:i,writeDelay:o,windowTitle:a,getLocation:l,start:c,dispose:h,push:f,cleanUrlOnDispose:d})}function Yl(t){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yl(t)}var eW=["configure"];function gT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gT(Object(n),!0).forEach(function(r){Ey(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ey(t,e,n){return e=tW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tW(t){var e=nW(t,"string");return Yl(e)==="symbol"?e:String(e)}function nW(t,e){if(Yl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rW(t,e){if(t==null)return{};var n=iW(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iW(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function yT(t){t.configure;var e=rW(t,eW);return e}function sW(){return{$$type:"ais.simple",stateToRoute:function(e){return Object.keys(e).reduce(function(n,r){return wh(wh({},n),{},Ey({},r,yT(e[r])))},{})},routeToState:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(e).reduce(function(n,r){return wh(wh({},n),{},Ey({},r,yT(e[r])))},{})}}}function Jl(t){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(t)}function vT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Eh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vT(Object(n),!0).forEach(function(r){oC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oC(t,e,n){return e=oW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oW(t){var e=aW(t,"string");return Jl(e)==="symbol"?e:String(e)}function aW(t,e){if(Jl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uW=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.router,r=n===void 0?Z5():n,i=e.stateMapping,s=i===void 0?sW():i,o=e.$$internal,a=o===void 0?!1:o;return function(u){var l=u.instantSearchInstance;function c(d){var y=l.mainIndex.getWidgets().length===0?l._initialUiState:l.mainIndex.getWidgetUiState({}),g=Object.keys(d).reduce(function(m,p){return Eh(Eh({},m),{},oC({},p,d[p]))},y),_=s.stateToRoute(g);return r.createURL(_)}l._createURL=c;var h=void 0,f=l._initialUiState;return{$$type:"ais.router({router:".concat(r.$$type||"__unknown__",", stateMapping:").concat(s.$$type||"__unknown__","})"),$$internal:a,onStateChange:function(y){var g=y.uiState,_=s.stateToRoute(g);(h===void 0||!VO(h,_))&&(r.write(_),h=_)},subscribe:function(){l._initialUiState=Eh(Eh({},f),s.routeToState(r.read())),r.onUpdate(function(y){l.mainIndex.getWidgets().length>0&&l.setUiState(s.routeToState(y))})},started:function(){var y;(y=r.start)===null||y===void 0||y.call(r)},unsubscribe:function(){r.dispose()}}}};function lW(t,e){return t.toLocaleString(e)}function Xl(t){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xl(t)}function _T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_T(Object(n),!0).forEach(function(r){cW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_T(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cW(t,e,n){return e=hW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hW(t){var e=fW(t,"string");return Xl(e)==="symbol"?e:String(e)}function fW(t,e){if(Xl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dW(t){var e=t.numberLocale;return{formatNumber:function(r,i){return lW(Number(i(r)),e)},highlight:function(r,i){try{var s=JSON.parse(r);return i(W9(zr(zr({},s),{},{hit:this})))}catch{throw new Error(`
The highlight helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseHighlight:function(r,i){try{var s=JSON.parse(r);return i(q9(zr(zr({},s),{},{hit:this})))}catch{throw new Error(`
  The reverseHighlight helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},snippet:function(r,i){try{var s=JSON.parse(r);return i(K9(zr(zr({},s),{},{hit:this})))}catch{throw new Error(`
The snippet helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseSnippet:function(r,i){try{var s=JSON.parse(r);return i(Y9(zr(zr({},s),{},{hit:this})))}catch{throw new Error(`
  The reverseSnippet helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},insights:function(r,i){try{var s=JSON.parse(r),o=s.method,a=s.payload;return i(X9(o,zr({objectIDs:[this.objectID]},a)))}catch{throw new Error(`
The insights helper expects a JSON object of the format:
{ "method": "method-name", "payload": { "eventName": "name of the event" } }`)}}}}const pW="4.65.0";function Ea(t){"@babel/helpers - typeof";return Ea=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ea(t)}function wT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wT(Object(n),!0).forEach(function(r){ze(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ET(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aC(r.key),r)}}function gW(t,e,n){return e&&ET(t.prototype,e),n&&ET(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sy(t,e)}function Sy(t,e){return Sy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Sy(t,e)}function vW(t){var e=wW();return function(){var r=zf(t),i;if(e){var s=zf(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return _W(this,i)}}function _W(t,e){if(e&&(Ea(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ue(t)}function Ue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wW(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zf(t){return zf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zf(t)}function ze(t,e,n){return e=aC(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aC(t){var e=EW(t,"string");return Ea(e)==="symbol"?e:String(e)}function EW(t,e){if(Ea(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ea(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mr=uo({name:"instantsearch"});function SW(){return"#"}var uC={preserveSharedStateOnUnmount:!1,persistHierarchicalRootCount:!1},TW=function(t){yW(n,t);var e=vW(n);function n(r){var i;mW(this,n),i=e.call(this),ze(Ue(i),"client",void 0),ze(Ue(i),"indexName",void 0),ze(Ue(i),"insightsClient",void 0),ze(Ue(i),"onStateChange",null),ze(Ue(i),"future",void 0),ze(Ue(i),"helper",void 0),ze(Ue(i),"mainHelper",void 0),ze(Ue(i),"mainIndex",void 0),ze(Ue(i),"started",void 0),ze(Ue(i),"templatesConfig",void 0),ze(Ue(i),"renderState",{}),ze(Ue(i),"_stalledSearchDelay",void 0),ze(Ue(i),"_searchStalledTimer",void 0),ze(Ue(i),"_initialUiState",void 0),ze(Ue(i),"_initialResults",void 0),ze(Ue(i),"_createURL",void 0),ze(Ue(i),"_searchFunction",void 0),ze(Ue(i),"_mainHelperSearch",void 0),ze(Ue(i),"_insights",void 0),ze(Ue(i),"middleware",[]),ze(Ue(i),"sendEventToInsights",void 0),ze(Ue(i),"status","idle"),ze(Ue(i),"error",void 0),ze(Ue(i),"scheduleSearch",pu(function(){i.started&&i.mainHelper.search()})),ze(Ue(i),"scheduleRender",pu(function(){var L,ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;(L=i.mainHelper)!==null&&L!==void 0&&L.hasPendingRequests()||(clearTimeout(i._searchStalledTimer),i._searchStalledTimer=null,ye&&(i.status="idle",i.error=void 0)),i.mainIndex.render({instantSearchInstance:Ue(i)}),i.emit("render")})),ze(Ue(i),"onInternalStateChange",pu(function(){var L=i.mainIndex.getWidgetUiState({});i.middleware.forEach(function(ye){var Pe=ye.instance;Pe.onStateChange({uiState:L})})})),i.setMaxListeners(100);var s=r.indexName,o=s===void 0?"":s,a=r.numberLocale,u=r.initialUiState,l=u===void 0?{}:u,c=r.routing,h=c===void 0?null:c,f=r.insights,d=f===void 0?void 0:f,y=r.searchFunction,g=r.stalledSearchDelay,_=g===void 0?200:g,m=r.searchClient,p=m===void 0?null:m,w=r.insightsClient,I=w===void 0?null:w,k=r.onStateChange,P=k===void 0?null:k,A=r.future,N=A===void 0?Pm(Pm({},uC),r.future||{}):A;if(p===null)throw new Error(mr("The `searchClient` option is required."));if(typeof p.search!="function")throw new Error("The `searchClient` must implement a `search` method.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/");if(typeof p.addAlgoliaAgent=="function"&&p.addAlgoliaAgent("instantsearch.js (".concat(pW,")")),I&&typeof I!="function")throw new Error(mr("The `insightsClient` option should be a function."));if(i.client=p,i.future=N,i.insightsClient=I,i.indexName=o,i.helper=null,i.mainHelper=null,i.mainIndex=N9({indexName:o}),i.onStateChange=P,i.started=!1,i.templatesConfig={helpers:dW({numberLocale:a}),compileOptions:{}},i._stalledSearchDelay=_,i._searchStalledTimer=null,i._createURL=SW,i._initialUiState=l,i._initialResults=null,i._insights=d,y&&(i._searchFunction=y),i.sendEventToInsights=fn,h){var V=typeof h=="boolean"?{}:h;V.$$internal=!0,i.use(uW(V))}if(d){var M=typeof d=="boolean"?{}:d;M.$$internal=!0,i.use(lT(M))}return d5()&&i.use(p5({$$internal:!0})),i}return gW(n,[{key:"_isSearchStalled",get:function(){return this.status==="stalled"}},{key:"use",value:function(){for(var i=this,s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];var u=o.map(function(l){var c=Pm({$$type:"__unknown__",$$internal:!1,subscribe:fn,started:fn,unsubscribe:fn,onStateChange:fn},l({instantSearchInstance:i}));return i.middleware.push({creator:l,instance:c}),c});return this.started&&u.forEach(function(l){l.subscribe(),l.started()}),this}},{key:"unuse",value:function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return this.middleware.filter(function(a){return s.includes(a.creator)}).forEach(function(a){return a.instance.unsubscribe()}),this.middleware=this.middleware.filter(function(a){return!s.includes(a.creator)}),this}},{key:"EXPERIMENTAL_use",value:function(){return this.use.apply(this,arguments)}},{key:"addWidget",value:function(i){return this.addWidgets([i])}},{key:"addWidgets",value:function(i){if(!Array.isArray(i))throw new Error(mr("The `addWidgets` method expects an array of widgets. Please use `addWidget`."));if(i.some(function(s){return typeof s.init!="function"&&typeof s.render!="function"}))throw new Error(mr("The widget definition expects a `render` and/or an `init` method."));return this.mainIndex.addWidgets(i),this}},{key:"removeWidget",value:function(i){return this.removeWidgets([i])}},{key:"removeWidgets",value:function(i){if(!Array.isArray(i))throw new Error(mr("The `removeWidgets` method expects an array of widgets. Please use `removeWidget`."));if(i.some(function(s){return typeof s.dispose!="function"}))throw new Error(mr("The widget definition expects a `dispose` method."));return this.mainIndex.removeWidgets(i),this}},{key:"start",value:function(){var i=this;if(this.started)throw new Error(mr("The `start` method has already been called once."));var s=this.mainHelper||Bn(this.client,this.indexName,void 0,{persistHierarchicalRootCount:this.future.persistHierarchicalRootCount});if(s.search=function(){return i.status="loading",i.scheduleRender(!1),s.searchOnlyWithDerivedHelpers()},this._searchFunction){var o={search:function(){return new Promise(fn)}};this._mainHelperSearch=s.search.bind(s),s.search=function(){var u=i.mainIndex.getHelper(),l=Bn(o,u.state.index,u.state);return l.once("search",function(c){var h=c.state;u.overrideStateWithoutTriggeringChangeEvent(h),i._mainHelperSearch()}),l.on("change",function(c){var h=c.state;u.setState(h)}),i._searchFunction(l),s}}if(s.on("error",function(u){var l=u.error;if(!(l instanceof Error)){var c=l;l=Object.keys(c).reduce(function(h,f){return h[f]=c[f],h},new Error(c.message))}l.error=l,i.error=l,i.status="error",i.scheduleRender(!1),i.emit("error",l)}),this.mainHelper=s,this.middleware.forEach(function(u){var l=u.instance;l.subscribe()}),this.mainIndex.init({instantSearchInstance:this,parent:null,uiState:this._initialUiState}),this._initialResults){g6(this.client,this._initialResults);var a=this.scheduleSearch;this.scheduleSearch=pu(fn),pu(function(){i.scheduleSearch=a})()}else this.mainIndex.getWidgets().length>0&&this.scheduleSearch();this.helper=this.mainIndex.getHelper(),this.started=!0,this.middleware.forEach(function(u){var l=u.instance;l.started()}),typeof this._insights>"u"&&s.derivedHelpers[0].once("result",function(){var u=i.mainIndex.getScopedResults().some(function(l){var c=l.results;return c?._automaticInsights});u&&i.use(lT({$$internal:!0,$$automatic:!0}))})}},{key:"dispose",value:function(){var i;this.scheduleSearch.cancel(),this.scheduleRender.cancel(),clearTimeout(this._searchStalledTimer),this.removeWidgets(this.mainIndex.getWidgets()),this.mainIndex.dispose(),this.started=!1,this.removeAllListeners(),(i=this.mainHelper)===null||i===void 0||i.removeAllListeners(),this.mainHelper=null,this.helper=null,this.middleware.forEach(function(s){var o=s.instance;o.unsubscribe()})}},{key:"scheduleStalledRender",value:function(){var i=this;this._searchStalledTimer||(this._searchStalledTimer=setTimeout(function(){i.status="stalled",i.scheduleRender()},this._stalledSearchDelay))}},{key:"setUiState",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!this.mainHelper)throw new Error(mr("The `start` method needs to be called before `setUiState`."));this.mainIndex.refreshUiState();var a=typeof i=="function"?i(this.mainIndex.getWidgetUiState({})):i;this.onStateChange&&o?this.onStateChange({uiState:a,setUiState:function(l){fy(typeof l=="function"?l(a):l,s.mainIndex),s.scheduleSearch(),s.onInternalStateChange()}}):(fy(a,this.mainIndex),this.scheduleSearch(),this.onInternalStateChange())}},{key:"getUiState",value:function(){return this.started&&this.mainIndex.refreshUiState(),this.mainIndex.getWidgetUiState({})}},{key:"createURL",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.started)throw new Error(mr("The `start` method needs to be called before `createURL`."));return this._createURL(i)}},{key:"refresh",value:function(){if(!this.mainHelper)throw new Error(mr("The `start` method needs to be called before `refresh`."));this.mainHelper.clearCache().search()}}]),n}(hB),lC={exports:{}},cC={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sa=O;function PW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var RW=typeof Object.is=="function"?Object.is:PW,IW=Sa.useState,bW=Sa.useEffect,AW=Sa.useLayoutEffect,OW=Sa.useDebugValue;function CW(t,e){var n=e(),r=IW({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return AW(function(){i.value=n,i.getSnapshot=e,Rm(i)&&s({inst:i})},[t,n,e]),bW(function(){return Rm(i)&&s({inst:i}),t(function(){Rm(i)&&s({inst:i})})},[t]),OW(n),n}function Rm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!RW(t,n)}catch{return!0}}function xW(t,e){return e()}var kW=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?xW:CW;cC.useSyncExternalStore=Sa.useSyncExternalStore!==void 0?Sa.useSyncExternalStore:kW;lC.exports=cC;var NW=lC.exports,DW={};function Zl(t){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zl(t)}function ST(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ST(Object(n),!0).forEach(function(r){jW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ST(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jW(t,e,n){return e=FW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FW(t){var e=LW(t,"string");return Zl(e)==="symbol"?e:String(e)}function LW(t,e){if(Zl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PT=["react (".concat(O.version,")"),"react-instantsearch (".concat(oy,")"),"react-instantsearch-core (".concat(oy,")")],RT="react-instantsearch-server (".concat(oy,")"),MW=function(e){return e?"next.js (".concat(e,")"):null};function VW(t){var e=V9(),n=qO(),r=U9(),i=QO(),s=r?.initialResults,o=O.useRef(t),a=n||s||i,u=O.useRef(null);if(r&&(u=r.ssrSearchRef),u.current===null){var l=new TW(t);l._schedule=function(_){l._schedule.queue.push(_),clearTimeout(l._schedule.timer),l._schedule.timer=setTimeout(function(){l._schedule.queue.forEach(function(m){m()}),l._schedule.queue=[]},0)},l._schedule.queue=[],a&&(l._initialResults=s||{}),IT(t.searchClient,[].concat(PT,[n&&RT,MW($W())])),a&&l.start(),n&&n.notifyServer({search:l}),t.routing,u.current=l}{var c=u.current,h=o.current;if(h.indexName!==t.indexName&&(c.helper.setIndex(t.indexName||"").search(),o.current=t),h.searchClient!==t.searchClient&&(IT(t.searchClient,[].concat(PT,[n&&RT])),c.mainHelper.setClient(t.searchClient).search(),o.current=t),h.onStateChange!==t.onStateChange&&(c.onStateChange=t.onStateChange,o.current=t),h.searchFunction!==t.searchFunction&&(c._searchFunction=t.searchFunction,o.current=t),h.stalledSearchDelay!==t.stalledSearchDelay){var f;c._stalledSearchDelay=(f=t.stalledSearchDelay)!==null&&f!==void 0?f:200,o.current=t}_a(h.future,t.future)||(c.future=TT(TT({},uC),t.future),o.current=t)}var d=O.useRef(null),y=NW.useSyncExternalStore(O.useCallback(function(){var g=u.current;return d.current===null?g.started||(g.start(),e()):(clearTimeout(d.current),g._preventWidgetCleanup=!1),function(){function _(){g.dispose()}clearTimeout(g._schedule.timer),d.current=setTimeout(_),g._preventWidgetCleanup=!0}},[e]),function(){return u.current},function(){return u.current});return y}function IT(t,e){typeof t.addAlgoliaAgent=="function"&&e.filter(Boolean).forEach(function(n){t.addAlgoliaAgent(n)})}function $W(){var t,e;return typeof window<"u"&&((t=window.next)===null||t===void 0?void 0:t.version)||(typeof process<"u"?(e=DW)===null||e===void 0?void 0:e.NEXT_RUNTIME:void 0)}var UW=["children"];function BW(t,e){if(t==null)return{};var n=HW(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function HW(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function WW(t){var e=t.children,n=BW(t,UW),r=VW(n);return r.started?ie.createElement(WO.Provider,{value:r},ie.createElement(HO.Provider,{value:r.mainIndex},e)):null}function ec(t){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ec(t)}function bT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bT(Object(n),!0).forEach(function(r){hC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hC(t,e,n){return e=zW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zW(t){var e=qW(t,"string");return ec(e)==="symbol"?e:String(e)}function qW(t,e){if(ec(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ec(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QW=uo({name:"hits",connector:!0}),KW=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:fn;return Zd(e,QW()),function(r){var i=r||{},s=i.escapeHTML,o=s===void 0?!0:s,a=i.transformItems,u=a===void 0?function(h){return h}:a,l,c;return{$$type:"ais.hits",init:function(f){e(wi(wi({},this.getWidgetRenderState(f)),{},{instantSearchInstance:f.instantSearchInstance}),!0)},render:function(f){var d=this.getWidgetRenderState(f);e(wi(wi({},d),{},{instantSearchInstance:f.instantSearchInstance}),!1),d.sendEvent("view:internal",d.hits)},getRenderState:function(f,d){return wi(wi({},f),{},{hits:this.getWidgetRenderState(d)})},getWidgetRenderState:function(f){var d=f.results,y=f.helper,g=f.instantSearchInstance;if(l||(l=qH({instantSearchInstance:g,getIndex:function(){return y.getIndex()},widgetType:this.$$type})),c||(c=QH({getIndex:function(){return y.getIndex()},widgetType:this.$$type,instantSearchInstance:g})),!d)return{hits:[],results:void 0,sendEvent:l,bindEvent:c,widgetParams:r};o&&d.hits.length>0&&(d.hits=PH(d.hits));var _=i6(d.hits,d.page,d.hitsPerPage),m=u6(_,d.queryID),p=u(m,{results:d});return{hits:p,results:d,sendEvent:l,bindEvent:c,widgetParams:r}},dispose:function(f){var d=f.state;return n(),o?d.setQueryParameters(Object.keys(ga).reduce(function(y,g){return wi(wi({},y),{},hC({},g,void 0))},{})):d},getWidgetSearchParameters:function(f){return o?f.setQueryParameters(ga):f}}}};const GW=KW;function YW(t,e){return Fc(GW,t,e)}function tc(t){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tc(t)}function JW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fC(r.key),r)}}function XW(t,e,n){return e&&AT(t.prototype,e),n&&AT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Im(t,e,n){return e=fC(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fC(t){var e=ZW(t,"string");return tc(e)==="symbol"?e:String(e)}function ZW(t,e){if(tc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(tc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ez=function(){function t(e){JW(this,t),Im(this,"currentPage",void 0),Im(this,"total",void 0),Im(this,"padding",void 0),this.currentPage=e.currentPage,this.total=e.total,this.padding=e.padding}return XW(t,[{key:"pages",value:function(){var n=this.total,r=this.currentPage,i=this.padding;if(n===0)return[0];var s=this.nbPagesDisplayed(i,n);if(s===n)return WS({end:n});var o=this.calculatePaddingLeft(r,i,n,s),a=s-o,u=r-o,l=r+a;return WS({start:u,end:l})}},{key:"nbPagesDisplayed",value:function(n,r){return Math.min(2*n+1,r)}},{key:"calculatePaddingLeft",value:function(n,r,i,s){return n<=r?n:n>=i-r?s-(i-n):r}},{key:"isLastPage",value:function(){return this.currentPage===this.total-1||this.total===0}},{key:"isFirstPage",value:function(){return this.currentPage===0}}]),t}();function nc(t){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nc(t)}function OT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OT(Object(n),!0).forEach(function(r){tz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tz(t,e,n){return e=nz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nz(t){var e=rz(t,"string");return nc(e)==="symbol"?e:String(e)}function rz(t,e){if(nc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(nc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iz=uo({name:"pagination",connector:!0}),sz=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:fn;return Zd(e,iz()),function(r){var i=r||{},s=i.totalPages,o=i.padding,a=o===void 0?3:o,u=new ez({currentPage:0,total:0,padding:a}),l={};function c(h){var f=h.nbPages;return s!==void 0?Math.min(s,f):f}return{$$type:"ais.pagination",init:function(f){var d=f.instantSearchInstance;e(gr(gr({},this.getWidgetRenderState(f)),{},{instantSearchInstance:d}),!0)},render:function(f){var d=f.instantSearchInstance;e(gr(gr({},this.getWidgetRenderState(f)),{},{instantSearchInstance:d}),!1)},dispose:function(f){var d=f.state;return n(),d.setQueryParameter("page",void 0)},getWidgetUiState:function(f,d){var y=d.searchParameters,g=y.page||0;return g?gr(gr({},f),{},{page:g+1}):f},getWidgetSearchParameters:function(f,d){var y=d.uiState,g=y.page?y.page-1:0;return f.setQueryParameter("page",g)},getWidgetRenderState:function(f){var d=f.results,y=f.helper,g=f.state,_=f.createURL;l.refine||(l.refine=function(w){y.setPage(w),y.search()}),l.createURL||(l.createURL=function(w){return _(function(I){return gr(gr({},I),{},{page:w+1})})});var m=g.page||0,p=c(d||{nbPages:0});return u.currentPage=m,u.total=p,{createURL:l.createURL,refine:l.refine,canRefine:p>1,currentRefinement:m,nbHits:d?.nbHits||0,nbPages:p,pages:d?u.pages():[],isFirstPage:u.isFirstPage(),isLastPage:u.isLastPage(),widgetParams:r}},getRenderState:function(f,d){return gr(gr({},f),{},{pagination:this.getWidgetRenderState(d)})}}}};const oz=sz;function az(t,e){return Fc(oz,t,e)}function rc(t){"@babel/helpers - typeof";return rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rc(t)}var uz=["name","escapedValue"],lz=["escapedValue","value"];function CT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CT(Object(n),!0).forEach(function(r){ku(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ku(t,e,n){return e=cz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cz(t){var e=hz(t,"string");return rc(e)==="symbol"?e:String(e)}function hz(t,e){if(rc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xT(t,e){if(t==null)return{};var n=fz(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fz(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Sh=uo({name:"refinement-list",connector:!0}),kT=["isRefined","count:desc","name:asc"],dz=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:fn;return Zd(e,Sh()),function(r){var i=r||{},s=i.attribute,o=i.operator,a=o===void 0?"or":o,u=i.limit,l=u===void 0?10:u,c=i.showMore,h=c===void 0?!1:c,f=i.showMoreLimit,d=f===void 0?20:f,y=i.sortBy,g=y===void 0?kT:y,_=i.escapeFacetValues,m=_===void 0?!0:_,p=i.transformItems,w=p===void 0?function(ne){return ne}:p;if(!s)throw new Error(Sh("The `attribute` option is required."));if(!/^(and|or)$/.test(a))throw new Error(Sh('The `operator` must one of: `"and"`, `"or"` (got "'.concat(a,'").')));if(h===!0&&d<=l)throw new Error(Sh("`showMoreLimit` should be greater than `limit`."));var I=function(D){var W=D.name,K=D.escapedValue,ae=xT(D,uz);return Qe(Qe({},ae),{},{value:K,label:W,highlighted:W})},k,P=[],A=!0,N,V,M=!1,L=function(){};function ye(){L()}function Pe(ne,D){return function(){M=!M,D.render(ne)}}function Le(){return M?d:l}var Be=function(){return function(){}},He=function(D,W){return function(K){return function(ae){var Te=K.instantSearchInstance,Rt=K.results;if(ae===""&&P)e(Qe(Qe({},W.getWidgetRenderState(Qe(Qe({},K),{},{results:k}))),{},{instantSearchInstance:Te}),!1);else{var Me={highlightPreTag:m?ga.highlightPreTag:un.highlightPreTag,highlightPostTag:m?ga.highlightPostTag:un.highlightPostTag};D.searchForFacetValues(s,ae,Math.min(Le(),100),Me).then(function(tt){var Ve=m?RH(tt.facetHits):tt.facetHits,It=w(Ve.map(function(yn){var jn=yn.escapedValue,us=yn.value,bt=xT(yn,lz);return Qe(Qe({},bt),{},{value:jn,label:us})}),{results:Rt});e(Qe(Qe({},W.getWidgetRenderState(Qe(Qe({},K),{},{results:k}))),{},{items:It,canToggleShowMore:!1,canRefine:!0,isFromSearch:!0,instantSearchInstance:Te}),!1)})}}}};return{$$type:"ais.refinementList",init:function(D){e(Qe(Qe({},this.getWidgetRenderState(D)),{},{instantSearchInstance:D.instantSearchInstance}),!0)},render:function(D){e(Qe(Qe({},this.getWidgetRenderState(D)),{},{instantSearchInstance:D.instantSearchInstance}),!1)},getRenderState:function(D,W){return Qe(Qe({},D),{},{refinementList:Qe(Qe({},D.refinementList),{},ku({},s,this.getWidgetRenderState(W)))})},getWidgetRenderState:function(D){var W=this,K=D.results,ae=D.state,Te=D.createURL,Rt=D.instantSearchInstance,Me=D.helper,tt=[],Ve=[];if((!V||!N||!Be)&&(V=FH({instantSearchInstance:Rt,helper:Me,attribute:s,widgetType:this.$$type}),N=function(vn){V("click:internal",vn),Me.toggleFacetRefinement(s,vn).search()},Be=He(Me,this)),K){var It=K.getFacetValues(s,{sortBy:g,facetOrdering:g===kT});Ve=It&&Array.isArray(It)?It:[],tt=w(Ve.slice(0,Le()).map(I),{results:K});var yn=ae.maxValuesPerFacet,jn=Le();A=yn>jn?Ve.length<=jn:Ve.length<jn,k=K,P=tt,D.results&&(L=Pe(D,this))}var us=Be&&Be(D),bt=M&&P.length>l,Ur=h&&!A,Br=bt||Ur;return{createURL:function(vn){return Te(function(Ma){return W.getWidgetUiState(Ma,{searchParameters:ae.resetPage().toggleFacetRefinement(s,vn),helper:Me})})},items:tt,refine:N,searchForItems:us,isFromSearch:!1,canRefine:tt.length>0,widgetParams:r,isShowingMore:M,canToggleShowMore:Br,toggleShowMore:ye,sendEvent:V,hasExhaustiveItems:A}},dispose:function(D){var W=D.state;n();var K=W.setQueryParameter("maxValuesPerFacet",void 0);return a==="and"?K.removeFacet(s):K.removeDisjunctiveFacet(s)},getWidgetUiState:function(D,W){var K=W.searchParameters,ae=a==="or"?K.getDisjunctiveRefinements(s):K.getConjunctiveRefinements(s);return pz(Qe(Qe({},D),{},{refinementList:Qe(Qe({},D.refinementList),{},ku({},s,ae))}),s)},getWidgetSearchParameters:function(D,W){var K=W.uiState,ae=a==="or";if(D.isHierarchicalFacet(s)||ae&&D.isConjunctiveFacet(s)||!ae&&D.isDisjunctiveFacet(s))return D;var Te=K.refinementList&&K.refinementList[s],Rt=ae?D.addDisjunctiveFacet(s).removeDisjunctiveFacetRefinement(s):D.addFacet(s).removeFacetRefinement(s),Me=Rt.maxValuesPerFacet||0,tt=Math.max(Me,h?d:l),Ve=Rt.setQueryParameter("maxValuesPerFacet",tt);if(!Te){var It=ae?"disjunctiveFacetsRefinements":"facetsRefinements";return Ve.setQueryParameters(ku({},It,Qe(Qe({},Ve[It]),{},ku({},s,[]))))}return Te.reduce(function(yn,jn){return ae?yn.addDisjunctiveFacetRefinement(s,jn):yn.addFacetRefinement(s,jn)},Ve)}}}};function pz(t,e){return t.refinementList&&((!t.refinementList[e]||t.refinementList[e].length===0)&&delete t.refinementList[e],Object.keys(t.refinementList).length===0&&delete t.refinementList),t}const mz=dz;function gz(t,e){return Fc(mz,t,e)}function ic(t){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ic(t)}function NT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ei(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NT(Object(n),!0).forEach(function(r){yz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yz(t,e,n){return e=vz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vz(t){var e=_z(t,"string");return ic(e)==="symbol"?e:String(e)}function _z(t,e){if(ic(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ic(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wz=uo({name:"search-box",connector:!0}),Ez=function(e,n){return n(e)},Sz=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:fn;return Zd(e,wz()),function(r){var i=r||{},s=i.queryHook,o=s===void 0?Ez:s,a,u;return{$$type:"ais.searchBox",init:function(c){var h=c.instantSearchInstance;e(Ei(Ei({},this.getWidgetRenderState(c)),{},{instantSearchInstance:h}),!0)},render:function(c){var h=c.instantSearchInstance;e(Ei(Ei({},this.getWidgetRenderState(c)),{},{instantSearchInstance:h}),!1)},dispose:function(c){var h=c.state;return n(),h.setQueryParameter("query",void 0)},getRenderState:function(c,h){return Ei(Ei({},c),{},{searchBox:this.getWidgetRenderState(h)})},getWidgetRenderState:function(c){var h=c.helper,f=c.instantSearchInstance,d=c.state;return a||(a=function(g){o(g,function(_){return h.setQuery(_).search()})},u=function(){h.setQuery("").search()}),{query:d.query||"",refine:a,clear:u,widgetParams:r,isSearchStalled:f.status==="stalled"}},getWidgetUiState:function(c,h){var f=h.searchParameters,d=f.query||"";return d===""||c&&c.query===d?c:Ei(Ei({},c),{},{query:d})},getWidgetSearchParameters:function(c,h){var f=h.uiState;return c.setQueryParameter("query",f.query||"")}}}};const Tz=Sz;function Pz(t,e){return Fc(Tz,t,e)}function Ty(){return Ty=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ty.apply(this,arguments)}function Rz(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Iz(t,e){if(t==null)return{};var n=Rz(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function me(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce(function(r,i){return Array.isArray(i)?r.concat(i):r.concat([i])},[]).filter(Boolean).join(" ")}var bz=["parts","highlightedTagName","nonHighlightedTagName","separator","className","classNames"];function Az(t){var e=t.createElement;return function(r){var i=r.classNames,s=r.children,o=r.highlightedTagName,a=r.isHighlighted,u=r.nonHighlightedTagName,l=a?o:u;return e(l,{className:a?i.highlighted:i.nonHighlighted},s)}}function Oz(t){var e=t.createElement,n=t.Fragment,r=Az({createElement:e,Fragment:n});return function(s){var o=s.parts,a=s.highlightedTagName,u=a===void 0?"mark":a,l=s.nonHighlightedTagName,c=l===void 0?"span":l,h=s.separator,f=h===void 0?", ":h,d=s.className,y=s.classNames,g=y===void 0?{}:y,_=Iz(s,bz);return e("span",Ty({},_,{className:me(g.root,d)}),o.map(function(m,p){var w=p===o.length-1;return e(n,{key:p},m.map(function(I,k){return e(r,{key:k,classNames:g,highlightedTagName:u,nonHighlightedTagName:c,isHighlighted:I.isHighlighted},I.value)}),!w&&e("span",{className:g.separator},f))}))}}function Cz(t){var e=t.button===1;return!!(e||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)}var xz=["isShowingMore","translations"];function kz(t,e){if(t==null)return{};var n=Nz(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nz(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Dz(t){var e=t.isShowingMore,n=t.translations,r=kz(t,xz);return ie.createElement("button",r,n.showMoreButtonText({isShowingMore:e}))}var jz=Oz({createElement:O.createElement,Fragment:O.Fragment}),Fz=["classNames"];function Py(){return Py=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Py.apply(this,arguments)}function Lz(t,e){if(t==null)return{};var n=Mz(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mz(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Vz(t){var e=t.classNames,n=e===void 0?{}:e,r=Lz(t,Fz);return ie.createElement(jz,Py({classNames:{root:me("ais-Highlight",n.root),highlighted:me("ais-Highlight-highlighted",n.highlighted),nonHighlighted:me("ais-Highlight-nonHighlighted",n.nonHighlighted),separator:me("ais-Highlight-separator",n.separator)}},r))}var $z=["hits","sendEvent","hitComponent","classNames"];function Ry(){return Ry=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ry.apply(this,arguments)}function Uz(t,e){if(t==null)return{};var n=Bz(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Bz(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Hz(t){var e=t.hit;return ie.createElement("div",{style:{wordBreak:"break-all"}},JSON.stringify(e).slice(0,100),"…")}function Wz(t){var e=t.hits,n=t.sendEvent,r=t.hitComponent,i=r===void 0?Hz:r,s=t.classNames,o=s===void 0?{}:s,a=Uz(t,$z);return ie.createElement("div",Ry({},a,{className:me("ais-Hits",o.root,e.length===0&&me("ais-Hits--empty",o.emptyRoot),a.className)}),ie.createElement("ol",{className:me("ais-Hits-list",o.list)},e.map(function(u){return ie.createElement("li",{key:u.objectID,className:me("ais-Hits-item",o.item),onClick:function(){n("click:internal",u,"Hit Clicked")},onAuxClick:function(){n("click:internal",u,"Hit Clicked")}},ie.createElement(i,{hit:u,sendEvent:n}))})))}var zz=["escapeHTML","transformItems"];function Iy(){return Iy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iy.apply(this,arguments)}function qz(t,e){if(t==null)return{};var n=Qz(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qz(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Kz(t){var e=t.escapeHTML,n=t.transformItems,r=qz(t,zz),i=YW({escapeHTML:e,transformItems:n},{$$widgetType:"ais.hits"}),s=i.hits,o=i.sendEvent,a={hits:s,sendEvent:o};return ie.createElement(Wz,Iy({},r,a))}var Gz=["pages","currentPage","nbPages","isFirstPage","isLastPage","showFirst","showPrevious","showNext","showLast","createURL","onNavigate","translations","classNames"],Yz=["isDisabled","className","classNames","href","onClick"];function sc(){return sc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sc.apply(this,arguments)}function dC(t,e){if(t==null)return{};var n=Jz(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jz(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Xz(t){var e=t.pages,n=t.currentPage,r=t.nbPages,i=t.isFirstPage,s=t.isLastPage,o=t.showFirst,a=o===void 0?!0:o,u=t.showPrevious,l=u===void 0?!0:u,c=t.showNext,h=c===void 0?!0:c,f=t.showLast,d=f===void 0?!0:f,y=t.createURL,g=t.onNavigate,_=t.translations,m=t.classNames,p=m===void 0?{}:m,w=dC(t,Gz),I=0,k=n-1,P=n+1,A=r-1;return ie.createElement("div",sc({},w,{className:me("ais-Pagination",p.root,r<=1&&me("ais-Pagination--noRefinement",p.noRefinementRoot),w.className)}),ie.createElement("ul",{className:me("ais-Pagination-list",p.list)},a&&ie.createElement(_u,{isDisabled:i,className:me("ais-Pagination-item--firstPage",p.firstPageItem),classNames:p,"aria-label":_.firstPageItemAriaLabel,href:y(I),onClick:function(){return g(I)}},_.firstPageItemText),l&&ie.createElement(_u,{isDisabled:i,className:me("ais-Pagination-item--previousPage",p.previousPageItem),classNames:p,"aria-label":_.previousPageItemAriaLabel,href:y(k),onClick:function(){return g(k)}},_.previousPageItemText),e.map(function(N){return ie.createElement(_u,{key:N,isDisabled:!1,className:me("ais-Pagination-item--page",p.pageItem,N===n&&me("ais-Pagination-item--selected",p.selectedItem)),classNames:p,"aria-label":_.pageItemAriaLabel({currentPage:N+1,nbPages:r}),href:y(N),onClick:function(){return g(N)}},_.pageItemText({currentPage:N+1,nbPages:r}))}),h&&ie.createElement(_u,{isDisabled:s,className:me("ais-Pagination-item--nextPage",p.nextPageItem),classNames:p,"aria-label":_.nextPageItemAriaLabel,href:y(P),onClick:function(){return g(P)}},_.nextPageItemText),d&&ie.createElement(_u,{isDisabled:s,className:me("ais-Pagination-item--lastPage",p.lastPageItem),classNames:p,"aria-label":_.lastPageItemAriaLabel,href:y(A),onClick:function(){return g(A)}},_.lastPageItemText)))}function _u(t){var e=t.isDisabled,n=t.className,r=t.classNames,i=t.href,s=t.onClick,o=dC(t,Yz);return e?ie.createElement("li",{className:me("ais-Pagination-item",r.item,"ais-Pagination-item--disabled",r.disabledItem,n)},ie.createElement("span",sc({className:me("ais-Pagination-link",r.link)},o))):ie.createElement("li",{className:me("ais-Pagination-item",r.item,n)},ie.createElement("a",sc({className:me("ais-Pagination-link",r.link),href:i,onClick:function(u){Cz(u)||(u.preventDefault(),s(u))}},o)))}function oc(t){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oc(t)}var Zz=["showFirst","showPrevious","showNext","showLast","padding","totalPages","translations"];function by(){return by=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},by.apply(this,arguments)}function DT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DT(Object(n),!0).forEach(function(r){tq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tq(t,e,n){return e=nq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nq(t){var e=rq(t,"string");return oc(e)==="symbol"?e:String(e)}function rq(t,e){if(oc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(oc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iq(t,e){if(t==null)return{};var n=sq(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sq(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function oq(t){var e=t.showFirst,n=t.showPrevious,r=t.showNext,i=t.showLast,s=t.padding,o=t.totalPages,a=t.translations,u=iq(t,Zz),l=az({padding:s,totalPages:o},{$$widgetType:"ais.pagination"}),c=l.pages,h=l.currentRefinement,f=l.isFirstPage,d=l.isLastPage,y=l.nbPages,g=l.createURL,_=l.refine,m={pages:c,currentPage:h,isFirstPage:f,isLastPage:d,nbPages:y,createURL:g,onNavigate:_,translations:eq({firstPageItemText:"‹‹",previousPageItemText:"‹",nextPageItemText:"›",lastPageItemText:"››",pageItemText:function(w){var I=w.currentPage;return String(I)},firstPageItemAriaLabel:"First Page",previousPageItemAriaLabel:"Previous Page",nextPageItemAriaLabel:"Next Page",lastPageItemAriaLabel:"Last Page, Page ".concat(y),pageItemAriaLabel:function(w){var I=w.currentPage;return"Page ".concat(I)}},a)};return ie.createElement(Xz,by({},u,m,{showFirst:e,showPrevious:n,showNext:r,showLast:i}))}var aq=["canRefine","items","onRefine","query","searchBox","noResults","showMore","canToggleShowMore","onToggleShowMore","isShowingMore","className","classNames","translations"];function Ay(){return Ay=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ay.apply(this,arguments)}function uq(t,e){if(t==null)return{};var n=lq(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lq(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function cq(t){var e=t.canRefine,n=t.items,r=t.onRefine,i=t.query,s=t.searchBox,o=t.noResults,a=t.showMore,u=t.canToggleShowMore,l=t.onToggleShowMore,c=t.isShowingMore,h=t.className,f=t.classNames,d=f===void 0?{}:f,y=t.translations,g=uq(t,aq);return ie.createElement("div",Ay({},g,{className:me("ais-RefinementList",d.root,!e&&me("ais-RefinementList--noRefinement",d.noRefinementRoot),h)}),s&&ie.createElement("div",{className:me("ais-RefinementList-searchBox",d.searchBox)},s),o?ie.createElement("div",{className:me("ais-RefinementList-noResults",d.noResults)},o):ie.createElement("ul",{className:me("ais-RefinementList-list",d.list)},n.map(function(_){return ie.createElement("li",{key:_.value,className:me("ais-RefinementList-item",d.item,_.isRefined&&me("ais-RefinementList-item--selected",d.selectedItem))},ie.createElement("label",{className:me("ais-RefinementList-label",d.label)},ie.createElement("input",{checked:_.isRefined,className:me("ais-RefinementList-checkbox",d.checkbox),type:"checkbox",value:_.value,onChange:function(){r(_)}}),ie.createElement("span",{className:me("ais-RefinementList-labelText",d.labelText)},i.length>0?ie.createElement(Vz,{parts:[t0(xO(_.highlighted||""))]}):_.label),ie.createElement("span",{className:me("ais-RefinementList-count",d.count)},_.count)))})),a&&ie.createElement(Dz,{className:me("ais-RefinementList-showMore",d.showMore,!u&&me("ais-RefinementList-showMore--disabled",d.disabledShowMore)),disabled:!u,onClick:l,isShowingMore:c,translations:y}))}var hq=["formRef","inputRef","isSearchStalled","onChange","onReset","onSubmit","placeholder","value","autoFocus","resetIconComponent","submitIconComponent","loadingIconComponent","classNames","translations"];function Oy(){return Oy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oy.apply(this,arguments)}function fq(t,e){if(t==null)return{};var n=dq(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dq(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var pq=ie.createElement("path",{d:"M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z"});function mq(t){var e=t.classNames;return ie.createElement("svg",{className:me("ais-SearchBox-submitIcon",e.submitIcon),width:"10",height:"10",viewBox:"0 0 40 40","aria-hidden":"true"},pq)}var gq=ie.createElement("path",{d:"M8.114 10L.944 2.83 0 1.885 1.886 0l.943.943L10 8.113l7.17-7.17.944-.943L20 1.886l-.943.943-7.17 7.17 7.17 7.17.943.944L18.114 20l-.943-.943-7.17-7.17-7.17 7.17-.944.943L0 18.114l.943-.943L8.113 10z"});function yq(t){var e=t.classNames;return ie.createElement("svg",{className:me("ais-SearchBox-resetIcon",e.resetIcon),viewBox:"0 0 20 20",width:"10",height:"10","aria-hidden":"true"},gq)}var vq=ie.createElement("g",{fill:"none",fillRule:"evenodd"},ie.createElement("g",{transform:"translate(1 1)",strokeWidth:"2"},ie.createElement("circle",{strokeOpacity:".5",cx:"18",cy:"18",r:"18"}),ie.createElement("path",{d:"M36 18c0-9.94-8.06-18-18-18"},ie.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"}))));function _q(t){var e=t.classNames;return ie.createElement("svg",{"aria-label":"Results are loading",width:"16",height:"16",viewBox:"0 0 38 38",stroke:"#444",className:me("ais-SearchBox-loadingIcon",e.loadingIcon),"aria-hidden":"true"},vq)}function pC(t){var e=t.formRef,n=t.inputRef,r=t.isSearchStalled,i=t.onChange,s=t.onReset,o=t.onSubmit,a=t.placeholder,u=a===void 0?"":a,l=t.value,c=t.autoFocus,h=t.resetIconComponent,f=h===void 0?yq:h,d=t.submitIconComponent,y=d===void 0?mq:d,g=t.loadingIconComponent,_=g===void 0?_q:g,m=t.classNames,p=m===void 0?{}:m,w=t.translations,I=fq(t,hq);function k(A){A.preventDefault(),A.stopPropagation(),o&&o(A),n.current&&n.current.blur()}function P(A){A.preventDefault(),A.stopPropagation(),s(A),n.current&&n.current.focus()}return ie.createElement("div",Oy({},I,{className:me("ais-SearchBox",p.root,I.className)}),ie.createElement("form",{ref:e,action:"",className:me("ais-SearchBox-form",p.form),noValidate:!0,onSubmit:k,onReset:P,role:"search"},ie.createElement("input",{ref:n,className:me("ais-SearchBox-input",p.input),"aria-label":"Search",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",placeholder:u,spellCheck:!1,maxLength:512,type:"search",value:l,onChange:i,onCompositionEnd:i,autoFocus:c}),ie.createElement("button",{className:me("ais-SearchBox-submit",p.submit),type:"submit",title:w.submitButtonTitle},ie.createElement(y,{classNames:p})),ie.createElement("button",{className:me("ais-SearchBox-reset",p.reset),type:"reset",title:w.resetButtonTitle,hidden:l.length===0||r},ie.createElement(f,{classNames:p})),ie.createElement("span",{className:me("ais-SearchBox-loadingIndicator",p.loadingIndicator),hidden:!r},ie.createElement(_,{classNames:p}))))}function ac(t){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ac(t)}var wq=["searchable","searchablePlaceholder","attribute","operator","limit","showMore","showMoreLimit","sortBy","escapeFacetValues","transformItems","translations"];function Cy(){return Cy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cy.apply(this,arguments)}function jT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Eq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jT(Object(n),!0).forEach(function(r){Sq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sq(t,e,n){return e=Tq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tq(t){var e=Pq(t,"string");return ac(e)==="symbol"?e:String(e)}function Pq(t,e){if(ac(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ac(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rq(t,e){return Oq(t)||Aq(t,e)||bq(t,e)||Iq()}function Iq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bq(t,e){if(t){if(typeof t=="string")return FT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FT(t,e)}}function FT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Aq(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],u=!0,l=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return a}}function Oq(t){if(Array.isArray(t))return t}function Cq(t,e){if(t==null)return{};var n=xq(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xq(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Th(t){var e=t.searchable,n=t.searchablePlaceholder,r=t.attribute,i=t.operator,s=t.limit,o=t.showMore,a=t.showMoreLimit,u=t.sortBy,l=t.escapeFacetValues,c=t.transformItems,h=t.translations,f=Cq(t,wq),d=gz({attribute:r,operator:i,limit:s,showMore:o,showMoreLimit:a,sortBy:u,escapeFacetValues:l,transformItems:c},{$$widgetType:"ais.refinementList"}),y=d.canRefine,g=d.canToggleShowMore,_=d.isFromSearch,m=d.isShowingMore,p=d.items,w=d.refine,I=d.searchForItems,k=d.toggleShowMore,P=O.useState(""),A=Rq(P,2),N=A[0],V=A[1],M=O.useRef(null);function L(D){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;V(D),W&&I(D)}function ye(D){w(D.value),L("")}function Pe(D){var W=D.type==="compositionend"||!D.nativeEvent.isComposing;L(D.currentTarget.value,W)}function Le(){L("")}function Be(){p.length>0&&(w(p[0].value),L(""))}var He=Eq({resetButtonTitle:"Clear the search query",submitButtonTitle:"Submit the search query",noResultsText:"No results.",showMoreButtonText:function(W){return W.isShowingMore?"Show less":"Show more"}},h),ne={items:p,canRefine:y,onRefine:ye,query:N,searchBox:e&&ie.createElement(pC,{inputRef:M,placeholder:n,isSearchStalled:!1,value:N,onChange:Pe,onReset:Le,onSubmit:Be,translations:{submitButtonTitle:He.submitButtonTitle,resetButtonTitle:He.resetButtonTitle}}),noResults:e&&_&&p.length===0&&He.noResultsText,canToggleShowMore:g,onToggleShowMore:k,isShowingMore:m,translations:{showMoreButtonText:He.showMoreButtonText}};return ie.createElement(cq,Cy({},f,ne,{showMore:o}))}function uc(t){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uc(t)}var kq=["queryHook","searchAsYouType","ignoreCompositionEvents","translations"];function xy(){return xy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xy.apply(this,arguments)}function LT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LT(Object(n),!0).forEach(function(r){Dq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dq(t,e,n){return e=jq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jq(t){var e=Fq(t,"string");return uc(e)==="symbol"?e:String(e)}function Fq(t,e){if(uc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(uc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lq(t,e){return Uq(t)||$q(t,e)||Vq(t,e)||Mq()}function Mq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vq(t,e){if(t){if(typeof t=="string")return MT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MT(t,e)}}function MT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $q(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],u=!0,l=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return a}}function Uq(t){if(Array.isArray(t))return t}function Bq(t,e){if(t==null)return{};var n=Hq(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hq(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Wq(t){var e=t.queryHook,n=t.searchAsYouType,r=n===void 0?!0:n,i=t.ignoreCompositionEvents,s=i===void 0?!1:i,o=t.translations,a=Bq(t,kq),u=Pz({queryHook:e},{$$widgetType:"ais.searchBox"}),l=u.query,c=u.refine,h=u.isSearchStalled,f=O.useState(l),d=Lq(f,2),y=d[0],g=d[1],_=O.useRef(null);function m(P){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;g(P),r&&!(s&&A)&&c(P)}function p(){m(""),r||c("")}function w(P){m(P.currentTarget.value,P.nativeEvent.isComposing)}function I(P){r||c(y),a.onSubmit&&a.onSubmit(P)}l!==y&&document.activeElement!==_.current&&g(l);var k={inputRef:_,isSearchStalled:h,onChange:w,onReset:p,onSubmit:I,value:y,translations:Nq({submitButtonTitle:"Submit the search query",resetButtonTitle:"Clear the search query"},o)};return ie.createElement(pC,xy({},a,k))}function Ph({header:t,children:e}){return T.jsxs("div",{className:"ais-Panel",children:[T.jsx("div",{className:"ais-Panel-header",children:T.jsx("span",{children:t})}),T.jsx("div",{className:"ais-Panel-body",children:e})]})}const zq=UA;function qq(){const t=Aa().search,e=lO.parse(t);var n="";e.query&&(n=e.query);const r=localStorage.getItem("currentTheme"),[i,s]=O.useState(r||"dark");return O.useEffect(()=>{localStorage.setItem("currentTheme",i)},[i]),T.jsxs("div",{className:"container search "+i,children:[T.jsx(ao,{theme:i,setTheme:s}),T.jsxs(WW,{indexName:"asu_mecha",searchClient:zq,insights:!0,initialUiState:{asu_mecha:{query:n}},children:[T.jsx(T9,{hitsPerPage:8}),T.jsxs("div",{className:"search-panel",children:[T.jsxs("div",{className:"search-panel__filters",children:[T.jsx("h1",{children:"Filter"}),T.jsx("br",{}),T.jsx(Wq,{className:"searchbox",placeholder:"Search"}),T.jsx(Ph,{header:"Grade",children:T.jsx(Th,{attribute:"Grade"})}),T.jsx("br",{}),T.jsx(Ph,{header:"Semester",children:T.jsx(Th,{attribute:"Semester"})}),T.jsx("br",{}),T.jsx(Ph,{header:"Course",children:T.jsx(Th,{attribute:"CourseName"})}),T.jsx("br",{}),T.jsx(Ph,{header:"Category",children:T.jsx(Th,{attribute:"Category"})})]}),T.jsxs("div",{className:"search-panel__results",children:[T.jsx("h1",{children:"Results"}),T.jsx(Kz,{hitComponent:Qq}),T.jsx("div",{className:"pagination",children:T.jsx(oq,{})})]})]})]})]})}function Qq({hit:t}){return T.jsx(_3,{doc:t,theme:localStorage.getItem("currentTheme")})}function Kq(){return T.jsxs(nD,{children:[T.jsx(gs,{path:"/",element:T.jsx(C3,{})}),T.jsx(gs,{path:"/upload",element:T.jsx(q3,{})}),T.jsx(gs,{path:"/courses",element:T.jsx(G3,{})}),T.jsx(gs,{path:"/search",element:T.jsx(oB,{})}),T.jsx(gs,{path:"/feedback",element:T.jsx(lB,{})}),T.jsx(gs,{path:"/search-page",element:T.jsx(qq,{})})]})}const Gq=lD([{path:"/*",element:T.jsx(Kq,{})}]);bm.createRoot(document.getElementById("root")).render(T.jsx(ie.StrictMode,{children:T.jsx(vD,{router:Gq})}));
